# Lightning Talk Circle - Production Environment Configuration
# Updated with new secure Cognito credentials

# Application Configuration
NODE_ENV=production
PORT=3000
SITE_NAME="なんでもライトニングトーク"
SITE_URL="https://xn--6wym69a.com"

# Database Configuration - AWS DynamoDB (Production)
DATABASE_TYPE=dynamodb
AWS_REGION=ap-northeast-1
DYNAMODB_EVENTS_TABLE=lightningtalk-circle-prod-events
DYNAMODB_PARTICIPANTS_TABLE=lightningtalk-circle-prod-participants
DYNAMODB_USERS_TABLE=lightningtalk-circle-prod-users
DYNAMODB_TALKS_TABLE=lightningtalk-circle-prod-talks
DYNAMODB_AI_IMAGES_TABLE=lightningtalk-circle-prod-ai-images

# NEW AWS Cognito Authentication (Rotated 2025-07-22)
COGNITO_USER_POOL_ID=ap-northeast-1_IG3yOKBmT
COGNITO_CLIENT_ID=42u3ma63qf01utk4jcd6pn9l8s
COGNITO_REGION=ap-northeast-1
COGNITO_DOMAIN=lightningtalk-secure-1738054592.auth.ap-northeast-1.amazoncognito.com
COGNITO_IDENTITY_POOL_ID=ap-northeast-1:f570516d-a516-49ca-bb11-71477a976d8c

# Frontend Environment Variables
VITE_USER_POOL_ID=ap-northeast-1_IG3yOKBmT
VITE_USER_POOL_CLIENT_ID=42u3ma63qf01utk4jcd6pn9l8s
VITE_IDENTITY_POOL_ID=ap-northeast-1:f570516d-a516-49ca-bb11-71477a976d8c
VITE_COGNITO_DOMAIN=lightningtalk-secure-1738054592.auth.ap-northeast-1.amazoncognito.com
VITE_AWS_REGION=ap-northeast-1

# API Endpoint (Production)
API_ENDPOINT=https://9qyaz7n47j.execute-api.ap-northeast-1.amazonaws.com/prod/api

# Security - Retrieved from AWS Secrets Manager
# ARN: arn:aws:secretsmanager:ap-northeast-1:822063948773:secret:lightningtalk-cognito-credentials-r8EHfp
JWT_SECRET=${JWT_SECRET}
SESSION_SECRET=${SESSION_SECRET}
JWT_EXPIRES_IN=24h

# Google OAuth (Production) - Store Client Secret in AWS Secrets Manager
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# Note: GOOGLE_CLIENT_SECRET should be stored in AWS Secrets Manager

# Email Configuration (Production)
EMAIL_ENABLED=true
EMAIL_SERVICE=aws-ses
EMAIL_FROM="noreply@xn--6wym69a.com"
AWS_SES_REGION=ap-northeast-1

# GitHub Integration (Optional - for issue automation)
GITHUB_TOKEN=${GITHUB_TOKEN}
GITHUB_OWNER=20m61
GITHUB_REPO=lightningtalk-circle

# CORS Configuration
CORS_ORIGINS=https://xn--6wym69a.com,https://www.xn--6wym69a.com

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
REGISTRATION_LIMIT_PER_HOUR=5

# Feature Flags
AUTO_MERGE=false
REQUIRE_REVIEW=true
REQUIRE_STATUS_CHECKS=true
SEND_REMINDER_EMAILS=true
SEND_CONFIRMATION_EMAILS=true

# External Services
FEEDBACK_URL=https://docs.google.com/forms/your-form-id
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# AWS-Only Mode (AI Services)
AI_SERVICES_ENABLED=false
AWS_BEDROCK_ENABLED=false

# Monitoring and Logging
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_CLOUDWATCH_LOGS=true
CLOUDWATCH_LOG_GROUP=/aws/lambda/lightningtalk-circle
ENABLE_CLOUDWATCH_METRICS=true
CLOUDWATCH_NAMESPACE=LightningTalkCircle/Application
MONITORING_ENABLED=true
MONITORING_INTERVAL=30000

# Performance
MAX_PAYLOAD_SIZE=50mb
REQUEST_TIMEOUT=30000
ENABLE_COMPRESSION=true

# SSL/TLS
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true

# Content Security Policy
CSP_REPORT_URI=https://your-csp-report-endpoint.com/report

# Cache Configuration
REDIS_URL=
CACHE_TTL=3600

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30

# Deployment Information
DEPLOYMENT_ENVIRONMENT=production
DEPLOYMENT_VERSION=
DEPLOYMENT_TIMESTAMP=