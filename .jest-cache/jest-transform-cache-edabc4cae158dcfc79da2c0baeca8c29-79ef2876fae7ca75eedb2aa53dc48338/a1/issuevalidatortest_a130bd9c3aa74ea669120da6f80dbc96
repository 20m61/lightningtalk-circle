af47f45e3b9de224330fc668f3be5637
/**
 * Issue バリデーター ユニットテスト
 */

import { describe, it, expect, beforeEach } from '@jest/globals';
import { issueFixtures, generateTestIssue } from '../fixtures/issues.js';

// バリデーター関数（実装予定）
function validateIssue(issue) {
  if (!issue) {
    throw new Error('Issue is required');
  }
  if (!issue.title || typeof issue.title !== 'string' || issue.title.trim() === '') {
    throw new Error('Issue title is required');
  }
  if (!issue.description || typeof issue.description !== 'string' || issue.description.trim() === '') {
    throw new Error('Issue description is required');
  }
  if (!Array.isArray(issue.labels) || issue.labels.length === 0) {
    throw new Error('Issue must have at least one label');
  }
  const validPriorities = ['low', 'medium', 'high'];
  if (!issue.priority || !validPriorities.includes(issue.priority)) {
    throw new Error('Issue must have a valid priority (low, medium, high)');
  }
  return true;
}
function validateIssueLabels(labels) {
  if (!Array.isArray(labels)) {
    return false;
  }

  // 必須ラベルの検証
  const hasTypeLabel = labels.some(label => ['bug', 'enhancement', 'documentation', 'infrastructure'].includes(label));
  const hasPriorityLabel = labels.some(label => ['low-priority', 'medium-priority', 'high-priority'].includes(label));
  return hasTypeLabel && hasPriorityLabel;
}
describe('Issue Validator', () => {
  describe('validateIssue', () => {
    it('should validate a valid issue structure', () => {
      const validIssue = issueFixtures.valid.infrastructure;
      expect(() => validateIssue(validIssue)).not.toThrow();
      expect(validateIssue(validIssue)).toBe(true);
    });
    it('should reject issue without title', () => {
      const invalidIssue = issueFixtures.invalid.missingTitle;
      expect(() => validateIssue(invalidIssue)).toThrow('Issue title is required');
    });
    it('should reject issue without description', () => {
      const invalidIssue = issueFixtures.invalid.missingDescription;
      expect(() => validateIssue(invalidIssue)).toThrow('Issue description is required');
    });
    it('should reject issue with empty labels', () => {
      const invalidIssue = issueFixtures.invalid.emptyLabels;
      expect(() => validateIssue(invalidIssue)).toThrow('Issue must have at least one label');
    });
    it('should reject issue with invalid priority', () => {
      const invalidIssue = issueFixtures.invalid.invalidPriority;
      expect(() => validateIssue(invalidIssue)).toThrow('Issue must have a valid priority (low, medium, high)');
    });
    it('should reject null or undefined issue', () => {
      expect(() => validateIssue(null)).toThrow('Issue is required');
      expect(() => validateIssue(undefined)).toThrow('Issue is required');
    });
    it('should reject issue with empty title', () => {
      const issueWithEmptyTitle = {
        ...issueFixtures.valid.infrastructure,
        title: ''
      };
      expect(() => validateIssue(issueWithEmptyTitle)).toThrow('Issue title is required');
    });
    it('should reject issue with whitespace-only title', () => {
      const issueWithWhitespaceTitle = {
        ...issueFixtures.valid.infrastructure,
        title: '   '
      };
      expect(() => validateIssue(issueWithWhitespaceTitle)).toThrow('Issue title is required');
    });
  });
  describe('validateIssueLabels', () => {
    it('should validate labels with type and priority', () => {
      const validLabels = ['enhancement', 'frontend', 'high-priority'];
      expect(validateIssueLabels(validLabels)).toBe(true);
    });
    it('should reject labels without type', () => {
      const labelsWithoutType = ['frontend', 'high-priority'];
      expect(validateIssueLabels(labelsWithoutType)).toBe(false);
    });
    it('should reject labels without priority', () => {
      const labelsWithoutPriority = ['enhancement', 'frontend'];
      expect(validateIssueLabels(labelsWithoutPriority)).toBe(false);
    });
    it('should reject non-array labels', () => {
      expect(validateIssueLabels('not-array')).toBe(false);
      expect(validateIssueLabels(null)).toBe(false);
      expect(validateIssueLabels(undefined)).toBe(false);
    });
  });
  describe('Edge Cases', () => {
    it('should handle very long titles', () => {
      const longTitle = 'A'.repeat(1000);
      const issueWithLongTitle = generateTestIssue({
        title: longTitle
      });
      expect(() => validateIssue(issueWithLongTitle)).not.toThrow();
    });
    it('should handle special characters in title', () => {
      const specialTitle = 'Fix #123: Handle UTF-8 characters 日本語 🚀';
      const issueWithSpecialTitle = generateTestIssue({
        title: specialTitle
      });
      expect(() => validateIssue(issueWithSpecialTitle)).not.toThrow();
    });
    it('should handle multiple labels of same type', () => {
      const multipleLabels = ['enhancement', 'bug', 'high-priority', 'medium-priority'];
      const issueWithMultipleLabels = generateTestIssue({
        labels: multipleLabels
      });
      expect(() => validateIssue(issueWithMultipleLabels)).not.toThrow();
    });
  });
  describe('Custom Matchers', () => {
    it('should use custom toBeValidIssue matcher', () => {
      const validIssue = issueFixtures.valid.feature;
      expect(validIssue).toBeValidIssue();
    });
    it('should fail custom matcher for invalid issue', () => {
      const invalidIssue = issueFixtures.invalid.missingTitle;
      expect(invalidIssue).not.toBeValidIssue();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwiZXhwZWN0IiwiYmVmb3JlRWFjaCIsImlzc3VlRml4dHVyZXMiLCJnZW5lcmF0ZVRlc3RJc3N1ZSIsInZhbGlkYXRlSXNzdWUiLCJpc3N1ZSIsIkVycm9yIiwidGl0bGUiLCJ0cmltIiwiZGVzY3JpcHRpb24iLCJBcnJheSIsImlzQXJyYXkiLCJsYWJlbHMiLCJsZW5ndGgiLCJ2YWxpZFByaW9yaXRpZXMiLCJwcmlvcml0eSIsImluY2x1ZGVzIiwidmFsaWRhdGVJc3N1ZUxhYmVscyIsImhhc1R5cGVMYWJlbCIsInNvbWUiLCJsYWJlbCIsImhhc1ByaW9yaXR5TGFiZWwiLCJ2YWxpZElzc3VlIiwidmFsaWQiLCJpbmZyYXN0cnVjdHVyZSIsIm5vdCIsInRvVGhyb3ciLCJ0b0JlIiwiaW52YWxpZElzc3VlIiwiaW52YWxpZCIsIm1pc3NpbmdUaXRsZSIsIm1pc3NpbmdEZXNjcmlwdGlvbiIsImVtcHR5TGFiZWxzIiwiaW52YWxpZFByaW9yaXR5IiwidW5kZWZpbmVkIiwiaXNzdWVXaXRoRW1wdHlUaXRsZSIsImlzc3VlV2l0aFdoaXRlc3BhY2VUaXRsZSIsInZhbGlkTGFiZWxzIiwibGFiZWxzV2l0aG91dFR5cGUiLCJsYWJlbHNXaXRob3V0UHJpb3JpdHkiLCJsb25nVGl0bGUiLCJyZXBlYXQiLCJpc3N1ZVdpdGhMb25nVGl0bGUiLCJzcGVjaWFsVGl0bGUiLCJpc3N1ZVdpdGhTcGVjaWFsVGl0bGUiLCJtdWx0aXBsZUxhYmVscyIsImlzc3VlV2l0aE11bHRpcGxlTGFiZWxzIiwiZmVhdHVyZSIsInRvQmVWYWxpZElzc3VlIl0sInNvdXJjZXMiOlsiaXNzdWUtdmFsaWRhdG9yLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJc3N1ZSDjg5Djg6rjg4fjg7zjgr/jg7wg44Om44OL44OD44OI44OG44K544OIXG4gKi9cblxuaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGJlZm9yZUVhY2ggfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IGlzc3VlRml4dHVyZXMsIGdlbmVyYXRlVGVzdElzc3VlIH0gZnJvbSAnLi4vZml4dHVyZXMvaXNzdWVzLmpzJztcblxuLy8g44OQ44Oq44OH44O844K/44O86Zai5pWw77yI5a6f6KOF5LqI5a6a77yJXG5mdW5jdGlvbiB2YWxpZGF0ZUlzc3VlKGlzc3VlKSB7XG4gIGlmICghaXNzdWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0lzc3VlIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgXG4gIGlmICghaXNzdWUudGl0bGUgfHwgdHlwZW9mIGlzc3VlLnRpdGxlICE9PSAnc3RyaW5nJyB8fCBpc3N1ZS50aXRsZS50cmltKCkgPT09ICcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJc3N1ZSB0aXRsZSBpcyByZXF1aXJlZCcpO1xuICB9XG4gIFxuICBpZiAoIWlzc3VlLmRlc2NyaXB0aW9uIHx8IHR5cGVvZiBpc3N1ZS5kZXNjcmlwdGlvbiAhPT0gJ3N0cmluZycgfHwgaXNzdWUuZGVzY3JpcHRpb24udHJpbSgpID09PSAnJykge1xuICAgIHRocm93IG5ldyBFcnJvcignSXNzdWUgZGVzY3JpcHRpb24gaXMgcmVxdWlyZWQnKTtcbiAgfVxuICBcbiAgaWYgKCFBcnJheS5pc0FycmF5KGlzc3VlLmxhYmVscykgfHwgaXNzdWUubGFiZWxzLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSXNzdWUgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBsYWJlbCcpO1xuICB9XG4gIFxuICBjb25zdCB2YWxpZFByaW9yaXRpZXMgPSBbJ2xvdycsICdtZWRpdW0nLCAnaGlnaCddO1xuICBpZiAoIWlzc3VlLnByaW9yaXR5IHx8ICF2YWxpZFByaW9yaXRpZXMuaW5jbHVkZXMoaXNzdWUucHJpb3JpdHkpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJc3N1ZSBtdXN0IGhhdmUgYSB2YWxpZCBwcmlvcml0eSAobG93LCBtZWRpdW0sIGhpZ2gpJyk7XG4gIH1cbiAgXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUlzc3VlTGFiZWxzKGxhYmVscykge1xuICBpZiAoIUFycmF5LmlzQXJyYXkobGFiZWxzKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgLy8g5b+F6aCI44Op44OZ44Or44Gu5qSc6Ki8XG4gIGNvbnN0IGhhc1R5cGVMYWJlbCA9IGxhYmVscy5zb21lKGxhYmVsID0+IFxuICAgIFsnYnVnJywgJ2VuaGFuY2VtZW50JywgJ2RvY3VtZW50YXRpb24nLCAnaW5mcmFzdHJ1Y3R1cmUnXS5pbmNsdWRlcyhsYWJlbClcbiAgKTtcbiAgXG4gIGNvbnN0IGhhc1ByaW9yaXR5TGFiZWwgPSBsYWJlbHMuc29tZShsYWJlbCA9PiBcbiAgICBbJ2xvdy1wcmlvcml0eScsICdtZWRpdW0tcHJpb3JpdHknLCAnaGlnaC1wcmlvcml0eSddLmluY2x1ZGVzKGxhYmVsKVxuICApO1xuICBcbiAgcmV0dXJuIGhhc1R5cGVMYWJlbCAmJiBoYXNQcmlvcml0eUxhYmVsO1xufVxuXG5kZXNjcmliZSgnSXNzdWUgVmFsaWRhdG9yJywgKCkgPT4ge1xuICBkZXNjcmliZSgndmFsaWRhdGVJc3N1ZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIGEgdmFsaWQgaXNzdWUgc3RydWN0dXJlJywgKCkgPT4ge1xuICAgICAgY29uc3QgdmFsaWRJc3N1ZSA9IGlzc3VlRml4dHVyZXMudmFsaWQuaW5mcmFzdHJ1Y3R1cmU7XG4gICAgICBleHBlY3QoKCkgPT4gdmFsaWRhdGVJc3N1ZSh2YWxpZElzc3VlKSkubm90LnRvVGhyb3coKTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0ZUlzc3VlKHZhbGlkSXNzdWUpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgaXNzdWUgd2l0aG91dCB0aXRsZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGludmFsaWRJc3N1ZSA9IGlzc3VlRml4dHVyZXMuaW52YWxpZC5taXNzaW5nVGl0bGU7XG4gICAgICBleHBlY3QoKCkgPT4gdmFsaWRhdGVJc3N1ZShpbnZhbGlkSXNzdWUpKVxuICAgICAgICAudG9UaHJvdygnSXNzdWUgdGl0bGUgaXMgcmVxdWlyZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGlzc3VlIHdpdGhvdXQgZGVzY3JpcHRpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkSXNzdWUgPSBpc3N1ZUZpeHR1cmVzLmludmFsaWQubWlzc2luZ0Rlc2NyaXB0aW9uO1xuICAgICAgZXhwZWN0KCgpID0+IHZhbGlkYXRlSXNzdWUoaW52YWxpZElzc3VlKSlcbiAgICAgICAgLnRvVGhyb3coJ0lzc3VlIGRlc2NyaXB0aW9uIGlzIHJlcXVpcmVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpc3N1ZSB3aXRoIGVtcHR5IGxhYmVscycsICgpID0+IHtcbiAgICAgIGNvbnN0IGludmFsaWRJc3N1ZSA9IGlzc3VlRml4dHVyZXMuaW52YWxpZC5lbXB0eUxhYmVscztcbiAgICAgIGV4cGVjdCgoKSA9PiB2YWxpZGF0ZUlzc3VlKGludmFsaWRJc3N1ZSkpXG4gICAgICAgIC50b1Rocm93KCdJc3N1ZSBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIGxhYmVsJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpc3N1ZSB3aXRoIGludmFsaWQgcHJpb3JpdHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkSXNzdWUgPSBpc3N1ZUZpeHR1cmVzLmludmFsaWQuaW52YWxpZFByaW9yaXR5O1xuICAgICAgZXhwZWN0KCgpID0+IHZhbGlkYXRlSXNzdWUoaW52YWxpZElzc3VlKSlcbiAgICAgICAgLnRvVGhyb3coJ0lzc3VlIG11c3QgaGF2ZSBhIHZhbGlkIHByaW9yaXR5IChsb3csIG1lZGl1bSwgaGlnaCknKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IG51bGwgb3IgdW5kZWZpbmVkIGlzc3VlJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KCgpID0+IHZhbGlkYXRlSXNzdWUobnVsbCkpLnRvVGhyb3coJ0lzc3VlIGlzIHJlcXVpcmVkJyk7XG4gICAgICBleHBlY3QoKCkgPT4gdmFsaWRhdGVJc3N1ZSh1bmRlZmluZWQpKS50b1Rocm93KCdJc3N1ZSBpcyByZXF1aXJlZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgaXNzdWUgd2l0aCBlbXB0eSB0aXRsZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzc3VlV2l0aEVtcHR5VGl0bGUgPSB7XG4gICAgICAgIC4uLmlzc3VlRml4dHVyZXMudmFsaWQuaW5mcmFzdHJ1Y3R1cmUsXG4gICAgICAgIHRpdGxlOiAnJ1xuICAgICAgfTtcbiAgICAgIGV4cGVjdCgoKSA9PiB2YWxpZGF0ZUlzc3VlKGlzc3VlV2l0aEVtcHR5VGl0bGUpKVxuICAgICAgICAudG9UaHJvdygnSXNzdWUgdGl0bGUgaXMgcmVxdWlyZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGlzc3VlIHdpdGggd2hpdGVzcGFjZS1vbmx5IHRpdGxlJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXNzdWVXaXRoV2hpdGVzcGFjZVRpdGxlID0ge1xuICAgICAgICAuLi5pc3N1ZUZpeHR1cmVzLnZhbGlkLmluZnJhc3RydWN0dXJlLFxuICAgICAgICB0aXRsZTogJyAgICdcbiAgICAgIH07XG4gICAgICBleHBlY3QoKCkgPT4gdmFsaWRhdGVJc3N1ZShpc3N1ZVdpdGhXaGl0ZXNwYWNlVGl0bGUpKVxuICAgICAgICAudG9UaHJvdygnSXNzdWUgdGl0bGUgaXMgcmVxdWlyZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3ZhbGlkYXRlSXNzdWVMYWJlbHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBsYWJlbHMgd2l0aCB0eXBlIGFuZCBwcmlvcml0eScsICgpID0+IHtcbiAgICAgIGNvbnN0IHZhbGlkTGFiZWxzID0gWydlbmhhbmNlbWVudCcsICdmcm9udGVuZCcsICdoaWdoLXByaW9yaXR5J107XG4gICAgICBleHBlY3QodmFsaWRhdGVJc3N1ZUxhYmVscyh2YWxpZExhYmVscykpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBsYWJlbHMgd2l0aG91dCB0eXBlJywgKCkgPT4ge1xuICAgICAgY29uc3QgbGFiZWxzV2l0aG91dFR5cGUgPSBbJ2Zyb250ZW5kJywgJ2hpZ2gtcHJpb3JpdHknXTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0ZUlzc3VlTGFiZWxzKGxhYmVsc1dpdGhvdXRUeXBlKSkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBsYWJlbHMgd2l0aG91dCBwcmlvcml0eScsICgpID0+IHtcbiAgICAgIGNvbnN0IGxhYmVsc1dpdGhvdXRQcmlvcml0eSA9IFsnZW5oYW5jZW1lbnQnLCAnZnJvbnRlbmQnXTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0ZUlzc3VlTGFiZWxzKGxhYmVsc1dpdGhvdXRQcmlvcml0eSkpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3Qgbm9uLWFycmF5IGxhYmVscycsICgpID0+IHtcbiAgICAgIGV4cGVjdCh2YWxpZGF0ZUlzc3VlTGFiZWxzKCdub3QtYXJyYXknKSkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QodmFsaWRhdGVJc3N1ZUxhYmVscyhudWxsKSkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QodmFsaWRhdGVJc3N1ZUxhYmVscyh1bmRlZmluZWQpKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0VkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdmVyeSBsb25nIHRpdGxlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGxvbmdUaXRsZSA9ICdBJy5yZXBlYXQoMTAwMCk7XG4gICAgICBjb25zdCBpc3N1ZVdpdGhMb25nVGl0bGUgPSBnZW5lcmF0ZVRlc3RJc3N1ZSh7IHRpdGxlOiBsb25nVGl0bGUgfSk7XG4gICAgICBleHBlY3QoKCkgPT4gdmFsaWRhdGVJc3N1ZShpc3N1ZVdpdGhMb25nVGl0bGUpKS5ub3QudG9UaHJvdygpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc3BlY2lhbCBjaGFyYWN0ZXJzIGluIHRpdGxlJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3BlY2lhbFRpdGxlID0gJ0ZpeCAjMTIzOiBIYW5kbGUgVVRGLTggY2hhcmFjdGVycyDml6XmnKzoqp4g8J+agCc7XG4gICAgICBjb25zdCBpc3N1ZVdpdGhTcGVjaWFsVGl0bGUgPSBnZW5lcmF0ZVRlc3RJc3N1ZSh7IHRpdGxlOiBzcGVjaWFsVGl0bGUgfSk7XG4gICAgICBleHBlY3QoKCkgPT4gdmFsaWRhdGVJc3N1ZShpc3N1ZVdpdGhTcGVjaWFsVGl0bGUpKS5ub3QudG9UaHJvdygpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbXVsdGlwbGUgbGFiZWxzIG9mIHNhbWUgdHlwZScsICgpID0+IHtcbiAgICAgIGNvbnN0IG11bHRpcGxlTGFiZWxzID0gWydlbmhhbmNlbWVudCcsICdidWcnLCAnaGlnaC1wcmlvcml0eScsICdtZWRpdW0tcHJpb3JpdHknXTtcbiAgICAgIGNvbnN0IGlzc3VlV2l0aE11bHRpcGxlTGFiZWxzID0gZ2VuZXJhdGVUZXN0SXNzdWUoeyBsYWJlbHM6IG11bHRpcGxlTGFiZWxzIH0pO1xuICAgICAgZXhwZWN0KCgpID0+IHZhbGlkYXRlSXNzdWUoaXNzdWVXaXRoTXVsdGlwbGVMYWJlbHMpKS5ub3QudG9UaHJvdygpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ3VzdG9tIE1hdGNoZXJzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdXNlIGN1c3RvbSB0b0JlVmFsaWRJc3N1ZSBtYXRjaGVyJywgKCkgPT4ge1xuICAgICAgY29uc3QgdmFsaWRJc3N1ZSA9IGlzc3VlRml4dHVyZXMudmFsaWQuZmVhdHVyZTtcbiAgICAgIGV4cGVjdCh2YWxpZElzc3VlKS50b0JlVmFsaWRJc3N1ZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmYWlsIGN1c3RvbSBtYXRjaGVyIGZvciBpbnZhbGlkIGlzc3VlJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW52YWxpZElzc3VlID0gaXNzdWVGaXh0dXJlcy5pbnZhbGlkLm1pc3NpbmdUaXRsZTtcbiAgICAgIGV4cGVjdChpbnZhbGlkSXNzdWUpLm5vdC50b0JlVmFsaWRJc3N1ZSgpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBLFNBQVNBLFFBQVEsRUFBRUMsRUFBRSxFQUFFQyxNQUFNLEVBQUVDLFVBQVUsUUFBUSxlQUFlO0FBQ2hFLFNBQVNDLGFBQWEsRUFBRUMsaUJBQWlCLFFBQVEsdUJBQXVCOztBQUV4RTtBQUNBLFNBQVNDLGFBQWFBLENBQUNDLEtBQUssRUFBRTtFQUM1QixJQUFJLENBQUNBLEtBQUssRUFBRTtJQUNWLE1BQU0sSUFBSUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDO0VBQ3RDO0VBRUEsSUFBSSxDQUFDRCxLQUFLLENBQUNFLEtBQUssSUFBSSxPQUFPRixLQUFLLENBQUNFLEtBQUssS0FBSyxRQUFRLElBQUlGLEtBQUssQ0FBQ0UsS0FBSyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtJQUNoRixNQUFNLElBQUlGLEtBQUssQ0FBQyx5QkFBeUIsQ0FBQztFQUM1QztFQUVBLElBQUksQ0FBQ0QsS0FBSyxDQUFDSSxXQUFXLElBQUksT0FBT0osS0FBSyxDQUFDSSxXQUFXLEtBQUssUUFBUSxJQUFJSixLQUFLLENBQUNJLFdBQVcsQ0FBQ0QsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUU7SUFDbEcsTUFBTSxJQUFJRixLQUFLLENBQUMsK0JBQStCLENBQUM7RUFDbEQ7RUFFQSxJQUFJLENBQUNJLEtBQUss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