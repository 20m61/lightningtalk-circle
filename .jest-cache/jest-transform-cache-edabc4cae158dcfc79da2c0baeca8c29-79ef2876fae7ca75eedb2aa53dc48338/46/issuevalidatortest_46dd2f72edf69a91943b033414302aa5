6cf95492d131658d7709c07471068830
"use strict";

var _globals = require("@jest/globals");
var _issues = require("../fixtures/issues.js");
/**
 * Issue ãƒãƒªãƒ‡ãƒ¼ã‚¿ãƒ¼ ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
 */

// ãƒãƒªãƒ‡ãƒ¼ã‚¿ãƒ¼é–¢æ•°ï¼ˆå®Ÿè£…äºˆå®šï¼‰
function validateIssue(issue) {
  if (!issue) {
    throw new Error('Issue is required');
  }
  if (!issue.title || typeof issue.title !== 'string' || issue.title.trim() === '') {
    throw new Error('Issue title is required');
  }
  if (!issue.description || typeof issue.description !== 'string' || issue.description.trim() === '') {
    throw new Error('Issue description is required');
  }
  if (!Array.isArray(issue.labels) || issue.labels.length === 0) {
    throw new Error('Issue must have at least one label');
  }
  const validPriorities = ['low', 'medium', 'high'];
  if (!issue.priority || !validPriorities.includes(issue.priority)) {
    throw new Error('Issue must have a valid priority (low, medium, high)');
  }
  return true;
}
function validateIssueLabels(labels) {
  if (!Array.isArray(labels)) {
    return false;
  }

  // å¿…é ˆãƒ©ãƒ™ãƒ«ã®æ¤œè¨¼
  const hasTypeLabel = labels.some(label => ['bug', 'enhancement', 'documentation', 'infrastructure'].includes(label));
  const hasPriorityLabel = labels.some(label => ['low-priority', 'medium-priority', 'high-priority'].includes(label));
  return hasTypeLabel && hasPriorityLabel;
}
(0, _globals.describe)('Issue Validator', () => {
  (0, _globals.describe)('validateIssue', () => {
    (0, _globals.it)('should validate a valid issue structure', () => {
      const validIssue = _issues.issueFixtures.valid.infrastructure;
      (0, _globals.expect)(() => validateIssue(validIssue)).not.toThrow();
      (0, _globals.expect)(validateIssue(validIssue)).toBe(true);
    });
    (0, _globals.it)('should reject issue without title', () => {
      const invalidIssue = _issues.issueFixtures.invalid.missingTitle;
      (0, _globals.expect)(() => validateIssue(invalidIssue)).toThrow('Issue title is required');
    });
    (0, _globals.it)('should reject issue without description', () => {
      const invalidIssue = _issues.issueFixtures.invalid.missingDescription;
      (0, _globals.expect)(() => validateIssue(invalidIssue)).toThrow('Issue description is required');
    });
    (0, _globals.it)('should reject issue with empty labels', () => {
      const invalidIssue = _issues.issueFixtures.invalid.emptyLabels;
      (0, _globals.expect)(() => validateIssue(invalidIssue)).toThrow('Issue must have at least one label');
    });
    (0, _globals.it)('should reject issue with invalid priority', () => {
      const invalidIssue = _issues.issueFixtures.invalid.invalidPriority;
      (0, _globals.expect)(() => validateIssue(invalidIssue)).toThrow('Issue must have a valid priority (low, medium, high)');
    });
    (0, _globals.it)('should reject null or undefined issue', () => {
      (0, _globals.expect)(() => validateIssue(null)).toThrow('Issue is required');
      (0, _globals.expect)(() => validateIssue(undefined)).toThrow('Issue is required');
    });
    (0, _globals.it)('should reject issue with empty title', () => {
      const issueWithEmptyTitle = {
        ..._issues.issueFixtures.valid.infrastructure,
        title: ''
      };
      (0, _globals.expect)(() => validateIssue(issueWithEmptyTitle)).toThrow('Issue title is required');
    });
    (0, _globals.it)('should reject issue with whitespace-only title', () => {
      const issueWithWhitespaceTitle = {
        ..._issues.issueFixtures.valid.infrastructure,
        title: '   '
      };
      (0, _globals.expect)(() => validateIssue(issueWithWhitespaceTitle)).toThrow('Issue title is required');
    });
  });
  (0, _globals.describe)('validateIssueLabels', () => {
    (0, _globals.it)('should validate labels with type and priority', () => {
      const validLabels = ['enhancement', 'frontend', 'high-priority'];
      (0, _globals.expect)(validateIssueLabels(validLabels)).toBe(true);
    });
    (0, _globals.it)('should reject labels without type', () => {
      const labelsWithoutType = ['frontend', 'high-priority'];
      (0, _globals.expect)(validateIssueLabels(labelsWithoutType)).toBe(false);
    });
    (0, _globals.it)('should reject labels without priority', () => {
      const labelsWithoutPriority = ['enhancement', 'frontend'];
      (0, _globals.expect)(validateIssueLabels(labelsWithoutPriority)).toBe(false);
    });
    (0, _globals.it)('should reject non-array labels', () => {
      (0, _globals.expect)(validateIssueLabels('not-array')).toBe(false);
      (0, _globals.expect)(validateIssueLabels(null)).toBe(false);
      (0, _globals.expect)(validateIssueLabels(undefined)).toBe(false);
    });
  });
  (0, _globals.describe)('Edge Cases', () => {
    (0, _globals.it)('should handle very long titles', () => {
      const longTitle = 'A'.repeat(1000);
      const issueWithLongTitle = (0, _issues.generateTestIssue)({
        title: longTitle
      });
      (0, _globals.expect)(() => validateIssue(issueWithLongTitle)).not.toThrow();
    });
    (0, _globals.it)('should handle special characters in title', () => {
      const specialTitle = 'Fix #123: Handle UTF-8 characters æ—¥æœ¬èªž ðŸš€';
      const issueWithSpecialTitle = (0, _issues.generateTestIssue)({
        title: specialTitle
      });
      (0, _globals.expect)(() => validateIssue(issueWithSpecialTitle)).not.toThrow();
    });
    (0, _globals.it)('should handle multiple labels of same type', () => {
      const multipleLabels = ['enhancement', 'bug', 'high-priority', 'medium-priority'];
      const issueWithMultipleLabels = (0, _issues.generateTestIssue)({
        labels: multipleLabels
      });
      (0, _globals.expect)(() => validateIssue(issueWithMultipleLabels)).not.toThrow();
    });
  });
  (0, _globals.describe)('Custom Matchers', () => {
    (0, _globals.it)('should use custom toBeValidIssue matcher', () => {
      const validIssue = _issues.issueFixtures.valid.feature;
      (0, _globals.expect)(validIssue).toBeValidIssue();
    });
    (0, _globals.it)('should fail custom matcher for invalid issue', () => {
      const invalidIssue = _issues.issueFixtures.invalid.missingTitle;
      (0, _globals.expect)(invalidIssue).not.toBeValidIssue();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2xvYmFscyIsInJlcXVpcmUiLCJfaXNzdWVzIiwidmFsaWRhdGVJc3N1ZSIsImlzc3VlIiwiRXJyb3IiLCJ0aXRsZSIsInRyaW0iLCJkZXNjcmlwdGlvbiIsIkFycmF5IiwiaXNBcnJheSIsImxhYmVscyIsImxlbmd0aCIsInZhbGlkUHJpb3JpdGllcyIsInByaW9yaXR5IiwiaW5jbHVkZXMiLCJ2YWxpZGF0ZUlzc3VlTGFiZWxzIiwiaGFzVHlwZUxhYmVsIiwic29tZSIsImxhYmVsIiwiaGFzUHJpb3JpdHlMYWJlbCIsImRlc2NyaWJlIiwiaXQiLCJ2YWxpZElzc3VlIiwiaXNzdWVGaXh0dXJlcyIsInZhbGlkIiwiaW5mcmFzdHJ1Y3R1cmUiLCJleHBlY3QiLCJub3QiLCJ0b1Rocm93IiwidG9CZSIsImludmFsaWRJc3N1ZSIsImludmFsaWQiLCJtaXNzaW5nVGl0bGUiLCJtaXNzaW5nRGVzY3JpcHRpb24iLCJlbXB0eUxhYmVscyIsImludmFsaWRQcmlvcml0eSIsInVuZGVmaW5lZCIsImlzc3VlV2l0aEVtcHR5VGl0bGUiLCJpc3N1ZVdpdGhXaGl0ZXNwYWNlVGl0bGUiLCJ2YWxpZExhYmVscyIsImxhYmVsc1dpdGhvdXRUeXBlIiwibGFiZWxzV2l0aG91dFByaW9yaXR5IiwibG9uZ1RpdGxlIiwicmVwZWF0IiwiaXNzdWVXaXRoTG9uZ1RpdGxlIiwiZ2VuZXJhdGVUZXN0SXNzdWUiLCJzcGVjaWFsVGl0bGUiLCJpc3N1ZVdpdGhTcGVjaWFsVGl0bGUiLCJtdWx0aXBsZUxhYmVscyIsImlzc3VlV2l0aE11bHRpcGxlTGFiZWxzIiwiZmVhdHVyZSIsInRvQmVWYWxpZElzc3VlIl0sInNvdXJjZXMiOlsiaXNzdWUtdmFsaWRhdG9yLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJc3N1ZSDjg5Djg6rjg4fjg7zjgr/jg7wg44Om44OL44OD44OI44OG44K544OIXG4gKi9cblxuaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGJlZm9yZUVhY2ggfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IGlzc3VlRml4dHVyZXMsIGdlbmVyYXRlVGVzdElzc3VlIH0gZnJvbSAnLi4vZml4dHVyZXMvaXNzdWVzLmpzJztcblxuLy8g44OQ44Oq44OH44O844K/44O86Zai5pWw77yI5a6f6KOF5LqI5a6a77yJXG5mdW5jdGlvbiB2YWxpZGF0ZUlzc3VlKGlzc3VlKSB7XG4gIGlmICghaXNzdWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0lzc3VlIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgXG4gIGlmICghaXNzdWUudGl0bGUgfHwgdHlwZW9mIGlzc3VlLnRpdGxlICE9PSAnc3RyaW5nJyB8fCBpc3N1ZS50aXRsZS50cmltKCkgPT09ICcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJc3N1ZSB0aXRsZSBpcyByZXF1aXJlZCcpO1xuICB9XG4gIFxuICBpZiAoIWlzc3VlLmRlc2NyaXB0aW9uIHx8IHR5cGVvZiBpc3N1ZS5kZXNjcmlwdGlvbiAhPT0gJ3N0cmluZycgfHwgaXNzdWUuZGVzY3JpcHRpb24udHJpbSgpID09PSAnJykge1xuICAgIHRocm93IG5ldyBFcnJvcignSXNzdWUgZGVzY3JpcHRpb24gaXMgcmVxdWlyZWQnKTtcbiAgfVxuICBcbiAgaWYgKCFBcnJheS5pc0FycmF5KGlzc3VlLmxhYmVscykgfHwgaXNzdWUubGFiZWxzLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSXNzdWUgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBsYWJlbCcpO1xuICB9XG4gIFxuICBjb25zdCB2YWxpZFByaW9yaXRpZXMgPSBbJ2xvdycsICdtZWRpdW0nLCAnaGlnaCddO1xuICBpZiAoIWlzc3VlLnByaW9yaXR5IHx8ICF2YWxpZFByaW9yaXRpZXMuaW5jbHVkZXMoaXNzdWUucHJpb3JpdHkpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJc3N1ZSBtdXN0IGhhdmUgYSB2YWxpZCBwcmlvcml0eSAobG93LCBtZWRpdW0sIGhpZ2gpJyk7XG4gIH1cbiAgXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUlzc3VlTGFiZWxzKGxhYmVscykge1xuICBpZiAoIUFycmF5LmlzQXJyYXkobGFiZWxzKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgLy8g5b+F6aCI44Op44OZ44Or44Gu5qSc6Ki8XG4gIGNvbnN0IGhhc1R5cGVMYWJlbCA9IGxhYmVscy5zb21lKGxhYmVsID0+IFxuICAgIFsnYnVnJywgJ2VuaGFuY2VtZW50JywgJ2RvY3VtZW50YXRpb24nLCAnaW5mcmFzdHJ1Y3R1cmUnXS5pbmNsdWRlcyhsYWJlbClcbiAgKTtcbiAgXG4gIGNvbnN0IGhhc1ByaW9yaXR5TGFiZWwgPSBsYWJlbHMuc29tZShsYWJlbCA9PiBcbiAgICBbJ2xvdy1wcmlvcml0eScsICdtZWRpdW0tcHJpb3JpdHknLCAnaGlnaC1wcmlvcml0eSddLmluY2x1ZGVzKGxhYmVsKVxuICApO1xuICBcbiAgcmV0dXJuIGhhc1R5cGVMYWJlbCAmJiBoYXNQcmlvcml0eUxhYmVsO1xufVxuXG5kZXNjcmliZSgnSXNzdWUgVmFsaWRhdG9yJywgKCkgPT4ge1xuICBkZXNjcmliZSgndmFsaWRhdGVJc3N1ZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIGEgdmFsaWQgaXNzdWUgc3RydWN0dXJlJywgKCkgPT4ge1xuICAgICAgY29uc3QgdmFsaWRJc3N1ZSA9IGlzc3VlRml4dHVyZXMudmFsaWQuaW5mcmFzdHJ1Y3R1cmU7XG4gICAgICBleHBlY3QoKCkgPT4gdmFsaWRhdGVJc3N1ZSh2YWxpZElzc3VlKSkubm90LnRvVGhyb3coKTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0ZUlzc3VlKHZhbGlkSXNzdWUpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgaXNzdWUgd2l0aG91dCB0aXRsZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGludmFsaWRJc3N1ZSA9IGlzc3VlRml4dHVyZXMuaW52YWxpZC5taXNzaW5nVGl0bGU7XG4gICAgICBleHBlY3QoKCkgPT4gdmFsaWRhdGVJc3N1ZShpbnZhbGlkSXNzdWUpKVxuICAgICAgICAudG9UaHJvdygnSXNzdWUgdGl0bGUgaXMgcmVxdWlyZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGlzc3VlIHdpdGhvdXQgZGVzY3JpcHRpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkSXNzdWUgPSBpc3N1ZUZpeHR1cmVzLmludmFsaWQubWlzc2luZ0Rlc2NyaXB0aW9uO1xuICAgICAgZXhwZWN0KCgpID0+IHZhbGlkYXRlSXNzdWUoaW52YWxpZElzc3VlKSlcbiAgICAgICAgLnRvVGhyb3coJ0lzc3VlIGRlc2NyaXB0aW9uIGlzIHJlcXVpcmVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpc3N1ZSB3aXRoIGVtcHR5IGxhYmVscycsICgpID0+IHtcbiAgICAgIGNvbnN0IGludmFsaWRJc3N1ZSA9IGlzc3VlRml4dHVyZXMuaW52YWxpZC5lbXB0eUxhYmVscztcbiAgICAgIGV4cGVjdCgoKSA9PiB2YWxpZGF0ZUlzc3VlKGludmFsaWRJc3N1ZSkpXG4gICAgICAgIC50b1Rocm93KCdJc3N1ZSBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIGxhYmVsJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpc3N1ZSB3aXRoIGludmFsaWQgcHJpb3JpdHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkSXNzdWUgPSBpc3N1ZUZpeHR1cmVzLmludmFsaWQuaW52YWxpZFByaW9yaXR5O1xuICAgICAgZXhwZWN0KCgpID0+IHZhbGlkYXRlSXNzdWUoaW52YWxpZElzc3VlKSlcbiAgICAgICAgLnRvVGhyb3coJ0lzc3VlIG11c3QgaGF2ZSBhIHZhbGlkIHByaW9yaXR5IChsb3csIG1lZGl1bSwgaGlnaCknKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IG51bGwgb3IgdW5kZWZpbmVkIGlzc3VlJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KCgpID0+IHZhbGlkYXRlSXNzdWUobnVsbCkpLnRvVGhyb3coJ0lzc3VlIGlzIHJlcXVpcmVkJyk7XG4gICAgICBleHBlY3QoKCkgPT4gdmFsaWRhdGVJc3N1ZSh1bmRlZmluZWQpKS50b1Rocm93KCdJc3N1ZSBpcyByZXF1aXJlZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgaXNzdWUgd2l0aCBlbXB0eSB0aXRsZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzc3VlV2l0aEVtcHR5VGl0bGUgPSB7XG4gICAgICAgIC4uLmlzc3VlRml4dHVyZXMudmFsaWQuaW5mcmFzdHJ1Y3R1cmUsXG4gICAgICAgIHRpdGxlOiAnJ1xuICAgICAgfTtcbiAgICAgIGV4cGVjdCgoKSA9PiB2YWxpZGF0ZUlzc3VlKGlzc3VlV2l0aEVtcHR5VGl0bGUpKVxuICAgICAgICAudG9UaHJvdygnSXNzdWUgdGl0bGUgaXMgcmVxdWlyZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGlzc3VlIHdpdGggd2hpdGVzcGFjZS1vbmx5IHRpdGxlJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXNzdWVXaXRoV2hpdGVzcGFjZVRpdGxlID0ge1xuICAgICAgICAuLi5pc3N1ZUZpeHR1cmVzLnZhbGlkLmluZnJhc3RydWN0dXJlLFxuICAgICAgICB0aXRsZTogJyAgICdcbiAgICAgIH07XG4gICAgICBleHBlY3QoKCkgPT4gdmFsaWRhdGVJc3N1ZShpc3N1ZVdpdGhXaGl0ZXNwYWNlVGl0bGUpKVxuICAgICAgICAudG9UaHJvdygnSXNzdWUgdGl0bGUgaXMgcmVxdWlyZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3ZhbGlkYXRlSXNzdWVMYWJlbHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBsYWJlbHMgd2l0aCB0eXBlIGFuZCBwcmlvcml0eScsICgpID0+IHtcbiAgICAgIGNvbnN0IHZhbGlkTGFiZWxzID0gWydlbmhhbmNlbWVudCcsICdmcm9udGVuZCcsICdoaWdoLXByaW9yaXR5J107XG4gICAgICBleHBlY3QodmFsaWRhdGVJc3N1ZUxhYmVscyh2YWxpZExhYmVscykpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBsYWJlbHMgd2l0aG91dCB0eXBlJywgKCkgPT4ge1xuICAgICAgY29uc3QgbGFiZWxzV2l0aG91dFR5cGUgPSBbJ2Zyb250ZW5kJywgJ2hpZ2gtcHJpb3JpdHknXTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0ZUlzc3VlTGFiZWxzKGxhYmVsc1dpdGhvdXRUeXBlKSkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBsYWJlbHMgd2l0aG91dCBwcmlvcml0eScsICgpID0+IHtcbiAgICAgIGNvbnN0IGxhYmVsc1dpdGhvdXRQcmlvcml0eSA9IFsnZW5oYW5jZW1lbnQnLCAnZnJvbnRlbmQnXTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0ZUlzc3VlTGFiZWxzKGxhYmVsc1dpdGhvdXRQcmlvcml0eSkpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3Qgbm9uLWFycmF5IGxhYmVscycsICgpID0+IHtcbiAgICAgIGV4cGVjdCh2YWxpZGF0ZUlzc3VlTGFiZWxzKCdub3QtYXJyYXknKSkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QodmFsaWRhdGVJc3N1ZUxhYmVscyhudWxsKSkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QodmFsaWRhdGVJc3N1ZUxhYmVscyh1bmRlZmluZWQpKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0VkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdmVyeSBsb25nIHRpdGxlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGxvbmdUaXRsZSA9ICdBJy5yZXBlYXQoMTAwMCk7XG4gICAgICBjb25zdCBpc3N1ZVdpdGhMb25nVGl0bGUgPSBnZW5lcmF0ZVRlc3RJc3N1ZSh7IHRpdGxlOiBsb25nVGl0bGUgfSk7XG4gICAgICBleHBlY3QoKCkgPT4gdmFsaWRhdGVJc3N1ZShpc3N1ZVdpdGhMb25nVGl0bGUpKS5ub3QudG9UaHJvdygpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc3BlY2lhbCBjaGFyYWN0ZXJzIGluIHRpdGxlJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3BlY2lhbFRpdGxlID0gJ0ZpeCAjMTIzOiBIYW5kbGUgVVRGLTggY2hhcmFjdGVycyDml6XmnKzoqp4g8J+agCc7XG4gICAgICBjb25zdCBpc3N1ZVdpdGhTcGVjaWFsVGl0bGUgPSBnZW5lcmF0ZVRlc3RJc3N1ZSh7IHRpdGxlOiBzcGVjaWFsVGl0bGUgfSk7XG4gICAgICBleHBlY3QoKCkgPT4gdmFsaWRhdGVJc3N1ZShpc3N1ZVdpdGhTcGVjaWFsVGl0bGUpKS5ub3QudG9UaHJvdygpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbXVsdGlwbGUgbGFiZWxzIG9mIHNhbWUgdHlwZScsICgpID0+IHtcbiAgICAgIGNvbnN0IG11bHRpcGxlTGFiZWxzID0gWydlbmhhbmNlbWVudCcsICdidWcnLCAnaGlnaC1wcmlvcml0eScsICdtZWRpdW0tcHJpb3JpdHknXTtcbiAgICAgIGNvbnN0IGlzc3VlV2l0aE11bHRpcGxlTGFiZWxzID0gZ2VuZXJhdGVUZXN0SXNzdWUoeyBsYWJlbHM6IG11bHRpcGxlTGFiZWxzIH0pO1xuICAgICAgZXhwZWN0KCgpID0+IHZhbGlkYXRlSXNzdWUoaXNzdWVXaXRoTXVsdGlwbGVMYWJlbHMpKS5ub3QudG9UaHJvdygpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ3VzdG9tIE1hdGNoZXJzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdXNlIGN1c3RvbSB0b0JlVmFsaWRJc3N1ZSBtYXRjaGVyJywgKCkgPT4ge1xuICAgICAgY29uc3QgdmFsaWRJc3N1ZSA9IGlzc3VlRml4dHVyZXMudmFsaWQuZmVhdHVyZTtcbiAgICAgIGV4cGVjdCh2YWxpZElzc3VlKS50b0JlVmFsaWRJc3N1ZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmYWlsIGN1c3RvbSBtYXRjaGVyIGZvciBpbnZhbGlkIGlzc3VlJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW52YWxpZElzc3VlID0gaXNzdWVGaXh0dXJlcy5pbnZhbGlkLm1pc3NpbmdUaXRsZTtcbiAgICAgIGV4cGVjdChpbnZhbGlkSXNzdWUpLm5vdC50b0JlVmFsaWRJc3N1ZSgpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFJQSxJQUFBQSxRQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFELE9BQUE7QUFMQTtBQUNBO0FBQ0E7O0FBS0E7QUFDQSxTQUFTRSxhQUFhQSxDQUFDQyxLQUFLLEVBQUU7RUFDNUIsSUFBSSxDQUFDQSxLQUFLLEVBQUU7SUFDVixNQUFNLElBQUlDLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQztFQUN0QztFQUVBLElBQUksQ0FBQ0QsS0FBSyxDQUFDRSxLQUFLLElBQUksT0FBT0YsS0FBSyxDQUFDRSxLQUFLLEtBQUssUUFBUSxJQUFJRixLQUFLLENBQUNFLEtBQUssQ0FBQ0MsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUU7SUFDaEYsTUFBTSxJQUFJRixLQUFLLENBQUMseUJBQXlCLENBQUM7RUFDNUM7RUFFQSxJQUFJLENBQUNELEtBQUssQ0FBQ0ksV0FBVyxJQUFJLE9BQU9KLEtBQUssQ0FBQ0ksV0FBVyxLQUFLLFFBQVEsSUFBSUosS0FBSyxDQUFDSSxXQUFXLENBQUNELElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFO0lBQ2xHLE1BQU0sSUFBSUYsS0FBSyxDQUFDLCtCQUErQixDQUFDO0VBQ2xEO0VBRUEsSUFBSSxDQUFDSSxLQUFLLENBQUNDLE9BQU8sQ0FBQ04sS0FBSyxDQUFDTyxN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QkFBaUIsRUFBQztRQUFFeEMsS0FBSyxFQUFFcUM7TUFBVSxDQUFDLENBQUM7TUFDbEUsSUFBQWhCLGVBQU0sRUFBQyxNQUFNeEIsYUFBYSxDQUFDMEMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDakIsR0FBRyxDQUFDQyxPQUFPLENBQUMsQ0FBQztJQUMvRCxDQUFDLENBQUM7SUFFRixJQUFBUCxXQUFFLEVBQUMsMkNBQTJDLEVBQUUsTUFBTTtNQUNwRCxNQUFNeUIsWUFBWSxHQUFHLDBDQUEwQztNQUMvRCxNQUFNQyxxQkFBcUIsR0FBRyxJQUFBRix5QkFBaUIsRUFBQztRQUFFeEMsS0FBSyxFQUFFeUM7TUFBYSxDQUFDLENBQUM7TUFDeEUsSUFBQXBCLGVBQU0sRUFBQyxNQUFNeEIsYUFBYSxDQUFDNkMscUJBQXFCLENBQUMsQ0FBQyxDQUFDcEIsR0FBRyxDQUFDQyxPQUFPLENBQUMsQ0FBQztJQUNsRSxDQUFDLENBQUM7SUFFRixJQUFBUCxXQUFFLEVBQUMsNENBQTRDLEVBQUUsTUFBTTtNQUNyRCxNQUFNMkIsY0FBYyxHQUFHLENBQUMsYUFBYSxFQUFFLEtBQUssRUFBRSxlQUFlLEVBQUUsaUJBQWlCLENBQUM7TUFDakYsTUFBTUMsdUJBQXVCLEdBQUcsSUFBQUoseUJBQWlCLEVBQUM7UUFBRW5DLE1BQU0sRUFBRXNDO01BQWUsQ0FBQyxDQUFDO01BQzdFLElBQUF0QixlQUFNLEVBQUMsTUFBTXhCLGFBQWEsQ0FBQytDLHVCQUF1QixDQUFDLENBQUMsQ0FBQ3RCLEdBQUcsQ0FBQ0MsT0FBTyxDQUFDLENBQUM7SUFDcEUsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUYsSUFBQVIsaUJBQVEsRUFBQyxpQkFBaUIsRUFBRSxNQUFNO0lBQ2hDLElBQUFDLFdBQUUsRUFBQywwQ0FBMEMsRUFBRSxNQUFNO01BQ25ELE1BQU1DLFVBQVUsR0FBR0MscUJBQWEsQ0FBQ0MsS0FBSyxDQUFDMEIsT0FBTztNQUM5QyxJQUFBeEIsZUFBTSxFQUFDSixVQUFVLENBQUMsQ0FBQzZCLGNBQWMsQ0FBQyxDQUFDO0lBQ3JDLENBQUMsQ0FBQztJQUVGLElBQUE5QixXQUFFLEVBQUMsOENBQThDLEVBQUUsTUFBTTtNQUN2RCxNQUFNUyxZQUFZLEdBQUdQLHFCQUFhLENBQUNRLE9BQU8sQ0FBQ0MsWUFBWTtNQUN2RCxJQUFBTixlQUFNLEVBQUNJLFlBQVksQ0FBQyxDQUFDSCxHQUFHLENBQUN3QixjQUFjLENBQUMsQ0FBQztJQUMzQyxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=