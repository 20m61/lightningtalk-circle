b0adfd2134cf0daaaca4c89fa5ff6f9d
/**
 * Issue バリデーター ユニットテスト
 */

import { describe, it, expect, beforeEach } from '@jest/globals';
import { issueFixtures, generateTestIssue } from '../fixtures/issues.js';

// バリデーター関数（実装予定）
function validateIssue(issue) {
  if (!issue) {
    throw new Error('Issue is required');
  }
  if (!issue.title || typeof issue.title !== 'string' || issue.title.trim() === '') {
    throw new Error('Issue title is required');
  }
  if (!issue.description || typeof issue.description !== 'string' || issue.description.trim() === '') {
    throw new Error('Issue description is required');
  }
  if (!Array.isArray(issue.labels) || issue.labels.length === 0) {
    throw new Error('Issue must have at least one label');
  }
  const validPriorities = ['low', 'medium', 'high'];
  if (!issue.priority || !validPriorities.includes(issue.priority)) {
    throw new Error('Issue must have a valid priority (low, medium, high)');
  }
  return true;
}
function validateIssueLabels(labels) {
  if (!Array.isArray(labels)) {
    return false;
  }

  // 必須ラベルの検証
  const hasTypeLabel = labels.some(label => ['bug', 'enhancement', 'documentation', 'infrastructure'].includes(label));
  const hasPriorityLabel = labels.some(label => ['low-priority', 'medium-priority', 'high-priority'].includes(label));
  return hasTypeLabel && hasPriorityLabel;
}
describe('Issue Validator', () => {
  describe('validateIssue', () => {
    it('should validate a valid issue structure', () => {
      const validIssue = issueFixtures.valid.infrastructure;
      expect(() => validateIssue(validIssue)).not.toThrow();
      expect(validateIssue(validIssue)).toBe(true);
    });
    it('should reject issue without title', () => {
      const invalidIssue = issueFixtures.invalid.missingTitle;
      expect(() => validateIssue(invalidIssue)).toThrow('Issue title is required');
    });
    it('should reject issue without description', () => {
      const invalidIssue = issueFixtures.invalid.missingDescription;
      expect(() => validateIssue(invalidIssue)).toThrow('Issue description is required');
    });
    it('should reject issue with empty labels', () => {
      const invalidIssue = issueFixtures.invalid.emptyLabels;
      expect(() => validateIssue(invalidIssue)).toThrow('Issue must have at least one label');
    });
    it('should reject issue with invalid priority', () => {
      const invalidIssue = issueFixtures.invalid.invalidPriority;
      expect(() => validateIssue(invalidIssue)).toThrow('Issue must have a valid priority (low, medium, high)');
    });
    it('should reject null or undefined issue', () => {
      expect(() => validateIssue(null)).toThrow('Issue is required');
      expect(() => validateIssue(undefined)).toThrow('Issue is required');
    });
    it('should reject issue with empty title', () => {
      const issueWithEmptyTitle = {
        ...issueFixtures.valid.infrastructure,
        title: ''
      };
      expect(() => validateIssue(issueWithEmptyTitle)).toThrow('Issue title is required');
    });
    it('should reject issue with whitespace-only title', () => {
      const issueWithWhitespaceTitle = {
        ...issueFixtures.valid.infrastructure,
        title: '   '
      };
      expect(() => validateIssue(issueWithWhitespaceTitle)).toThrow('Issue title is required');
    });
  });
  describe('validateIssueLabels', () => {
    it('should validate labels with type and priority', () => {
      const validLabels = ['enhancement', 'frontend', 'high-priority'];
      expect(validateIssueLabels(validLabels)).toBe(true);
    });
    it('should reject labels without type', () => {
      const labelsWithoutType = ['frontend', 'high-priority'];
      expect(validateIssueLabels(labelsWithoutType)).toBe(false);
    });
    it('should reject labels without priority', () => {
      const labelsWithoutPriority = ['enhancement', 'frontend'];
      expect(validateIssueLabels(labelsWithoutPriority)).toBe(false);
    });
    it('should reject non-array labels', () => {
      expect(validateIssueLabels('not-array')).toBe(false);
      expect(validateIssueLabels(null)).toBe(false);
      expect(validateIssueLabels(undefined)).toBe(false);
    });
  });
  describe('Edge Cases', () => {
    it('should handle very long titles', () => {
      const longTitle = 'A'.repeat(1000);
      const issueWithLongTitle = generateTestIssue({
        title: longTitle
      });
      expect(() => validateIssue(issueWithLongTitle)).not.toThrow();
    });
    it('should handle special characters in title', () => {
      const specialTitle = 'Fix #123: Handle UTF-8 characters 日本語 🚀';
      const issueWithSpecialTitle = generateTestIssue({
        title: specialTitle
      });
      expect(() => validateIssue(issueWithSpecialTitle)).not.toThrow();
    });
    it('should handle multiple labels of same type', () => {
      const multipleLabels = ['enhancement', 'bug', 'high-priority', 'medium-priority'];
      const issueWithMultipleLabels = generateTestIssue({
        labels: multipleLabels
      });
      expect(() => validateIssue(issueWithMultipleLabels)).not.toThrow();
    });
  });
  describe('Custom Matchers', () => {
    it('should use custom toBeValidIssue matcher', () => {
      const validIssue = issueFixtures.valid.feature;
      expect(validIssue).toBeValidIssue();
    });
    it('should fail custom matcher for invalid issue', () => {
      const invalidIssue = issueFixtures.invalid.missingTitle;
      expect(invalidIssue).not.toBeValidIssue();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwiZXhwZWN0IiwiYmVmb3JlRWFjaCIsImlzc3VlRml4dHVyZXMiLCJnZW5lcmF0ZVRlc3RJc3N1ZSIsInZhbGlkYXRlSXNzdWUiLCJpc3N1ZSIsIkVycm9yIiwidGl0bGUiLCJ0cmltIiwiZGVzY3JpcHRpb24iLCJBcnJheSIsImlzQXJyYXkiLCJsYWJlbHMiLCJsZW5ndGgiLCJ2YWxpZFByaW9yaXRpZXMiLCJwcmlvcml0eSIsImluY2x1ZGVzIiwidmFsaWRhdGVJc3N1ZUxhYmVscyIsImhhc1R5cGVMYWJlbCIsInNvbWUiLCJsYWJlbCIsImhhc1ByaW9yaXR5TGFiZWwiLCJ2YWxpZElzc3VlIiwidmFsaWQiLCJpbmZyYXN0cnVjdHVyZSIsIm5vdCIsInRvVGhyb3ciLCJ0b0JlIiwiaW52YWxpZElzc3VlIiwiaW52YWxpZCIsIm1pc3NpbmdUaXRsZSIsIm1pc3NpbmdEZXNjcmlwdGlvbiIsImVtcHR5TGFiZWxzIiwiaW52YWxpZFByaW9yaXR5IiwidW5kZWZpbmVkIiwiaXNzdWVXaXRoRW1wdHlUaXRsZSIsImlzc3VlV2l0aFdoaXRlc3BhY2VUaXRsZSIsInZhbGlkTGFiZWxzIiwibGFiZWxzV2l0aG91dFR5cGUiLCJsYWJlbHNXaXRob3V0UHJpb3JpdHkiLCJsb25nVGl0bGUiLCJyZXBlYXQiLCJpc3N1ZVdpdGhMb25nVGl0bGUiLCJzcGVjaWFsVGl0bGUiLCJpc3N1ZVdpdGhTcGVjaWFsVGl0bGUiLCJtdWx0aXBsZUxhYmVscyIsImlzc3VlV2l0aE11bHRpcGxlTGFiZWxzIiwiZmVhdHVyZSIsInRvQmVWYWxpZElzc3VlIl0sInNvdXJjZXMiOlsiaXNzdWUtdmFsaWRhdG9yLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJc3N1ZSDjg5Djg6rjg4fjg7zjgr/jg7wg44Om44OL44OD44OI44OG44K544OIXG4gKi9cblxuaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGJlZm9yZUVhY2ggfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IGlzc3VlRml4dHVyZXMsIGdlbmVyYXRlVGVzdElzc3VlIH0gZnJvbSAnLi4vZml4dHVyZXMvaXNzdWVzLmpzJztcblxuLy8g44OQ44Oq44OH44O844K/44O86Zai5pWw77yI5a6f6KOF5LqI5a6a77yJXG5mdW5jdGlvbiB2YWxpZGF0ZUlzc3VlKGlzc3VlKSB7XG4gIGlmICghaXNzdWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0lzc3VlIGlzIHJlcXVpcmVkJyk7XG4gIH1cblxuICBpZiAoIWlzc3VlLnRpdGxlIHx8IHR5cGVvZiBpc3N1ZS50aXRsZSAhPT0gJ3N0cmluZycgfHwgaXNzdWUudGl0bGUudHJpbSgpID09PSAnJykge1xuICAgIHRocm93IG5ldyBFcnJvcignSXNzdWUgdGl0bGUgaXMgcmVxdWlyZWQnKTtcbiAgfVxuXG4gIGlmIChcbiAgICAhaXNzdWUuZGVzY3JpcHRpb24gfHxcbiAgICB0eXBlb2YgaXNzdWUuZGVzY3JpcHRpb24gIT09ICdzdHJpbmcnIHx8XG4gICAgaXNzdWUuZGVzY3JpcHRpb24udHJpbSgpID09PSAnJ1xuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0lzc3VlIGRlc2NyaXB0aW9uIGlzIHJlcXVpcmVkJyk7XG4gIH1cblxuICBpZiAoIUFycmF5LmlzQXJyYXkoaXNzdWUubGFiZWxzKSB8fCBpc3N1ZS5sYWJlbHMubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJc3N1ZSBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIGxhYmVsJyk7XG4gIH1cblxuICBjb25zdCB2YWxpZFByaW9yaXRpZXMgPSBbJ2xvdycsICdtZWRpdW0nLCAnaGlnaCddO1xuICBpZiAoIWlzc3VlLnByaW9yaXR5IHx8ICF2YWxpZFByaW9yaXRpZXMuaW5jbHVkZXMoaXNzdWUucHJpb3JpdHkpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJc3N1ZSBtdXN0IGhhdmUgYSB2YWxpZCBwcmlvcml0eSAobG93LCBtZWRpdW0sIGhpZ2gpJyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVJc3N1ZUxhYmVscyhsYWJlbHMpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGxhYmVscykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyDlv4XpoIjjg6njg5njg6vjga7mpJzoqLxcbiAgY29uc3QgaGFzVHlwZUxhYmVsID0gbGFiZWxzLnNvbWUobGFiZWwgPT5cbiAgICBbJ2J1ZycsICdlbmhhbmNlbWVudCcsICdkb2N1bWVudGF0aW9uJywgJ2luZnJhc3RydWN0dXJlJ10uaW5jbHVkZXMobGFiZWwpXG4gICk7XG5cbiAgY29uc3QgaGFzUHJpb3JpdHlMYWJlbCA9IGxhYmVscy5zb21lKGxhYmVsID0+XG4gICAgWydsb3ctcHJpb3JpdHknLCAnbWVkaXVtLXByaW9yaXR5JywgJ2hpZ2gtcHJpb3JpdHknXS5pbmNsdWRlcyhsYWJlbClcbiAgKTtcblxuICByZXR1cm4gaGFzVHlwZUxhYmVsICYmIGhhc1ByaW9yaXR5TGFiZWw7XG59XG5cbmRlc2NyaWJlKCdJc3N1ZSBWYWxpZGF0b3InLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCd2YWxpZGF0ZUlzc3VlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgYSB2YWxpZCBpc3N1ZSBzdHJ1Y3R1cmUnLCAoKSA9PiB7XG4gICAgICBjb25zdCB2YWxpZElzc3VlID0gaXNzdWVGaXh0dXJlcy52YWxpZC5pbmZyYXN0cnVjdHVyZTtcbiAgICAgIGV4cGVjdCgoKSA9PiB2YWxpZGF0ZUlzc3VlKHZhbGlkSXNzdWUpKS5ub3QudG9UaHJvdygpO1xuICAgICAgZXhwZWN0KHZhbGlkYXRlSXNzdWUodmFsaWRJc3N1ZSkpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpc3N1ZSB3aXRob3V0IHRpdGxlJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW52YWxpZElzc3VlID0gaXNzdWVGaXh0dXJlcy5pbnZhbGlkLm1pc3NpbmdUaXRsZTtcbiAgICAgIGV4cGVjdCgoKSA9PiB2YWxpZGF0ZUlzc3VlKGludmFsaWRJc3N1ZSkpLnRvVGhyb3coJ0lzc3VlIHRpdGxlIGlzIHJlcXVpcmVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpc3N1ZSB3aXRob3V0IGRlc2NyaXB0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW52YWxpZElzc3VlID0gaXNzdWVGaXh0dXJlcy5pbnZhbGlkLm1pc3NpbmdEZXNjcmlwdGlvbjtcbiAgICAgIGV4cGVjdCgoKSA9PiB2YWxpZGF0ZUlzc3VlKGludmFsaWRJc3N1ZSkpLnRvVGhyb3coJ0lzc3VlIGRlc2NyaXB0aW9uIGlzIHJlcXVpcmVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpc3N1ZSB3aXRoIGVtcHR5IGxhYmVscycsICgpID0+IHtcbiAgICAgIGNvbnN0IGludmFsaWRJc3N1ZSA9IGlzc3VlRml4dHVyZXMuaW52YWxpZC5lbXB0eUxhYmVscztcbiAgICAgIGV4cGVjdCgoKSA9PiB2YWxpZGF0ZUlzc3VlKGludmFsaWRJc3N1ZSkpLnRvVGhyb3coJ0lzc3VlIG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgbGFiZWwnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGlzc3VlIHdpdGggaW52YWxpZCBwcmlvcml0eScsICgpID0+IHtcbiAgICAgIGNvbnN0IGludmFsaWRJc3N1ZSA9IGlzc3VlRml4dHVyZXMuaW52YWxpZC5pbnZhbGlkUHJpb3JpdHk7XG4gICAgICBleHBlY3QoKCkgPT4gdmFsaWRhdGVJc3N1ZShpbnZhbGlkSXNzdWUpKS50b1Rocm93KFxuICAgICAgICAnSXNzdWUgbXVzdCBoYXZlIGEgdmFsaWQgcHJpb3JpdHkgKGxvdywgbWVkaXVtLCBoaWdoKSdcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBudWxsIG9yIHVuZGVmaW5lZCBpc3N1ZScsICgpID0+IHtcbiAgICAgIGV4cGVjdCgoKSA9PiB2YWxpZGF0ZUlzc3VlKG51bGwpKS50b1Rocm93KCdJc3N1ZSBpcyByZXF1aXJlZCcpO1xuICAgICAgZXhwZWN0KCgpID0+IHZhbGlkYXRlSXNzdWUodW5kZWZpbmVkKSkudG9UaHJvdygnSXNzdWUgaXMgcmVxdWlyZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGlzc3VlIHdpdGggZW1wdHkgdGl0bGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBpc3N1ZVdpdGhFbXB0eVRpdGxlID0ge1xuICAgICAgICAuLi5pc3N1ZUZpeHR1cmVzLnZhbGlkLmluZnJhc3RydWN0dXJlLFxuICAgICAgICB0aXRsZTogJydcbiAgICAgIH07XG4gICAgICBleHBlY3QoKCkgPT4gdmFsaWRhdGVJc3N1ZShpc3N1ZVdpdGhFbXB0eVRpdGxlKSkudG9UaHJvdygnSXNzdWUgdGl0bGUgaXMgcmVxdWlyZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGlzc3VlIHdpdGggd2hpdGVzcGFjZS1vbmx5IHRpdGxlJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXNzdWVXaXRoV2hpdGVzcGFjZVRpdGxlID0ge1xuICAgICAgICAuLi5pc3N1ZUZpeHR1cmVzLnZhbGlkLmluZnJhc3RydWN0dXJlLFxuICAgICAgICB0aXRsZTogJyAgICdcbiAgICAgIH07XG4gICAgICBleHBlY3QoKCkgPT4gdmFsaWRhdGVJc3N1ZShpc3N1ZVdpdGhXaGl0ZXNwYWNlVGl0bGUpKS50b1Rocm93KCdJc3N1ZSB0aXRsZSBpcyByZXF1aXJlZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgndmFsaWRhdGVJc3N1ZUxhYmVscycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIGxhYmVscyB3aXRoIHR5cGUgYW5kIHByaW9yaXR5JywgKCkgPT4ge1xuICAgICAgY29uc3QgdmFsaWRMYWJlbHMgPSBbJ2VuaGFuY2VtZW50JywgJ2Zyb250ZW5kJywgJ2hpZ2gtcHJpb3JpdHknXTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0ZUlzc3VlTGFiZWxzKHZhbGlkTGFiZWxzKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGxhYmVscyB3aXRob3V0IHR5cGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBsYWJlbHNXaXRob3V0VHlwZSA9IFsnZnJvbnRlbmQnLCAnaGlnaC1wcmlvcml0eSddO1xuICAgICAgZXhwZWN0KHZhbGlkYXRlSXNzdWVMYWJlbHMobGFiZWxzV2l0aG91dFR5cGUpKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGxhYmVscyB3aXRob3V0IHByaW9yaXR5JywgKCkgPT4ge1xuICAgICAgY29uc3QgbGFiZWxzV2l0aG91dFByaW9yaXR5ID0gWydlbmhhbmNlbWVudCcsICdmcm9udGVuZCddO1xuICAgICAgZXhwZWN0KHZhbGlkYXRlSXNzdWVMYWJlbHMobGFiZWxzV2l0aG91dFByaW9yaXR5KSkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBub24tYXJyYXkgbGFiZWxzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KHZhbGlkYXRlSXNzdWVMYWJlbHMoJ25vdC1hcnJheScpKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0ZUlzc3VlTGFiZWxzKG51bGwpKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdCh2YWxpZGF0ZUlzc3VlTGFiZWxzKHVuZGVmaW5lZCkpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRWRnZSBDYXNlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB2ZXJ5IGxvbmcgdGl0bGVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbG9uZ1RpdGxlID0gJ0EnLnJlcGVhdCgxMDAwKTtcbiAgICAgIGNvbnN0IGlzc3VlV2l0aExvbmdUaXRsZSA9IGdlbmVyYXRlVGVzdElzc3VlKHsgdGl0bGU6IGxvbmdUaXRsZSB9KTtcbiAgICAgIGV4cGVjdCgoKSA9PiB2YWxpZGF0ZUlzc3VlKGlzc3VlV2l0aExvbmdUaXRsZSkpLm5vdC50b1Rocm93KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gdGl0bGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzcGVjaWFsVGl0bGUgPSAnRml4ICMxMjM6IEhhbmRsZSBVVEYtOCBjaGFyYWN0ZXJzIOaXpeacrOiqniDwn5qAJztcbiAgICAgIGNvbnN0IGlzc3VlV2l0aFNwZWNpYWxUaXRsZSA9IGdlbmVyYXRlVGVzdElzc3VlKHsgdGl0bGU6IHNwZWNpYWxUaXRsZSB9KTtcbiAgICAgIGV4cGVjdCgoKSA9PiB2YWxpZGF0ZUlzc3VlKGlzc3VlV2l0aFNwZWNpYWxUaXRsZSkpLm5vdC50b1Rocm93KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtdWx0aXBsZSBsYWJlbHMgb2Ygc2FtZSB0eXBlJywgKCkgPT4ge1xuICAgICAgY29uc3QgbXVsdGlwbGVMYWJlbHMgPSBbJ2VuaGFuY2VtZW50JywgJ2J1ZycsICdoaWdoLXByaW9yaXR5JywgJ21lZGl1bS1wcmlvcml0eSddO1xuICAgICAgY29uc3QgaXNzdWVXaXRoTXVsdGlwbGVMYWJlbHMgPSBnZW5lcmF0ZVRlc3RJc3N1ZSh7IGxhYmVsczogbXVsdGlwbGVMYWJlbHMgfSk7XG4gICAgICBleHBlY3QoKCkgPT4gdmFsaWRhdGVJc3N1ZShpc3N1ZVdpdGhNdWx0aXBsZUxhYmVscykpLm5vdC50b1Rocm93KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDdXN0b20gTWF0Y2hlcnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB1c2UgY3VzdG9tIHRvQmVWYWxpZElzc3VlIG1hdGNoZXInLCAoKSA9PiB7XG4gICAgICBjb25zdCB2YWxpZElzc3VlID0gaXNzdWVGaXh0dXJlcy52YWxpZC5mZWF0dXJlO1xuICAgICAgZXhwZWN0KHZhbGlkSXNzdWUpLnRvQmVWYWxpZElzc3VlKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZhaWwgY3VzdG9tIG1hdGNoZXIgZm9yIGludmFsaWQgaXNzdWUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkSXNzdWUgPSBpc3N1ZUZpeHR1cmVzLmludmFsaWQubWlzc2luZ1RpdGxlO1xuICAgICAgZXhwZWN0KGludmFsaWRJc3N1ZSkubm90LnRvQmVWYWxpZElzc3VlKCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTQSxRQUFRLEVBQUVDLEVBQUUsRUFBRUMsTUFBTSxFQUFFQyxVQUFVLFFBQVEsZUFBZTtBQUNoRSxTQUFTQyxhQUFhLEVBQUVDLGlCQUFpQixRQUFRLHVCQUF1Qjs7QUFFeEU7QUFDQSxTQUFTQyxhQUFhQSxDQUFDQyxLQUFLLEVBQUU7RUFDNUIsSUFBSSxDQUFDQSxLQUFLLEVBQUU7SUFDVixNQUFNLElBQUlDLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQztFQUN0QztFQUVBLElBQUksQ0FBQ0QsS0FBSyxDQUFDRSxLQUFLLElBQUksT0FBT0YsS0FBSyxDQUFDRSxLQUFLLEtBQUssUUFBUSxJQUFJRixLQUFLLENBQUNFLEtBQUssQ0FBQ0MsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUU7SUFDaEYsTUFBTSxJQUFJRixLQUFLLENBQUMseUJBQXlCLENBQUM7RUFDNUM7RUFFQSxJQUNFLENBQUNELEtBQUssQ0FBQ0ksV0FBVyxJQUNsQixPQUFPSixLQUFLLENBQUNJLFdBQVcsS0FBSyxRQUFRLElBQ3JDSixLQUFLLENBQUNJLFdBQVcsQ0FBQ0QsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQy9CO0lBQ0EsTUFBTSxJQUFJRixLQUFLLENBQUMsK0JBQStCLENBQUM7RUFDbEQ7RUFFQSxJQUFJLENBQUNJLEtBQUssQ0FBQ0MsT0FBTyxDQUFDTixLQUFLLENBQUNPLE1BQU0sQ0FB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