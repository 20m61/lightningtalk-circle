9fbbd89da38ad02f302de3bb0f833934
/**
 * Analytics Service Unit Tests
 * 分析サービスの単体テスト
 */

const analyticsService = require('../../../server/services/analyticsService');
describe('AnalyticsService', () => {
  let mockDatabase;
  beforeEach(() => {
    // データベースのモックを設定
    mockDatabase = {
      query: jest.fn()
    };
    analyticsService.db = mockDatabase;
  });
  afterEach(() => {
    jest.clearAllMocks();
  });
  describe('getEventStatistics', () => {
    it('should return basic event statistics', async () => {
      const eventId = 'event-001';
      const mockBasicStats = {
        id: 'event-001',
        title: 'Test Event',
        total_participants: 25,
        total_talks: 8,
        online_participants: 15,
        offline_participants: 10
      };
      analyticsService.getBasicEventStats = jest.fn().mockResolvedValue({
        eventInfo: {
          id: eventId,
          title: 'Test Event'
        },
        summary: {
          totalParticipants: 25,
          totalTalks: 8,
          onlineParticipants: 15,
          offlineParticipants: 10
        }
      });
      analyticsService.getParticipantStats = jest.fn().mockResolvedValue({
        distribution: {
          byType: [{
            type: 'online',
            count: 15,
            percentage: 60
          }, {
            type: 'offline',
            count: 10,
            percentage: 40
          }]
        }
      });
      analyticsService.getTalkStats = jest.fn().mockResolvedValue({
        distribution: {
          byCategory: [{
            category: '技術',
            count: 5,
            percentage: 62.5
          }, {
            category: '趣味',
            count: 3,
            percentage: 37.5
          }]
        }
      });
      const result = await analyticsService.getEventStatistics(eventId);
      expect(result).toHaveProperty('eventId', eventId);
      expect(result).toHaveProperty('generatedAt');
      expect(result.statistics.basic.summary.totalParticipants).toBe(25);
      expect(result.statistics.basic.summary.totalTalks).toBe(8);
    });
    it('should include trends when requested', async () => {
      const eventId = 'event-001';
      const options = {
        includeTrends: true
      };
      analyticsService.getBasicEventStats = jest.fn().mockResolvedValue({
        eventInfo: {
          id: eventId
        },
        summary: {
          totalParticipants: 25
        }
      });
      analyticsService.getParticipantStats = jest.fn().mockResolvedValue({
        distribution: {}
      });
      analyticsService.getTalkStats = jest.fn().mockResolvedValue({
        distribution: {}
      });
      analyticsService.getEventTrends = jest.fn().mockResolvedValue({
        registrations: {
          daily: [{
            date: '2025-06-20',
            count: 5
          }],
          cumulative: [{
            date: '2025-06-20',
            total: 5
          }]
        }
      });
      const result = await analyticsService.getEventStatistics(eventId, options);
      expect(result.trends).toBeDefined();
      expect(analyticsService.getEventTrends).toHaveBeenCalledWith(eventId, options);
    });
    it('should handle errors gracefully', async () => {
      const eventId = 'invalid-event';
      analyticsService.getBasicEventStats = jest.fn().mockRejectedValue(new Error('Event not found'));
      await expect(analyticsService.getEventStatistics(eventId)).rejects.toThrow('Failed to generate event statistics');
    });
  });
  describe('getBasicEventStats', () => {
    it('should query and return basic event statistics', async () => {
      const eventId = 'event-001';
      const mockQueryResult = [{
        id: 'event-001',
        title: 'Test Event',
        date: '2025-06-25T19:00:00Z',
        venue: 'Test Venue',
        status: 'upcoming',
        total_participants: 25,
        total_talks: 8,
        online_participants: 15,
        offline_participants: 10,
        confirmed_talks: 6,
        pending_talks: 2,
        avg_talk_duration: 5.5
      }];
      mockDatabase.query.mockResolvedValue(mockQueryResult);
      const result = await analyticsService.getBasicEventStats(eventId);
      expect(result.eventInfo.id).toBe(eventId);
      expect(result.eventInfo.title).toBe('Test Event');
      expect(result.summary.totalParticipants).toBe(25);
      expect(result.summary.totalTalks).toBe(8);
      expect(result.summary.onlineParticipants).toBe(15);
      expect(result.summary.offlineParticipants).toBe(10);
      expect(mockDatabase.query).toHaveBeenCalledWith(expect.stringContaining('SELECT'), [eventId]);
    });
    it('should throw error when event not found', async () => {
      const eventId = 'nonexistent';
      mockDatabase.query.mockResolvedValue([]);
      await expect(analyticsService.getBasicEventStats(eventId)).rejects.toThrow('Event not found');
    });
  });
  describe('getParticipantStats', () => {
    it('should return participant distribution statistics', async () => {
      const eventId = 'event-001';
      const mockDistribution = [{
        participation_type: 'online',
        count: 15,
        percentage: 60.0
      }, {
        participation_type: 'offline',
        count: 10,
        percentage: 40.0
      }];
      const mockTimeline = [{
        date: '2025-06-20',
        registrations: 5,
        participation_type: 'online'
      }, {
        date: '2025-06-20',
        registrations: 3,
        participation_type: 'offline'
      }];
      const mockGeographic = [{
        location: '東京都',
        count: 12
      }, {
        location: '大阪府',
        count: 8
      }];
      const mockAttributes = [{
        organization_type: 'Individual',
        count: 18,
        avg_experience_level: 2.1
      }, {
        organization_type: 'Company',
        count: 7,
        avg_experience_level: 2.8
      }];
      mockDatabase.query.mockResolvedValueOnce(mockDistribution).mockResolvedValueOnce(mockTimeline).mockResolvedValueOnce(mockGeographic).mockResolvedValueOnce(mockAttributes);
      analyticsService.processRegistrationTimeline = jest.fn().mockReturnValue([{
        date: '2025-06-20',
        online: 5,
        offline: 3,
        total: 8
      }]);
      analyticsService.calculateAveragePerDay = jest.fn().mockReturnValue(4.2);
      analyticsService.findPeakRegistrationDay = jest.fn().mockReturnValue({
        date: '2025-06-20',
        registrations: 8
      });
      const result = await analyticsService.getParticipantStats(eventId);
      expect(result.distribution.byType).toHaveLength(2);
      expect(result.distribution.byType[0].type).toBe('online');
      expect(result.distribution.byType[0].count).toBe(15);
      expect(result.distribution.byType[0].percentage).toBe(60);
      expect(result.timeline).toHaveLength(1);
      expect(result.summary.averagePerDay).toBe(4.2);
    });
  });
  describe('getTalkStats', () => {
    it('should return talk distribution and speaker statistics', async () => {
      const eventId = 'event-001';
      const mockTalkDistribution = [{
        category: '技術',
        status: 'confirmed',
        count: 5,
        avg_duration: 5.2
      }, {
        category: '趣味',
        status: 'confirmed',
        count: 3,
        avg_duration: 4.8
      }];
      const mockSpeakerAnalysis = [{
        unique_speakers: 8,
        total_talks: 8,
        talks_per_speaker: 1.0,
        first_time_speakers: 3,
        experienced_speakers: 5
      }];
      const mockSubmissionTimeline = [{
        date: '2025-06-15',
        submissions: 3,
        status: 'confirmed'
      }, {
        date: '2025-06-16',
        submissions: 2,
        status: 'pending'
      }];
      const mockCategoryPopularity = [{
        category: '技術',
        count: 5,
        percentage: 62.5,
        avg_duration: 5.2
      }, {
        category: '趣味',
        count: 3,
        percentage: 37.5,
        avg_duration: 4.8
      }];
      mockDatabase.query.mockResolvedValueOnce(mockTalkDistribution).mockResolvedValueOnce(mockSpeakerAnalysis).mockResolvedValueOnce(mockSubmissionTimeline).mockResolvedValueOnce(mockCategoryPopularity);
      analyticsService.groupByStatus = jest.fn().mockReturnValue({
        confirmed: [{
          category: '技術',
          count: 5,
          averageDuration: 5.2
        }, {
          category: '趣味',
          count: 3,
          averageDuration: 4.8
        }]
      });
      analyticsService.processSubmissionTimeline = jest.fn().mockReturnValue([{
        date: '2025-06-15',
        confirmed: 3,
        pending: 0,
        total: 3
      }]);
      analyticsService.calculateAverageDuration = jest.fn().mockReturnValue(5.0);
      analyticsService.analyzeDurationDistribution = jest.fn().mockReturnValue({
        '5min': 6,
        '10min': 2
      });
      const result = await analyticsService.getTalkStats(eventId);
      expect(result.distribution.byCategory).toHaveLength(2);
      expect(result.distribution.byCategory[0].category).toBe('技術');
      expect(result.speakers.uniqueSpeakers).toBe(8);
      expect(result.speakers.totalTalks).toBe(8);
      expect(result.speakers.firstTimeSpeakers).toBe(3);
      expect(result.duration.average).toBe(5.0);
    });
  });
  describe('generateReport', () => {
    it('should generate summary report', async () => {
      const eventId = 'event-001';
      const reportType = 'summary';
      const mockStats = {
        statistics: {
          basic: {
            eventInfo: {
              title: 'Test Event'
            },
            summary: {
              totalParticipants: 25,
              totalTalks: 8
            }
          },
          participants: {
            distribution: {
              byType: [{
                type: 'online',
                percentage: 60
              }]
            }
          }
        }
      };
      analyticsService.getEventStatistics = jest.fn().mockResolvedValue(mockStats);
      analyticsService.generateSummaryReport = jest.fn().mockReturnValue({
        type: 'summary',
        title: 'Test Event - サマリーレポート',
        keyMetrics: {
          participants: 25,
          talks: 8,
          onlineRatio: 60
        }
      });
      const result = await analyticsService.generateReport(eventId, reportType);
      expect(result.type).toBe('summary');
      expect(result.keyMetrics.participants).toBe(25);
      expect(analyticsService.getEventStatistics).toHaveBeenCalledWith(eventId, expect.objectContaining({
        includeDetails: true,
        includeTrends: true
      }));
    });
    it('should throw error for invalid report type', async () => {
      const eventId = 'event-001';
      const reportType = 'invalid';
      analyticsService.getEventStatistics = jest.fn().mockResolvedValue({});
      await expect(analyticsService.generateReport(eventId, reportType)).rejects.toThrow('Invalid report type');
    });
  });
  describe('helper methods', () => {
    describe('processRegistrationTimeline', () => {
      it('should process timeline data correctly', () => {
        const timeline = [{
          date: '2025-06-20',
          registrations: 5,
          participation_type: 'online'
        }, {
          date: '2025-06-20',
          registrations: 3,
          participation_type: 'offline'
        }, {
          date: '2025-06-21',
          registrations: 7,
          participation_type: 'online'
        }];
        const result = analyticsService.processRegistrationTimeline(timeline);
        expect(result).toHaveLength(2);
        expect(result[0]).toEqual({
          date: '2025-06-20',
          online: 5,
          offline: 3,
          total: 8
        });
        expect(result[1]).toEqual({
          date: '2025-06-21',
          online: 7,
          offline: 0,
          total: 7
        });
      });
    });
    describe('calculateAveragePerDay', () => {
      it('should calculate average registrations per day', () => {
        const timeline = [{
          date: '2025-06-20',
          registrations: 5
        }, {
          date: '2025-06-21',
          registrations: 7
        }, {
          date: '2025-06-21',
          registrations: 3
        }];
        const result = analyticsService.calculateAveragePerDay(timeline);
        expect(result).toBe(7.5); // 15 registrations / 2 unique days
      });
      it('should return 0 for empty timeline', () => {
        const result = analyticsService.calculateAveragePerDay([]);
        expect(result).toBe(0);
      });
    });
    describe('findPeakRegistrationDay', () => {
      it('should find day with highest registrations', () => {
        const timeline = [{
          date: '2025-06-20',
          registrations: 5
        }, {
          date: '2025-06-21',
          registrations: 12
        }, {
          date: '2025-06-22',
          registrations: 7
        }];
        const result = analyticsService.findPeakRegistrationDay(timeline);
        expect(result).toEqual({
          date: '2025-06-21',
          registrations: 12
        });
      });
      it('should return null for empty timeline', () => {
        const result = analyticsService.findPeakRegistrationDay([]);
        expect(result).toBeNull();
      });
    });
    describe('linearRegression', () => {
      it('should calculate linear regression for predictions', () => {
        const data = [{
          value: 2
        }, {
          value: 4
        }, {
          value: 6
        }, {
          value: 8
        }];
        const result = analyticsService.linearRegression(data);
        expect(result).toHaveProperty('nextWeek');
        expect(result).toHaveProperty('confidence');
        expect(result.nextWeek).toBeGreaterThan(0);
        expect(result.confidence).toBeGreaterThanOrEqual(0);
        expect(result.confidence).toBeLessThanOrEqual(1);
      });
      it('should handle insufficient data', () => {
        const data = [{
          value: 5
        }];
        const result = analyticsService.linearRegression(data);
        expect(result.nextWeek).toBe(0);
        expect(result.confidence).toBe(0);
      });
    });
  });
  describe('performance tests', () => {
    it('should handle large datasets efficiently', async () => {
      const eventId = 'large-event';
      const largeDataset = Array.from({
        length: 1000
      }, (_, i) => ({
        id: i + 1,
        participation_type: i % 2 === 0 ? 'online' : 'offline',
        created_at: new Date(2025, 5, 20 + i % 7)
      }));
      mockDatabase.query.mockResolvedValue(largeDataset);
      analyticsService.getBasicEventStats = jest.fn().mockResolvedValue({
        eventInfo: {
          id: eventId
        },
        summary: {
          totalParticipants: 1000
        }
      });
      analyticsService.getTalkStats = jest.fn().mockResolvedValue({
        distribution: {}
      });
      const startTime = Date.now();
      await analyticsService.getParticipantStats(eventId);
      const endTime = Date.now();
      expect(endTime - startTime).toBeLessThan(1000); // 1秒以内
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhbmFseXRpY3NTZXJ2aWNlIiwicmVxdWlyZSIsImRlc2NyaWJlIiwibW9ja0RhdGFiYXNlIiwiYmVmb3JlRWFjaCIsInF1ZXJ5IiwiamVzdCIsImZuIiwiZGIiLCJhZnRlckVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJldmVudElkIiwibW9ja0Jhc2ljU3RhdHMiLCJpZCIsInRpdGxlIiwidG90YWxfcGFydGljaXBhbnRzIiwidG90YWxfdGFsa3MiLCJvbmxpbmVfcGFydGljaXBhbnRzIiwib2ZmbGluZV9wYXJ0aWNpcGFudHMiLCJnZXRCYXNpY0V2ZW50U3RhdHMiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImV2ZW50SW5mbyIsInN1bW1hcnkiLCJ0b3RhbFBhcnRpY2lwYW50cyIsInRvdGFsVGFsa3MiLCJvbmxpbmVQYXJ0aWNpcGFudHMiLCJvZmZsaW5lUGFydGljaXBhbnRzIiwiZ2V0UGFydGljaXBhbnRTdGF0cyIsImRpc3RyaWJ1dGlvbiIsImJ5VHlwZSIsInR5cGUiLCJjb3VudCIsInBlcmNlbnRhZ2UiLCJnZXRUYWxrU3RhdHMiLCJieUNhdGVnb3J5IiwiY2F0ZWdvcnkiLCJyZXN1bHQiLCJnZXRFdmVudFN0YXRpc3RpY3MiLCJleHBlY3QiLCJ0b0hhdmVQcm9wZXJ0eSIsInN0YXRpc3RpY3MiLCJiYXNpYyIsInRvQmUiLCJvcHRpb25zIiwiaW5jbHVkZVRyZW5kcyIsImdldEV2ZW50VHJlbmRzIiwicmVnaXN0cmF0aW9ucyIsImRhaWx5IiwiZGF0ZSIsImN1bXVsYXRpdmUiLCJ0b3RhbCIsInRyZW5kcyIsInRvQmVEZWZpbmVkIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwicmVqZWN0cyIsInRvVGhyb3ciLCJtb2NrUXVlcnlSZXN1bHQiLCJ2ZW51ZSIsInN0YXR1cyIsImNvbmZpcm1lZF90YWxrcyIsInBlbmRpbmdfdGFsa3MiLCJhdmdfdGFsa19kdXJhdGlvbiIsInN0cmluZ0NvbnRhaW5pbmciLCJtb2NrRGlzdHJpYnV0aW9uIiwicGFydGljaXBhdGlvbl90eXBlIiwibW9ja1RpbWVsaW5lIiwibW9ja0dlb2dyYXBoaWMiLCJsb2NhdGlvbiIsIm1vY2tBdHRyaWJ1dGVzIiwib3JnYW5pemF0aW9uX3R5cGUiLCJhdmdfZXhwZXJpZW5jZV9sZXZlbCIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsInByb2Nlc3NSZWdpc3RyYXRpb25UaW1lbGluZSIsIm1vY2tSZXR1cm5WYWx1ZSIsIm9ubGluZSIsIm9mZmxpbmUiLCJjYWxjdWxhdGVBdmVyYWdlUGVyRGF5IiwiZmluZFBlYWtSZWdpc3RyYXRpb25EYXkiLCJ0b0hhdmVMZW5ndGgiLCJ0aW1lbGluZSIsImF2ZXJhZ2VQZXJEYXkiLCJtb2NrVGFsa0Rpc3RyaWJ1dGlvbiIsImF2Z19kdXJhdGlvbiIsIm1vY2tTcGVha2VyQW5hbHlzaXMiLCJ1bmlxdWVfc3BlYWtlcnMiLCJ0YWxrc19wZXJfc3BlYWtlciIsImZpcnN0X3RpbWVfc3BlYWtlcnMiLCJleHBlcmllbmNlZF9zcGVha2VycyIsIm1vY2tTdWJtaXNzaW9uVGltZWxpbmUiLCJzdWJtaXNzaW9ucyIsIm1vY2tDYXRlZ29yeVBvcHVsYXJpdHkiLCJncm91cEJ5U3RhdHVzIiwiY29uZmlybWVkIiwiYXZlcmFnZUR1cmF0aW9uIiwicHJvY2Vzc1N1Ym1pc3Npb25UaW1lbGluZSIsInBlbmRpbmciLCJjYWxjdWxhdGVBdmVyYWdlRHVyYXRpb24iLCJhbmFseXplRHVyYXRpb25EaXN0cmlidXRpb24iLCJzcGVha2VycyIsInVuaXF1ZVNwZWFrZXJzIiwiZmlyc3RUaW1lU3BlYWtlcnMiLCJkdXJhdGlvbiIsImF2ZXJhZ2UiLCJyZXBvcnRUeXBlIiwibW9ja1N0YXRzIiwicGFydGljaXBhbnRzIiwiZ2VuZXJhdGVTdW1tYXJ5UmVwb3J0Iiwia2V5TWV0cmljcyIsInRhbGtzIiwib25saW5lUmF0aW8iLCJnZW5lcmF0ZVJlcG9ydCIsIm9iamVjdENvbnRhaW5pbmciLCJpbmNsdWRlRGV0YWlscyIsInRvRXF1YWwiLCJ0b0JlTnVsbCIsImRhdGEiLCJ2YWx1ZSIsImxpbmVhclJlZ3Jlc3Npb24iLCJuZXh0V2VlayIsInRvQmVHcmVhdGVyVGhhbiIsImNvbmZpZGVuY2UiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwidG9CZUxlc3NUaGFuT3JFcXVhbCIsImxhcmdlRGF0YXNldCIsIkFycmF5IiwiZnJvbSIsImxlbmd0aCIsIl8iLCJpIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJzdGFydFRpbWUiLCJub3ciLCJlbmRUaW1lIiwidG9CZUxlc3NUaGFuIl0sInNvdXJjZXMiOlsiYW5hbHl0aWNzLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBbmFseXRpY3MgU2VydmljZSBVbml0IFRlc3RzXG4gKiDliIbmnpDjgrXjg7zjg5Pjgrnjga7ljZjkvZPjg4bjgrnjg4hcbiAqL1xuXG5jb25zdCBhbmFseXRpY3NTZXJ2aWNlID0gcmVxdWlyZSgnLi4vLi4vLi4vc2VydmVyL3NlcnZpY2VzL2FuYWx5dGljc1NlcnZpY2UnKTtcblxuZGVzY3JpYmUoJ0FuYWx5dGljc1NlcnZpY2UnLCAoKSA9PiB7XG4gIGxldCBtb2NrRGF0YWJhc2U7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8g44OH44O844K/44OZ44O844K544Gu44Oi44OD44Kv44KS6Kit5a6aXG4gICAgbW9ja0RhdGFiYXNlID0ge1xuICAgICAgcXVlcnk6IGplc3QuZm4oKVxuICAgIH07XG5cbiAgICBhbmFseXRpY3NTZXJ2aWNlLmRiID0gbW9ja0RhdGFiYXNlO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0RXZlbnRTdGF0aXN0aWNzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGJhc2ljIGV2ZW50IHN0YXRpc3RpY3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBldmVudElkID0gJ2V2ZW50LTAwMSc7XG4gICAgICBjb25zdCBtb2NrQmFzaWNTdGF0cyA9IHtcbiAgICAgICAgaWQ6ICdldmVudC0wMDEnLFxuICAgICAgICB0aXRsZTogJ1Rlc3QgRXZlbnQnLFxuICAgICAgICB0b3RhbF9wYXJ0aWNpcGFudHM6IDI1LFxuICAgICAgICB0b3RhbF90YWxrczogOCxcbiAgICAgICAgb25saW5lX3BhcnRpY2lwYW50czogMTUsXG4gICAgICAgIG9mZmxpbmVfcGFydGljaXBhbnRzOiAxMFxuICAgICAgfTtcblxuICAgICAgYW5hbHl0aWNzU2VydmljZS5nZXRCYXNpY0V2ZW50U3RhdHMgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBldmVudEluZm86IHtcbiAgICAgICAgICBpZDogZXZlbnRJZCxcbiAgICAgICAgICB0aXRsZTogJ1Rlc3QgRXZlbnQnXG4gICAgICAgIH0sXG4gICAgICAgIHN1bW1hcnk6IHtcbiAgICAgICAgICB0b3RhbFBhcnRpY2lwYW50czogMjUsXG4gICAgICAgICAgdG90YWxUYWxrczogOCxcbiAgICAgICAgICBvbmxpbmVQYXJ0aWNpcGFudHM6IDE1LFxuICAgICAgICAgIG9mZmxpbmVQYXJ0aWNpcGFudHM6IDEwXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhbmFseXRpY3NTZXJ2aWNlLmdldFBhcnRpY2lwYW50U3RhdHMgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkaXN0cmlidXRpb246IHtcbiAgICAgICAgICBieVR5cGU6IFtcbiAgICAgICAgICAgIHsgdHlwZTogJ29ubGluZScsIGNvdW50OiAxNSwgcGVyY2VudGFnZTogNjAgfSxcbiAgICAgICAgICAgIHsgdHlwZTogJ29mZmxpbmUnLCBjb3VudDogMTAsIHBlcmNlbnRhZ2U6IDQwIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhbmFseXRpY3NTZXJ2aWNlLmdldFRhbGtTdGF0cyA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRpc3RyaWJ1dGlvbjoge1xuICAgICAgICAgIGJ5Q2F0ZWdvcnk6IFtcbiAgICAgICAgICAgIHsgY2F0ZWdvcnk6ICfmioDooZMnLCBjb3VudDogNSwgcGVyY2VudGFnZTogNjIuNSB9LFxuICAgICAgICAgICAgeyBjYXRlZ29yeTogJ+i2o+WRsycsIGNvdW50OiAzLCBwZXJjZW50YWdlOiAzNy41IH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhbmFseXRpY3NTZXJ2aWNlLmdldEV2ZW50U3RhdGlzdGljcyhldmVudElkKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ2V2ZW50SWQnLCBldmVudElkKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdnZW5lcmF0ZWRBdCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0aXN0aWNzLmJhc2ljLnN1bW1hcnkudG90YWxQYXJ0aWNpcGFudHMpLnRvQmUoMjUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0aXN0aWNzLmJhc2ljLnN1bW1hcnkudG90YWxUYWxrcykudG9CZSg4KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaW5jbHVkZSB0cmVuZHMgd2hlbiByZXF1ZXN0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBldmVudElkID0gJ2V2ZW50LTAwMSc7XG4gICAgICBjb25zdCBvcHRpb25zID0geyBpbmNsdWRlVHJlbmRzOiB0cnVlIH07XG5cbiAgICAgIGFuYWx5dGljc1NlcnZpY2UuZ2V0QmFzaWNFdmVudFN0YXRzID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZXZlbnRJbmZvOiB7IGlkOiBldmVudElkIH0sXG4gICAgICAgIHN1bW1hcnk6IHsgdG90YWxQYXJ0aWNpcGFudHM6IDI1IH1cbiAgICAgIH0pO1xuICAgICAgYW5hbHl0aWNzU2VydmljZS5nZXRQYXJ0aWNpcGFudFN0YXRzID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGlzdHJpYnV0aW9uOiB7fSB9KTtcbiAgICAgIGFuYWx5dGljc1NlcnZpY2UuZ2V0VGFsa1N0YXRzID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGlzdHJpYnV0aW9uOiB7fSB9KTtcbiAgICAgIGFuYWx5dGljc1NlcnZpY2UuZ2V0RXZlbnRUcmVuZHMgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICByZWdpc3RyYXRpb25zOiB7XG4gICAgICAgICAgZGFpbHk6IFt7IGRhdGU6ICcyMDI1LTA2LTIwJywgY291bnQ6IDUgfV0sXG4gICAgICAgICAgY3VtdWxhdGl2ZTogW3sgZGF0ZTogJzIwMjUtMDYtMjAnLCB0b3RhbDogNSB9XVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYW5hbHl0aWNzU2VydmljZS5nZXRFdmVudFN0YXRpc3RpY3MoZXZlbnRJZCwgb3B0aW9ucyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQudHJlbmRzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGFuYWx5dGljc1NlcnZpY2UuZ2V0RXZlbnRUcmVuZHMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV2ZW50SWQsIG9wdGlvbnMpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZXJyb3JzIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBldmVudElkID0gJ2ludmFsaWQtZXZlbnQnO1xuXG4gICAgICBhbmFseXRpY3NTZXJ2aWNlLmdldEJhc2ljRXZlbnRTdGF0cyA9IGplc3RcbiAgICAgICAgLmZuKClcbiAgICAgICAgLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignRXZlbnQgbm90IGZvdW5kJykpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoYW5hbHl0aWNzU2VydmljZS5nZXRFdmVudFN0YXRpc3RpY3MoZXZlbnRJZCkpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgJ0ZhaWxlZCB0byBnZW5lcmF0ZSBldmVudCBzdGF0aXN0aWNzJ1xuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldEJhc2ljRXZlbnRTdGF0cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHF1ZXJ5IGFuZCByZXR1cm4gYmFzaWMgZXZlbnQgc3RhdGlzdGljcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGV2ZW50SWQgPSAnZXZlbnQtMDAxJztcbiAgICAgIGNvbnN0IG1vY2tRdWVyeVJlc3VsdCA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnZXZlbnQtMDAxJyxcbiAgICAgICAgICB0aXRsZTogJ1Rlc3QgRXZlbnQnLFxuICAgICAgICAgIGRhdGU6ICcyMDI1LTA2LTI1VDE5OjAwOjAwWicsXG4gICAgICAgICAgdmVudWU6ICdUZXN0IFZlbnVlJyxcbiAgICAgICAgICBzdGF0dXM6ICd1cGNvbWluZycsXG4gICAgICAgICAgdG90YWxfcGFydGljaXBhbnRzOiAyNSxcbiAgICAgICAgICB0b3RhbF90YWxrczogOCxcbiAgICAgICAgICBvbmxpbmVfcGFydGljaXBhbnRzOiAxNSxcbiAgICAgICAgICBvZmZsaW5lX3BhcnRpY2lwYW50czogMTAsXG4gICAgICAgICAgY29uZmlybWVkX3RhbGtzOiA2LFxuICAgICAgICAgIHBlbmRpbmdfdGFsa3M6IDIsXG4gICAgICAgICAgYXZnX3RhbGtfZHVyYXRpb246IDUuNVxuICAgICAgICB9XG4gICAgICBdO1xuXG4gICAgICBtb2NrRGF0YWJhc2UucXVlcnkubW9ja1Jlc29sdmVkVmFsdWUobW9ja1F1ZXJ5UmVzdWx0KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYW5hbHl0aWNzU2VydmljZS5nZXRCYXNpY0V2ZW50U3RhdHMoZXZlbnRJZCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuZXZlbnRJbmZvLmlkKS50b0JlKGV2ZW50SWQpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5ldmVudEluZm8udGl0bGUpLnRvQmUoJ1Rlc3QgRXZlbnQnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VtbWFyeS50b3RhbFBhcnRpY2lwYW50cykudG9CZSgyNSk7XG4gICAgICBleHBlY3QocmVzdWx0LnN1bW1hcnkudG90YWxUYWxrcykudG9CZSg4KTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VtbWFyeS5vbmxpbmVQYXJ0aWNpcGFudHMpLnRvQmUoMTUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdW1tYXJ5Lm9mZmxpbmVQYXJ0aWNpcGFudHMpLnRvQmUoMTApO1xuICAgICAgZXhwZWN0KG1vY2tEYXRhYmFzZS5xdWVyeSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1NFTEVDVCcpLCBbZXZlbnRJZF0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBlcnJvciB3aGVuIGV2ZW50IG5vdCBmb3VuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGV2ZW50SWQgPSAnbm9uZXhpc3RlbnQnO1xuICAgICAgbW9ja0RhdGFiYXNlLnF1ZXJ5Lm1vY2tSZXNvbHZlZFZhbHVlKFtdKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KGFuYWx5dGljc1NlcnZpY2UuZ2V0QmFzaWNFdmVudFN0YXRzKGV2ZW50SWQpKS5yZWplY3RzLnRvVGhyb3coJ0V2ZW50IG5vdCBmb3VuZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0UGFydGljaXBhbnRTdGF0cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBwYXJ0aWNpcGFudCBkaXN0cmlidXRpb24gc3RhdGlzdGljcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGV2ZW50SWQgPSAnZXZlbnQtMDAxJztcbiAgICAgIGNvbnN0IG1vY2tEaXN0cmlidXRpb24gPSBbXG4gICAgICAgIHsgcGFydGljaXBhdGlvbl90eXBlOiAnb25saW5lJywgY291bnQ6IDE1LCBwZXJjZW50YWdlOiA2MC4wIH0sXG4gICAgICAgIHsgcGFydGljaXBhdGlvbl90eXBlOiAnb2ZmbGluZScsIGNvdW50OiAxMCwgcGVyY2VudGFnZTogNDAuMCB9XG4gICAgICBdO1xuICAgICAgY29uc3QgbW9ja1RpbWVsaW5lID0gW1xuICAgICAgICB7IGRhdGU6ICcyMDI1LTA2LTIwJywgcmVnaXN0cmF0aW9uczogNSwgcGFydGljaXBhdGlvbl90eXBlOiAnb25saW5lJyB9LFxuICAgICAgICB7IGRhdGU6ICcyMDI1LTA2LTIwJywgcmVnaXN0cmF0aW9uczogMywgcGFydGljaXBhdGlvbl90eXBlOiAnb2ZmbGluZScgfVxuICAgICAgXTtcbiAgICAgIGNvbnN0IG1vY2tHZW9ncmFwaGljID0gW1xuICAgICAgICB7IGxvY2F0aW9uOiAn5p2x5Lqs6YO9JywgY291bnQ6IDEyIH0sXG4gICAgICAgIHsgbG9jYXRpb246ICflpKfpmKrlupwnLCBjb3VudDogOCB9XG4gICAgICBdO1xuICAgICAgY29uc3QgbW9ja0F0dHJpYnV0ZXMgPSBbXG4gICAgICAgIHsgb3JnYW5pemF0aW9uX3R5cGU6ICdJbmRpdmlkdWFsJywgY291bnQ6IDE4LCBhdmdfZXhwZXJpZW5jZV9sZXZlbDogMi4xIH0sXG4gICAgICAgIHsgb3JnYW5pemF0aW9uX3R5cGU6ICdDb21wYW55JywgY291bnQ6IDcsIGF2Z19leHBlcmllbmNlX2xldmVsOiAyLjggfVxuICAgICAgXTtcblxuICAgICAgbW9ja0RhdGFiYXNlLnF1ZXJ5XG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UobW9ja0Rpc3RyaWJ1dGlvbilcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZShtb2NrVGltZWxpbmUpXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UobW9ja0dlb2dyYXBoaWMpXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UobW9ja0F0dHJpYnV0ZXMpO1xuXG4gICAgICBhbmFseXRpY3NTZXJ2aWNlLnByb2Nlc3NSZWdpc3RyYXRpb25UaW1lbGluZSA9IGplc3RcbiAgICAgICAgLmZuKClcbiAgICAgICAgLm1vY2tSZXR1cm5WYWx1ZShbeyBkYXRlOiAnMjAyNS0wNi0yMCcsIG9ubGluZTogNSwgb2ZmbGluZTogMywgdG90YWw6IDggfV0pO1xuICAgICAgYW5hbHl0aWNzU2VydmljZS5jYWxjdWxhdGVBdmVyYWdlUGVyRGF5ID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSg0LjIpO1xuICAgICAgYW5hbHl0aWNzU2VydmljZS5maW5kUGVha1JlZ2lzdHJhdGlvbkRheSA9IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBkYXRlOiAnMjAyNS0wNi0yMCcsXG4gICAgICAgIHJlZ2lzdHJhdGlvbnM6IDhcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhbmFseXRpY3NTZXJ2aWNlLmdldFBhcnRpY2lwYW50U3RhdHMoZXZlbnRJZCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuZGlzdHJpYnV0aW9uLmJ5VHlwZSkudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5kaXN0cmlidXRpb24uYnlUeXBlWzBdLnR5cGUpLnRvQmUoJ29ubGluZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5kaXN0cmlidXRpb24uYnlUeXBlWzBdLmNvdW50KS50b0JlKDE1KTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGlzdHJpYnV0aW9uLmJ5VHlwZVswXS5wZXJjZW50YWdlKS50b0JlKDYwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudGltZWxpbmUpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VtbWFyeS5hdmVyYWdlUGVyRGF5KS50b0JlKDQuMik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXRUYWxrU3RhdHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdGFsayBkaXN0cmlidXRpb24gYW5kIHNwZWFrZXIgc3RhdGlzdGljcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGV2ZW50SWQgPSAnZXZlbnQtMDAxJztcbiAgICAgIGNvbnN0IG1vY2tUYWxrRGlzdHJpYnV0aW9uID0gW1xuICAgICAgICB7IGNhdGVnb3J5OiAn5oqA6KGTJywgc3RhdHVzOiAnY29uZmlybWVkJywgY291bnQ6IDUsIGF2Z19kdXJhdGlvbjogNS4yIH0sXG4gICAgICAgIHsgY2F0ZWdvcnk6ICfotqPlkbMnLCBzdGF0dXM6ICdjb25maXJtZWQnLCBjb3VudDogMywgYXZnX2R1cmF0aW9uOiA0LjggfVxuICAgICAgXTtcbiAgICAgIGNvbnN0IG1vY2tTcGVha2VyQW5hbHlzaXMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICB1bmlxdWVfc3BlYWtlcnM6IDgsXG4gICAgICAgICAgdG90YWxfdGFsa3M6IDgsXG4gICAgICAgICAgdGFsa3NfcGVyX3NwZWFrZXI6IDEuMCxcbiAgICAgICAgICBmaXJzdF90aW1lX3NwZWFrZXJzOiAzLFxuICAgICAgICAgIGV4cGVyaWVuY2VkX3NwZWFrZXJzOiA1XG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgICBjb25zdCBtb2NrU3VibWlzc2lvblRpbWVsaW5lID0gW1xuICAgICAgICB7IGRhdGU6ICcyMDI1LTA2LTE1Jywgc3VibWlzc2lvbnM6IDMsIHN0YXR1czogJ2NvbmZpcm1lZCcgfSxcbiAgICAgICAgeyBkYXRlOiAnMjAyNS0wNi0xNicsIHN1Ym1pc3Npb25zOiAyLCBzdGF0dXM6ICdwZW5kaW5nJyB9XG4gICAgICBdO1xuICAgICAgY29uc3QgbW9ja0NhdGVnb3J5UG9wdWxhcml0eSA9IFtcbiAgICAgICAgeyBjYXRlZ29yeTogJ+aKgOihkycsIGNvdW50OiA1LCBwZXJjZW50YWdlOiA2Mi41LCBhdmdfZHVyYXRpb246IDUuMiB9LFxuICAgICAgICB7IGNhdGVnb3J5OiAn6Laj5ZGzJywgY291bnQ6IDMsIHBlcmNlbnRhZ2U6IDM3LjUsIGF2Z19kdXJhdGlvbjogNC44IH1cbiAgICAgIF07XG5cbiAgICAgIG1vY2tEYXRhYmFzZS5xdWVyeVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKG1vY2tUYWxrRGlzdHJpYnV0aW9uKVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKG1vY2tTcGVha2VyQW5hbHlzaXMpXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UobW9ja1N1Ym1pc3Npb25UaW1lbGluZSlcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZShtb2NrQ2F0ZWdvcnlQb3B1bGFyaXR5KTtcblxuICAgICAgYW5hbHl0aWNzU2VydmljZS5ncm91cEJ5U3RhdHVzID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGNvbmZpcm1lZDogW1xuICAgICAgICAgIHsgY2F0ZWdvcnk6ICfmioDooZMnLCBjb3VudDogNSwgYXZlcmFnZUR1cmF0aW9uOiA1LjIgfSxcbiAgICAgICAgICB7IGNhdGVnb3J5OiAn6Laj5ZGzJywgY291bnQ6IDMsIGF2ZXJhZ2VEdXJhdGlvbjogNC44IH1cbiAgICAgICAgXVxuICAgICAgfSk7XG4gICAgICBhbmFseXRpY3NTZXJ2aWNlLnByb2Nlc3NTdWJtaXNzaW9uVGltZWxpbmUgPSBqZXN0XG4gICAgICAgIC5mbigpXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWUoW3sgZGF0ZTogJzIwMjUtMDYtMTUnLCBjb25maXJtZWQ6IDMsIHBlbmRpbmc6IDAsIHRvdGFsOiAzIH1dKTtcbiAgICAgIGFuYWx5dGljc1NlcnZpY2UuY2FsY3VsYXRlQXZlcmFnZUR1cmF0aW9uID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSg1LjApO1xuICAgICAgYW5hbHl0aWNzU2VydmljZS5hbmFseXplRHVyYXRpb25EaXN0cmlidXRpb24gPSBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgJzVtaW4nOiA2LFxuICAgICAgICAnMTBtaW4nOiAyXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYW5hbHl0aWNzU2VydmljZS5nZXRUYWxrU3RhdHMoZXZlbnRJZCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuZGlzdHJpYnV0aW9uLmJ5Q2F0ZWdvcnkpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGlzdHJpYnV0aW9uLmJ5Q2F0ZWdvcnlbMF0uY2F0ZWdvcnkpLnRvQmUoJ+aKgOihkycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zcGVha2Vycy51bmlxdWVTcGVha2VycykudG9CZSg4KTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3BlYWtlcnMudG90YWxUYWxrcykudG9CZSg4KTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3BlYWtlcnMuZmlyc3RUaW1lU3BlYWtlcnMpLnRvQmUoMyk7XG4gICAgICBleHBlY3QocmVzdWx0LmR1cmF0aW9uLmF2ZXJhZ2UpLnRvQmUoNS4wKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dlbmVyYXRlUmVwb3J0JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgc3VtbWFyeSByZXBvcnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBldmVudElkID0gJ2V2ZW50LTAwMSc7XG4gICAgICBjb25zdCByZXBvcnRUeXBlID0gJ3N1bW1hcnknO1xuICAgICAgY29uc3QgbW9ja1N0YXRzID0ge1xuICAgICAgICBzdGF0aXN0aWNzOiB7XG4gICAgICAgICAgYmFzaWM6IHtcbiAgICAgICAgICAgIGV2ZW50SW5mbzoge1xuICAgICAgICAgICAgICB0aXRsZTogJ1Rlc3QgRXZlbnQnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VtbWFyeToge1xuICAgICAgICAgICAgICB0b3RhbFBhcnRpY2lwYW50czogMjUsXG4gICAgICAgICAgICAgIHRvdGFsVGFsa3M6IDhcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHBhcnRpY2lwYW50czoge1xuICAgICAgICAgICAgZGlzdHJpYnV0aW9uOiB7XG4gICAgICAgICAgICAgIGJ5VHlwZTogW3sgdHlwZTogJ29ubGluZScsIHBlcmNlbnRhZ2U6IDYwIH1dXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhbmFseXRpY3NTZXJ2aWNlLmdldEV2ZW50U3RhdGlzdGljcyA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrU3RhdHMpO1xuICAgICAgYW5hbHl0aWNzU2VydmljZS5nZW5lcmF0ZVN1bW1hcnlSZXBvcnQgPSBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgdHlwZTogJ3N1bW1hcnknLFxuICAgICAgICB0aXRsZTogJ1Rlc3QgRXZlbnQgLSDjgrXjg57jg6rjg7zjg6zjg53jg7zjg4gnLFxuICAgICAgICBrZXlNZXRyaWNzOiB7XG4gICAgICAgICAgcGFydGljaXBhbnRzOiAyNSxcbiAgICAgICAgICB0YWxrczogOCxcbiAgICAgICAgICBvbmxpbmVSYXRpbzogNjBcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFuYWx5dGljc1NlcnZpY2UuZ2VuZXJhdGVSZXBvcnQoZXZlbnRJZCwgcmVwb3J0VHlwZSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQudHlwZSkudG9CZSgnc3VtbWFyeScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5rZXlNZXRyaWNzLnBhcnRpY2lwYW50cykudG9CZSgyNSk7XG4gICAgICBleHBlY3QoYW5hbHl0aWNzU2VydmljZS5nZXRFdmVudFN0YXRpc3RpY3MpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBldmVudElkLFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgaW5jbHVkZURldGFpbHM6IHRydWUsXG4gICAgICAgICAgaW5jbHVkZVRyZW5kczogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdGhyb3cgZXJyb3IgZm9yIGludmFsaWQgcmVwb3J0IHR5cGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBldmVudElkID0gJ2V2ZW50LTAwMSc7XG4gICAgICBjb25zdCByZXBvcnRUeXBlID0gJ2ludmFsaWQnO1xuXG4gICAgICBhbmFseXRpY3NTZXJ2aWNlLmdldEV2ZW50U3RhdGlzdGljcyA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7fSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChhbmFseXRpY3NTZXJ2aWNlLmdlbmVyYXRlUmVwb3J0KGV2ZW50SWQsIHJlcG9ydFR5cGUpKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgICdJbnZhbGlkIHJlcG9ydCB0eXBlJ1xuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2hlbHBlciBtZXRob2RzJywgKCkgPT4ge1xuICAgIGRlc2NyaWJlKCdwcm9jZXNzUmVnaXN0cmF0aW9uVGltZWxpbmUnLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIHByb2Nlc3MgdGltZWxpbmUgZGF0YSBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRpbWVsaW5lID0gW1xuICAgICAgICAgIHsgZGF0ZTogJzIwMjUtMDYtMjAnLCByZWdpc3RyYXRpb25zOiA1LCBwYXJ0aWNpcGF0aW9uX3R5cGU6ICdvbmxpbmUnIH0sXG4gICAgICAgICAgeyBkYXRlOiAnMjAyNS0wNi0yMCcsIHJlZ2lzdHJhdGlvbnM6IDMsIHBhcnRpY2lwYXRpb25fdHlwZTogJ29mZmxpbmUnIH0sXG4gICAgICAgICAgeyBkYXRlOiAnMjAyNS0wNi0yMScsIHJlZ2lzdHJhdGlvbnM6IDcsIHBhcnRpY2lwYXRpb25fdHlwZTogJ29ubGluZScgfVxuICAgICAgICBdO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGFuYWx5dGljc1NlcnZpY2UucHJvY2Vzc1JlZ2lzdHJhdGlvblRpbWVsaW5lKHRpbWVsaW5lKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVMZW5ndGgoMik7XG4gICAgICAgIGV4cGVjdChyZXN1bHRbMF0pLnRvRXF1YWwoe1xuICAgICAgICAgIGRhdGU6ICcyMDI1LTA2LTIwJyxcbiAgICAgICAgICBvbmxpbmU6IDUsXG4gICAgICAgICAgb2ZmbGluZTogMyxcbiAgICAgICAgICB0b3RhbDogOFxuICAgICAgICB9KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdFsxXSkudG9FcXVhbCh7XG4gICAgICAgICAgZGF0ZTogJzIwMjUtMDYtMjEnLFxuICAgICAgICAgIG9ubGluZTogNyxcbiAgICAgICAgICBvZmZsaW5lOiAwLFxuICAgICAgICAgIHRvdGFsOiA3XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnY2FsY3VsYXRlQXZlcmFnZVBlckRheScsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIGF2ZXJhZ2UgcmVnaXN0cmF0aW9ucyBwZXIgZGF5JywgKCkgPT4ge1xuICAgICAgICBjb25zdCB0aW1lbGluZSA9IFtcbiAgICAgICAgICB7IGRhdGU6ICcyMDI1LTA2LTIwJywgcmVnaXN0cmF0aW9uczogNSB9LFxuICAgICAgICAgIHsgZGF0ZTogJzIwMjUtMDYtMjEnLCByZWdpc3RyYXRpb25zOiA3IH0sXG4gICAgICAgICAgeyBkYXRlOiAnMjAyNS0wNi0yMScsIHJlZ2lzdHJhdGlvbnM6IDMgfVxuICAgICAgICBdO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGFuYWx5dGljc1NlcnZpY2UuY2FsY3VsYXRlQXZlcmFnZVBlckRheSh0aW1lbGluZSk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSg3LjUpOyAvLyAxNSByZWdpc3RyYXRpb25zIC8gMiB1bmlxdWUgZGF5c1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgcmV0dXJuIDAgZm9yIGVtcHR5IHRpbWVsaW5lJywgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhbmFseXRpY3NTZXJ2aWNlLmNhbGN1bGF0ZUF2ZXJhZ2VQZXJEYXkoW10pO1xuICAgICAgICBleHBlY3QocmVzdWx0KS50b0JlKDApO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnZmluZFBlYWtSZWdpc3RyYXRpb25EYXknLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIGZpbmQgZGF5IHdpdGggaGlnaGVzdCByZWdpc3RyYXRpb25zJywgKCkgPT4ge1xuICAgICAgICBjb25zdCB0aW1lbGluZSA9IFtcbiAgICAgICAgICB7IGRhdGU6ICcyMDI1LTA2LTIwJywgcmVnaXN0cmF0aW9uczogNSB9LFxuICAgICAgICAgIHsgZGF0ZTogJzIwMjUtMDYtMjEnLCByZWdpc3RyYXRpb25zOiAxMiB9LFxuICAgICAgICAgIHsgZGF0ZTogJzIwMjUtMDYtMjInLCByZWdpc3RyYXRpb25zOiA3IH1cbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhbmFseXRpY3NTZXJ2aWNlLmZpbmRQZWFrUmVnaXN0cmF0aW9uRGF5KHRpbWVsaW5lKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHtcbiAgICAgICAgICBkYXRlOiAnMjAyNS0wNi0yMScsXG4gICAgICAgICAgcmVnaXN0cmF0aW9uczogMTJcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gbnVsbCBmb3IgZW1wdHkgdGltZWxpbmUnLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGFuYWx5dGljc1NlcnZpY2UuZmluZFBlYWtSZWdpc3RyYXRpb25EYXkoW10pO1xuICAgICAgICBleHBlY3QocmVzdWx0KS50b0JlTnVsbCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnbGluZWFyUmVncmVzc2lvbicsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIGxpbmVhciByZWdyZXNzaW9uIGZvciBwcmVkaWN0aW9ucycsICgpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IFt7IHZhbHVlOiAyIH0sIHsgdmFsdWU6IDQgfSwgeyB2YWx1ZTogNiB9LCB7IHZhbHVlOiA4IH1dO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGFuYWx5dGljc1NlcnZpY2UubGluZWFyUmVncmVzc2lvbihkYXRhKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnbmV4dFdlZWsnKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ2NvbmZpZGVuY2UnKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5uZXh0V2VlaykudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICBleHBlY3QocmVzdWx0LmNvbmZpZGVuY2UpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuY29uZmlkZW5jZSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGhhbmRsZSBpbnN1ZmZpY2llbnQgZGF0YScsICgpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IFt7IHZhbHVlOiA1IH1dO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGFuYWx5dGljc1NlcnZpY2UubGluZWFyUmVncmVzc2lvbihkYXRhKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0Lm5leHRXZWVrKS50b0JlKDApO1xuICAgICAgICBleHBlY3QocmVzdWx0LmNvbmZpZGVuY2UpLnRvQmUoMCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3BlcmZvcm1hbmNlIHRlc3RzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGxhcmdlIGRhdGFzZXRzIGVmZmljaWVudGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXZlbnRJZCA9ICdsYXJnZS1ldmVudCc7XG4gICAgICBjb25zdCBsYXJnZURhdGFzZXQgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMDAwIH0sIChfLCBpKSA9PiAoe1xuICAgICAgICBpZDogaSArIDEsXG4gICAgICAgIHBhcnRpY2lwYXRpb25fdHlwZTogaSAlIDIgPT09IDAgPyAnb25saW5lJyA6ICdvZmZsaW5lJyxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoMjAyNSwgNSwgMjAgKyAoaSAlIDcpKVxuICAgICAgfSkpO1xuXG4gICAgICBtb2NrRGF0YWJhc2UucXVlcnkubW9ja1Jlc29sdmVkVmFsdWUobGFyZ2VEYXRhc2V0KTtcbiAgICAgIGFuYWx5dGljc1NlcnZpY2UuZ2V0QmFzaWNFdmVudFN0YXRzID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZXZlbnRJbmZvOiB7IGlkOiBldmVudElkIH0sXG4gICAgICAgIHN1bW1hcnk6IHsgdG90YWxQYXJ0aWNpcGFudHM6IDEwMDAgfVxuICAgICAgfSk7XG4gICAgICBhbmFseXRpY3NTZXJ2aWNlLmdldFRhbGtTdGF0cyA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRpc3RyaWJ1dGlvbjoge30gfSk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBhd2FpdCBhbmFseXRpY3NTZXJ2aWNlLmdldFBhcnRpY2lwYW50U3RhdHMoZXZlbnRJZCk7XG4gICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgZXhwZWN0KGVuZFRpbWUgLSBzdGFydFRpbWUpLnRvQmVMZXNzVGhhbigxMDAwKTsgLy8gMeenkuS7peWGhVxuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxnQkFBZ0IsR0FBR0MsT0FBTyxDQUFDLDJDQUEyQyxDQUFDO0FBRTdFQyxRQUFRLENBQUMsa0JBQWtCLEVBQUUsTUFBTTtFQUNqQyxJQUFJQyxZQUFZO0VB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