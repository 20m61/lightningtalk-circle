32a9e27715ff0ac374e321c0ad07b912
/**
 * Analytics Service
 * イベント分析とレポート機能を提供するサービス
 */

const logger = require('../middleware/logger');
const {
  DatabaseService
} = require('./database');
class AnalyticsService {
  constructor() {
    this.db = DatabaseService.getInstance();
  }

  /**
   * イベント統計の取得
   */
  async getEventStatistics(eventId, options = {}) {
    try {
      const {
        startDate,
        endDate,
        includeDetails = false,
        includeTrends = false
      } = options;

      // 基本統計
      const basicStats = await this.getBasicEventStats(eventId);

      // 参加者統計
      const participantStats = await this.getParticipantStats(eventId, {
        startDate,
        endDate
      });

      // 発表統計
      const talkStats = await this.getTalkStats(eventId);

      // 時系列データ（トレンド分析）
      let trends = null;
      if (includeTrends) {
        trends = await this.getEventTrends(eventId, {
          startDate,
          endDate
        });
      }

      // 詳細データ
      let details = null;
      if (includeDetails) {
        details = await this.getEventDetails(eventId);
      }
      return {
        eventId,
        generatedAt: new Date().toISOString(),
        period: {
          startDate: startDate || null,
          endDate: endDate || null
        },
        statistics: {
          basic: basicStats,
          participants: participantStats,
          talks: talkStats
        },
        trends,
        details
      };
    } catch (error) {
      logger.error('Failed to get event statistics:', error);
      throw new Error('Failed to generate event statistics');
    }
  }

  /**
   * 基本イベント統計
   */
  async getBasicEventStats(eventId) {
    const stats = await this.db.query(`
      SELECT 
        e.id,
        e.title,
        e.date,
        e.venue,
        e.status,
        COUNT(DISTINCT p.id) as total_participants,
        COUNT(DISTINCT t.id) as total_talks,
        COUNT(DISTINCT CASE WHEN p.participation_type = 'online' THEN p.id END) as online_participants,
        COUNT(DISTINCT CASE WHEN p.participation_type = 'offline' THEN p.id END) as offline_participants,
        COUNT(DISTINCT CASE WHEN t.status = 'confirmed' THEN t.id END) as confirmed_talks,
        COUNT(DISTINCT CASE WHEN t.status = 'pending' THEN t.id END) as pending_talks,
        AVG(CASE WHEN t.duration IS NOT NULL THEN t.duration END) as avg_talk_duration,
        MAX(p.created_at) as last_registration,
        MIN(p.created_at) as first_registration
      FROM events e
      LEFT JOIN participants p ON e.id = p.event_id
      LEFT JOIN talks t ON e.id = t.event_id
      WHERE e.id = ?
      GROUP BY e.id
    `, [eventId]);
    if (!stats || stats.length === 0) {
      throw new Error('Event not found');
    }
    const event = stats[0];
    return {
      eventInfo: {
        id: event.id,
        title: event.title,
        date: event.date,
        venue: event.venue,
        status: event.status
      },
      summary: {
        totalParticipants: event.total_participants || 0,
        totalTalks: event.total_talks || 0,
        onlineParticipants: event.online_participants || 0,
        offlineParticipants: event.offline_participants || 0,
        confirmedTalks: event.confirmed_talks || 0,
        pendingTalks: event.pending_talks || 0,
        averageTalkDuration: parseFloat(event.avg_talk_duration) || 0,
        registrationPeriod: {
          first: event.first_registration,
          last: event.last_registration
        }
      }
    };
  }

  /**
   * 参加者統計
   */
  async getParticipantStats(eventId, options = {}) {
    const {
      startDate,
      endDate
    } = options;
    let dateFilter = '';
    let params = [eventId];
    if (startDate && endDate) {
      dateFilter = 'AND p.created_at BETWEEN ? AND ?';
      params.push(startDate, endDate);
    }

    // 参加者の基本分布
    const participantDistribution = await this.db.query(`
      SELECT 
        participation_type,
        COUNT(*) as count,
        COUNT(*) * 100.0 / (SELECT COUNT(*) FROM participants WHERE event_id = ?) as percentage
      FROM participants p
      WHERE event_id = ? ${dateFilter}
      GROUP BY participation_type
    `, params);

    // 時間別登録数
    const registrationTimeline = await this.db.query(`
      SELECT 
        DATE(created_at) as date,
        COUNT(*) as registrations,
        participation_type
      FROM participants p
      WHERE event_id = ? ${dateFilter}
      GROUP BY DATE(created_at), participation_type
      ORDER BY date
    `, params);

    // 地域別分布（optional field）
    const geographicDistribution = await this.db.query(`
      SELECT 
        COALESCE(location, 'Unknown') as location,
        COUNT(*) as count
      FROM participants p
      WHERE event_id = ? ${dateFilter}
      GROUP BY location
      ORDER BY count DESC
    `, params);

    // 参加者の属性分析
    const attributeAnalysis = await this.db.query(`
      SELECT 
        COALESCE(organization, 'Individual') as organization_type,
        COUNT(*) as count,
        AVG(CASE WHEN experience_level IS NOT NULL THEN 
          CASE experience_level 
            WHEN 'beginner' THEN 1 
            WHEN 'intermediate' THEN 2 
            WHEN 'advanced' THEN 3 
            ELSE 2 
          END 
        END) as avg_experience_level
      FROM participants p
      WHERE event_id = ? ${dateFilter}
      GROUP BY organization_type
      ORDER BY count DESC
    `, params);
    return {
      distribution: {
        byType: participantDistribution.map(row => ({
          type: row.participation_type,
          count: row.count,
          percentage: parseFloat(row.percentage.toFixed(2))
        })),
        byLocation: geographicDistribution.map(row => ({
          location: row.location,
          count: row.count
        })),
        byOrganization: attributeAnalysis.map(row => ({
          organizationType: row.organization_type,
          count: row.count,
          averageExperienceLevel: parseFloat(row.avg_experience_level?.toFixed(2)) || 0
        }))
      },
      timeline: this.processRegistrationTimeline(registrationTimeline),
      summary: {
        totalRegistrations: participantDistribution.reduce((sum, row) => sum + row.count, 0),
        averagePerDay: this.calculateAveragePerDay(registrationTimeline),
        peakRegistrationDay: this.findPeakRegistrationDay(registrationTimeline)
      }
    };
  }

  /**
   * 発表統計
   */
  async getTalkStats(eventId) {
    // 発表の基本統計
    const talkDistribution = await this.db.query(`
      SELECT 
        category,
        status,
        COUNT(*) as count,
        AVG(duration) as avg_duration,
        MIN(duration) as min_duration,
        MAX(duration) as max_duration
      FROM talks
      WHERE event_id = ?
      GROUP BY category, status
      ORDER BY category, status
    `, [eventId]);

    // 発表者の属性
    const speakerAnalysis = await this.db.query(`
      SELECT 
        COUNT(DISTINCT speaker_name) as unique_speakers,
        COUNT(*) as total_talks,
        COUNT(*) * 1.0 / COUNT(DISTINCT speaker_name) as talks_per_speaker,
        COUNT(CASE WHEN experience_level = 'first_time' THEN 1 END) as first_time_speakers,
        COUNT(CASE WHEN experience_level = 'experienced' THEN 1 END) as experienced_speakers
      FROM talks
      WHERE event_id = ?
    `, [eventId]);

    // 申込み時系列
    const submissionTimeline = await this.db.query(`
      SELECT 
        DATE(created_at) as date,
        COUNT(*) as submissions,
        status
      FROM talks
      WHERE event_id = ?
      GROUP BY DATE(created_at), status
      ORDER BY date
    `, [eventId]);

    // カテゴリ別人気度
    const categoryPopularity = await this.db.query(`
      SELECT 
        category,
        COUNT(*) as count,
        COUNT(*) * 100.0 / (SELECT COUNT(*) FROM talks WHERE event_id = ?) as percentage,
        AVG(duration) as avg_duration
      FROM talks
      WHERE event_id = ?
      GROUP BY category
      ORDER BY count DESC
    `, [eventId, eventId]);
    const speakerStats = speakerAnalysis[0];
    return {
      distribution: {
        byCategory: categoryPopularity.map(row => ({
          category: row.category,
          count: row.count,
          percentage: parseFloat(row.percentage.toFixed(2)),
          averageDuration: parseFloat(row.avg_duration?.toFixed(1)) || 0
        })),
        byStatus: this.groupByStatus(talkDistribution)
      },
      speakers: {
        uniqueSpeakers: speakerStats.unique_speakers || 0,
        totalTalks: speakerStats.total_talks || 0,
        talksPerSpeaker: parseFloat(speakerStats.talks_per_speaker?.toFixed(2)) || 0,
        firstTimeSpeakers: speakerStats.first_time_speakers || 0,
        experiencedSpeakers: speakerStats.experienced_speakers || 0
      },
      timeline: this.processSubmissionTimeline(submissionTimeline),
      duration: {
        average: this.calculateAverageDuration(talkDistribution),
        distribution: this.analyzeDurationDistribution(talkDistribution)
      }
    };
  }

  /**
   * イベントトレンド分析
   */
  async getEventTrends(eventId, options = {}) {
    const {
      startDate,
      endDate
    } = options;

    // 日別登録数推移
    const dailyRegistrations = await this.getDailyRegistrations(eventId, {
      startDate,
      endDate
    });

    // 日別発表申込み推移
    const dailySubmissions = await this.getDailySubmissions(eventId, {
      startDate,
      endDate
    });

    // 参加タイプの推移
    const participationTypeTrends = await this.getParticipationTypeTrends(eventId, {
      startDate,
      endDate
    });

    // 予測データ（回帰分析）
    const predictions = this.calculatePredictions(dailyRegistrations, dailySubmissions);
    return {
      registrations: {
        daily: dailyRegistrations,
        cumulative: this.calculateCumulative(dailyRegistrations),
        predictions: predictions.registrations
      },
      submissions: {
        daily: dailySubmissions,
        cumulative: this.calculateCumulative(dailySubmissions),
        predictions: predictions.submissions
      },
      participationTypes: participationTypeTrends,
      insights: this.generateTrendInsights(dailyRegistrations, dailySubmissions, participationTypeTrends)
    };
  }

  /**
   * イベント詳細データ
   */
  async getEventDetails(eventId) {
    // 参加者詳細リスト
    const participantsList = await this.db.query(`
      SELECT 
        id,
        name,
        email,
        participation_type,
        organization,
        location,
        experience_level,
        created_at
      FROM participants
      WHERE event_id = ?
      ORDER BY created_at DESC
    `, [eventId]);

    // 発表詳細リスト
    const talksList = await this.db.query(`
      SELECT 
        id,
        title,
        speaker_name,
        speaker_email,
        category,
        duration,
        description,
        status,
        experience_level,
        created_at
      FROM talks
      WHERE event_id = ?
      ORDER BY created_at DESC
    `, [eventId]);

    // フィードバック集計
    const feedbackSummary = await this.getFeedbackSummary(eventId);
    return {
      participants: participantsList,
      talks: talksList,
      feedback: feedbackSummary,
      export: {
        participantsCsv: this.generateParticipantsCsv(participantsList),
        talksCsv: this.generateTalksCsv(talksList)
      }
    };
  }

  /**
   * 複数イベント比較分析
   */
  async compareEvents(eventIds, options = {}) {
    const comparisons = [];
    for (const eventId of eventIds) {
      const stats = await this.getEventStatistics(eventId, options);
      comparisons.push({
        eventId,
        title: stats.statistics.basic.eventInfo.title,
        date: stats.statistics.basic.eventInfo.date,
        metrics: {
          participants: stats.statistics.basic.summary.totalParticipants,
          talks: stats.statistics.basic.summary.totalTalks,
          onlineRatio: stats.statistics.participants.distribution.byType.find(t => t.type === 'online')?.percentage || 0,
          avgTalkDuration: stats.statistics.basic.summary.averageTalkDuration
        }
      });
    }

    // 比較分析
    const analysis = this.analyzeEventComparisons(comparisons);
    return {
      events: comparisons,
      analysis,
      insights: this.generateComparisonInsights(comparisons, analysis)
    };
  }

  /**
   * レポート生成
   */
  async generateReport(eventId, reportType, options = {}) {
    try {
      const stats = await this.getEventStatistics(eventId, {
        includeDetails: true,
        includeTrends: true,
        ...options
      });
      switch (reportType) {
        case 'summary':
          return this.generateSummaryReport(stats);
        case 'detailed':
          return this.generateDetailedReport(stats);
        case 'executive':
          return this.generateExecutiveReport(stats);
        case 'participant':
          return this.generateParticipantReport(stats);
        case 'speaker':
          return this.generateSpeakerReport(stats);
        default:
          throw new Error('Invalid report type');
      }
    } catch (error) {
      logger.error('Failed to generate report:', error);
      throw new Error('Failed to generate report');
    }
  }

  // ヘルパーメソッド

  processRegistrationTimeline(timeline) {
    const processed = {};
    timeline.forEach(row => {
      if (!processed[row.date]) {
        processed[row.date] = {
          date: row.date,
          online: 0,
          offline: 0,
          total: 0
        };
      }
      processed[row.date][row.participation_type] = row.registrations;
      processed[row.date].total += row.registrations;
    });
    return Object.values(processed);
  }
  processSubmissionTimeline(timeline) {
    const processed = {};
    timeline.forEach(row => {
      if (!processed[row.date]) {
        processed[row.date] = {
          date: row.date,
          confirmed: 0,
          pending: 0,
          total: 0
        };
      }
      processed[row.date][row.status] = row.submissions;
      processed[row.date].total += row.submissions;
    });
    return Object.values(processed);
  }
  groupByStatus(distribution) {
    const statusGroups = {};
    distribution.forEach(row => {
      if (!statusGroups[row.status]) {
        statusGroups[row.status] = [];
      }
      statusGroups[row.status].push({
        category: row.category,
        count: row.count,
        averageDuration: parseFloat(row.avg_duration?.toFixed(1)) || 0
      });
    });
    return statusGroups;
  }
  calculateAveragePerDay(timeline) {
    if (!timeline.length) return 0;
    const totalDays = new Set(timeline.map(row => row.date)).size;
    const totalRegistrations = timeline.reduce((sum, row) => sum + row.registrations, 0);
    return parseFloat((totalRegistrations / totalDays).toFixed(2));
  }
  findPeakRegistrationDay(timeline) {
    if (!timeline.length) return null;
    return timeline.reduce((peak, current) => current.registrations > peak.registrations ? current : peak);
  }
  calculateAverageDuration(distribution) {
    let totalDuration = 0;
    let totalCount = 0;
    distribution.forEach(row => {
      if (row.avg_duration) {
        totalDuration += row.avg_duration * row.count;
        totalCount += row.count;
      }
    });
    return totalCount > 0 ? parseFloat((totalDuration / totalCount).toFixed(1)) : 0;
  }
  analyzeDurationDistribution(distribution) {
    const durations = {};
    distribution.forEach(row => {
      const duration = Math.round(row.avg_duration / 5) * 5; // 5分単位で丸める
      durations[`${duration}min`] = (durations[`${duration}min`] || 0) + row.count;
    });
    return durations;
  }
  calculateCumulative(dailyData) {
    let cumulative = 0;
    return dailyData.map(day => ({
      date: day.date,
      value: cumulative += day.value || day.registrations || day.submissions || 0
    }));
  }
  calculatePredictions(registrations, submissions) {
    // 簡易線形回帰による予測
    return {
      registrations: this.linearRegression(registrations),
      submissions: this.linearRegression(submissions)
    };
  }
  linearRegression(data) {
    if (data.length < 2) return {
      nextWeek: 0,
      confidence: 0
    };
    const n = data.length;
    const x = data.map((_, i) => i);
    const y = data.map(d => d.value || d.registrations || d.submissions || 0);
    const sumX = x.reduce((a, b) => a + b, 0);
    const sumY = y.reduce((a, b) => a + b, 0);
    const sumXY = x.reduce((sum, xi, i) => sum + xi * y[i], 0);
    const sumXX = x.reduce((sum, xi) => sum + xi * xi, 0);
    const slope = (n * sumXY - sumX * sumY) / (n * sumXX - sumX * sumX);
    const intercept = (sumY - slope * sumX) / n;
    const nextWeekPrediction = slope * (n + 7) + intercept;
    return {
      nextWeek: Math.max(0, Math.round(nextWeekPrediction)),
      confidence: this.calculateConfidence(data, slope, intercept)
    };
  }
  calculateConfidence(data, slope, intercept) {
    // R²値の計算
    const y = data.map(d => d.value || d.registrations || d.submissions || 0);
    const yMean = y.reduce((a, b) => a + b, 0) / y.length;
    let ssRes = 0;
    let ssTot = 0;
    y.forEach((yi, i) => {
      const predicted = slope * i + intercept;
      ssRes += Math.pow(yi - predicted, 2);
      ssTot += Math.pow(yi - yMean, 2);
    });
    const rSquared = 1 - ssRes / ssTot;
    return Math.max(0, Math.min(1, rSquared));
  }
  generateTrendInsights(registrations, submissions, participationTypes) {
    const insights = [];

    // 登録トレンド分析
    if (registrations.length > 1) {
      const recent = registrations.slice(-7);
      const earlier = registrations.slice(-14, -7);
      const recentAvg = recent.reduce((sum, d) => sum + d.registrations, 0) / recent.length;
      const earlierAvg = earlier.reduce((sum, d) => sum + d.registrations, 0) / earlier.length;
      if (recentAvg > earlierAvg * 1.2) {
        insights.push({
          type: 'positive',
          message: '登録数が増加傾向にあります',
          metric: 'registrations',
          change: ((recentAvg - earlierAvg) / earlierAvg * 100).toFixed(1)
        });
      } else if (recentAvg < earlierAvg * 0.8) {
        insights.push({
          type: 'warning',
          message: '登録数が減少傾向にあります',
          metric: 'registrations',
          change: ((recentAvg - earlierAvg) / earlierAvg * 100).toFixed(1)
        });
      }
    }
    return insights;
  }
  analyzeEventComparisons(comparisons) {
    const metrics = ['participants', 'talks', 'onlineRatio', 'avgTalkDuration'];
    const analysis = {};
    metrics.forEach(metric => {
      const values = comparisons.map(c => c.metrics[metric]);
      analysis[metric] = {
        min: Math.min(...values),
        max: Math.max(...values),
        average: values.reduce((a, b) => a + b, 0) / values.length,
        standardDeviation: this.calculateStandardDeviation(values)
      };
    });
    return analysis;
  }
  calculateStandardDeviation(values) {
    const mean = values.reduce((a, b) => a + b, 0) / values.length;
    const squareDiffs = values.map(value => Math.pow(value - mean, 2));
    const avgSquareDiff = squareDiffs.reduce((a, b) => a + b, 0) / values.length;
    return Math.sqrt(avgSquareDiff);
  }
  generateComparisonInsights(comparisons, analysis) {
    const insights = [];

    // 参加者数の分析
    const participantValues = comparisons.map(c => c.metrics.participants);
    const maxParticipants = Math.max(...participantValues);
    const bestEvent = comparisons.find(c => c.metrics.participants === maxParticipants);
    insights.push({
      type: 'highlight',
      message: `最も参加者が多かったのは「${bestEvent.title}」で${maxParticipants}名でした`,
      category: 'participation'
    });
    return insights;
  }
  generateSummaryReport(stats) {
    return {
      type: 'summary',
      title: `${stats.statistics.basic.eventInfo.title} - サマリーレポート`,
      generatedAt: new Date().toISOString(),
      keyMetrics: {
        participants: stats.statistics.basic.summary.totalParticipants,
        talks: stats.statistics.basic.summary.totalTalks,
        onlineRatio: stats.statistics.participants.distribution.byType.find(t => t.type === 'online')?.percentage || 0
      },
      highlights: [`総参加者数: ${stats.statistics.basic.summary.totalParticipants}名`, `総発表数: ${stats.statistics.basic.summary.totalTalks}件`, `オンライン参加率: ${stats.statistics.participants.distribution.byType.find(t => t.type === 'online')?.percentage || 0}%`]
    };
  }
  async getDailyRegistrations(eventId, options) {
    // 実装は簡略化
    return [];
  }
  async getDailySubmissions(eventId, options) {
    // 実装は簡略化
    return [];
  }
  async getParticipationTypeTrends(eventId, options) {
    // 実装は簡略化
    return [];
  }
  async getFeedbackSummary(eventId) {
    // 実装は簡略化
    return {};
  }
  generateParticipantsCsv(participants) {
    // CSV生成の実装
    return 'CSV data';
  }
  generateTalksCsv(talks) {
    // CSV生成の実装
    return 'CSV data';
  }
  generateDetailedReport(stats) {
    // 詳細レポート生成
    return {};
  }
  generateExecutiveReport(stats) {
    // エグゼクティブレポート生成
    return {};
  }
  generateParticipantReport(stats) {
    // 参加者レポート生成
    return {};
  }
  generateSpeakerReport(stats) {
    // 発表者レポート生成
    return {};
  }
}
module.exports = new AnalyticsService();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsb2dnZXIiLCJyZXF1aXJlIiwiRGF0YWJhc2VTZXJ2aWNlIiwiQW5hbHl0aWNzU2VydmljZSIsImNvbnN0cnVjdG9yIiwiZGIiLCJnZXRJbnN0YW5jZSIsImdldEV2ZW50U3RhdGlzdGljcyIsImV2ZW50SWQiLCJvcHRpb25zIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImluY2x1ZGVEZXRhaWxzIiwiaW5jbHVkZVRyZW5kcyIsImJhc2ljU3RhdHMiLCJnZXRCYXNpY0V2ZW50U3RhdHMiLCJwYXJ0aWNpcGFudFN0YXRzIiwiZ2V0UGFydGljaXBhbnRTdGF0cyIsInRhbGtTdGF0cyIsImdldFRhbGtTdGF0cyIsInRyZW5kcyIsImdldEV2ZW50VHJlbmRzIiwiZGV0YWlscyIsImdldEV2ZW50RGV0YWlscyIsImdlbmVyYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicGVyaW9kIiwic3RhdGlzdGljcyIsImJhc2ljIiwicGFydGljaXBhbnRzIiwidGFsa3MiLCJlcnJvciIsIkVycm9yIiwic3RhdHMiLCJxdWVyeSIsImxlbmd0aCIsImV2ZW50IiwiZXZlbnRJbmZvIiwiaWQiLCJ0aXRsZSIsImRhdGUiLCJ2ZW51ZSIsInN0YXR1cyIsInN1bW1hcnkiLCJ0b3RhbFBhcnRpY2lwYW50cyIsInRvdGFsX3BhcnRpY2lwYW50cyIsInRvdGFsVGFsa3MiLCJ0b3RhbF90YWxrcyIsIm9ubGluZVBhcnRpY2lwYW50cyIsIm9ubGluZV9wYXJ0aWNpcGFudHMiLCJvZmZsaW5lUGFydGljaXBhbnRzIiwib2ZmbGluZV9wYXJ0aWNpcGFudHMiLCJjb25maXJtZWRUYWxrcyIsImNvbmZpcm1lZF90YWxrcyIsInBlbmRpbmdUYWxrcyIsInBlbmRpbmdfdGFsa3MiLCJhdmVyYWdlVGFsa0R1cmF0aW9uIiwicGFyc2VGbG9hdCIsImF2Z190YWxrX2R1cmF0aW9uIiwicmVnaXN0cmF0aW9uUGVyaW9kIiwiZmlyc3QiLCJmaXJzdF9yZWdpc3RyYXRpb24iLCJsYXN0IiwibGFzdF9yZWdpc3RyYXRpb24iLCJkYXRlRmlsdGVyIiwicGFyYW1zIiwicHVzaCIsInBhcnRpY2lwYW50RGlzdHJpYnV0aW9uIiwicmVnaXN0cmF0aW9uVGltZWxpbmUiLCJnZW9ncmFwaGljRGlzdHJpYnV0aW9uIiwiYXR0cmlidXRlQW5hbHlzaXMiLCJkaXN0cmlidXRpb24iLCJieVR5cGUiLCJtYXAiLCJyb3ciLCJ0eXBlIiwicGFydGljaXBhdGlvbl90eXBlIiwiY291bnQiLCJwZXJjZW50YWdlIiwidG9GaXhlZCIsImJ5TG9jYXRpb24iLCJsb2NhdGlvbiIsImJ5T3JnYW5pemF0aW9uIiwib3JnYW5pemF0aW9uVHlwZSIsIm9yZ2FuaXphdGlvbl90eXBlIiwiYXZlcmFnZUV4cGVyaWVuY2VMZXZlbCIsImF2Z19leHBlcmllbmNlX2xldmVsIiwidGltZWxpbmUiLCJwcm9jZXNzUmVnaXN0cmF0aW9uVGltZWxpbmUiLCJ0b3RhbFJlZ2lzdHJhdGlvbnMiLCJyZWR1Y2UiLCJzdW0iLCJhdmVyYWdlUGVyRGF5IiwiY2FsY3VsYXRlQXZlcmFnZVBlckRheSIsInBlYWtSZWdpc3RyYXRpb25EYXkiLCJmaW5kUGVha1JlZ2lzdHJhdGlvbkRheSIsInRhbGtEaXN0cmlidXRpb24iLCJzcGVha2VyQW5hbHlzaXMiLCJzdWJtaXNzaW9uVGltZWxpbmUiLCJjYXRlZ29yeVBvcHVsYXJpdHkiLCJzcGVha2VyU3RhdHMiLCJieUNhdGVnb3J5IiwiY2F0ZWdvcnkiLCJhdmVyYWdlRHVyYXRpb24iLCJhdmdfZHVyYXRpb24iLCJieVN0YXR1cyIsImdyb3VwQnlTdGF0dXMiLCJzcGVha2VycyIsInVuaXF1ZVNwZWFrZXJzIiwidW5pcXVlX3NwZWFrZXJzIiwidGFsa3NQZXJTcGVha2VyIiwidGFsa3NfcGVyX3NwZWFrZXIiLCJmaXJzdFRpbWVTcGVha2VycyIsImZpcnN0X3RpbWVfc3BlYWtlcnMiLCJleHBlcmllbmNlZFNwZWFrZXJzIiwiZXhwZXJpZW5jZWRfc3BlYWtlcnMiLCJwcm9jZXNzU3VibWlzc2lvblRpbWVsaW5lIiwiZHVyYXRpb24iLCJhdmVyYWdlIiwiY2FsY3VsYXRlQXZlcmFnZUR1cmF0aW9uIiwiYW5hbHl6ZUR1cmF0aW9uRGlzdHJpYnV0aW9uIiwiZGFpbHlSZWdpc3RyYXRpb25zIiwiZ2V0RGFpbHlSZWdpc3RyYXRpb25zIiwiZGFpbHlTdWJtaXNzaW9ucyIsImdldERhaWx5U3VibWlzc2lvbnMiLCJwYXJ0aWNpcGF0aW9uVHlwZVRyZW5kcyIsImdldFBhcnRpY2lwYXRpb25UeXBlVHJlbmRzIiwicHJlZGljdGlvbnMiLCJjYWxjdWxhdGVQcmVkaWN0aW9ucyIsInJlZ2lzdHJhdGlvbnMiLCJkYWlseSIsImN1bXVsYXRpdmUiLCJjYWxjdWxhdGVDdW11bGF0aXZlIiwic3VibWlzc2lvbnMiLCJwYXJ0aWNpcGF0aW9uVHlwZXMiLCJpbnNpZ2h0cyIsImdlbmVyYXRlVHJlbmRJbnNpZ2h0cyIsInBhcnRpY2lwYW50c0xpc3QiLCJ0YWxrc0xpc3QiLCJmZWVkYmFja1N1bW1hcnkiLCJnZXRGZWVkYmFja1N1bW1hcnkiLCJmZWVkYmFjayIsImV4cG9ydCIsInBhcnRpY2lwYW50c0NzdiIsImdlbmVyYXRlUGFydGljaXBhbnRzQ3N2IiwidGFsa3NDc3YiLCJnZW5lcmF0ZVRhbGtzQ3N2IiwiY29tcGFyZUV2ZW50cyIsImV2ZW50SWRzIiwiY29tcGFyaXNvbnMiLCJtZXRyaWNzIiwib25saW5lUmF0aW8iLCJmaW5kIiwidCIsImF2Z1RhbGtEdXJhdGlvbiIsImFuYWx5c2lzIiwiYW5hbHl6ZUV2ZW50Q29tcGFyaXNvbnMiLCJldmVudHMiLCJnZW5lcmF0ZUNvbXBhcmlzb25JbnNpZ2h0cyIsImdlbmVyYXRlUmVwb3J0IiwicmVwb3J0VHlwZSIsImdlbmVyYXRlU3VtbWFyeVJlcG9ydCIsImdlbmVyYXRlRGV0YWlsZWRSZXBvcnQiLCJnZW5lcmF0ZUV4ZWN1dGl2ZVJlcG9ydCIsImdlbmVyYXRlUGFydGljaXBhbnRSZXBvcnQiLCJnZW5lcmF0ZVNwZWFrZXJSZXBvcnQiLCJwcm9jZXNzZWQiLCJmb3JFYWNoIiwib25saW5lIiwib2ZmbGluZSIsInRvdGFsIiwiT2JqZWN0IiwidmFsdWVzIiwiY29uZmlybWVkIiwicGVuZGluZyIsInN0YXR1c0dyb3VwcyIsInRvdGFsRGF5cyIsIlNldCIsInNpemUiLCJwZWFrIiwiY3VycmVudCIsInRvdGFsRHVyYXRpb24iLCJ0b3RhbENvdW50IiwiZHVyYXRpb25zIiwiTWF0aCIsInJvdW5kIiwiZGFpbHlEYXRhIiwiZGF5IiwidmFsdWUiLCJsaW5lYXJSZWdyZXNzaW9uIiwiZGF0YSIsIm5leHRXZWVrIiwiY29uZmlkZW5jZSIsIm4iLCJ4IiwiXyIsImkiLCJ5IiwiZCIsInN1bVgiLCJhIiwiYiIsInN1bVkiLCJzdW1YWSIsInhpIiwic3VtWFgiLCJzbG9wZSIsImludGVyY2VwdCIsIm5leHRXZWVrUHJlZGljdGlvbiIsIm1heCIsImNhbGN1bGF0ZUNvbmZpZGVuY2UiLCJ5TWVhbiIsInNzUmVzIiwic3NUb3QiLCJ5aSIsInByZWRpY3RlZCIsInBvdyIsInJTcXVhcmVkIiwibWluIiwicmVjZW50Iiwic2xpY2UiLCJlYXJsaWVyIiwicmVjZW50QXZnIiwiZWFybGllckF2ZyIsIm1lc3NhZ2UiLCJtZXRyaWMiLCJjaGFuZ2UiLCJjIiwic3RhbmRhcmREZXZpYXRpb24iLCJjYWxjdWxhdGVTdGFuZGFyZERldmlhdGlvbiIsIm1lYW4iLCJzcXVhcmVEaWZmcyIsImF2Z1NxdWFyZURpZmYiLCJzcXJ0IiwicGFydGljaXBhbnRWYWx1ZXMiLCJtYXhQYXJ0aWNpcGFudHMiLCJiZXN0RXZlbnQiLCJrZXlNZXRyaWNzIiwiaGlnaGxpZ2h0cyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJhbmFseXRpY3NTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQW5hbHl0aWNzIFNlcnZpY2VcbiAqIOOCpOODmeODs+ODiOWIhuaekOOBqOODrOODneODvOODiOapn+iDveOCkuaPkOS+m+OBmeOCi+OCteODvOODk+OCuVxuICovXG5cbmNvbnN0IGxvZ2dlciA9IHJlcXVpcmUoJy4uL21pZGRsZXdhcmUvbG9nZ2VyJyk7XG5jb25zdCB7IERhdGFiYXNlU2VydmljZSB9ID0gcmVxdWlyZSgnLi9kYXRhYmFzZScpO1xuXG5jbGFzcyBBbmFseXRpY3NTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5kYiA9IERhdGFiYXNlU2VydmljZS5nZXRJbnN0YW5jZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIOOCpOODmeODs+ODiOe1seioiOOBruWPluW+l1xuICAgKi9cbiAgYXN5bmMgZ2V0RXZlbnRTdGF0aXN0aWNzKGV2ZW50SWQsIG9wdGlvbnMgPSB7fSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHN0YXJ0RGF0ZSxcbiAgICAgICAgZW5kRGF0ZSxcbiAgICAgICAgaW5jbHVkZURldGFpbHMgPSBmYWxzZSxcbiAgICAgICAgaW5jbHVkZVRyZW5kcyA9IGZhbHNlXG4gICAgICB9ID0gb3B0aW9ucztcblxuICAgICAgLy8g5Z+65pys57Wx6KiIXG4gICAgICBjb25zdCBiYXNpY1N0YXRzID0gYXdhaXQgdGhpcy5nZXRCYXNpY0V2ZW50U3RhdHMoZXZlbnRJZCk7XG4gICAgICBcbiAgICAgIC8vIOWPguWKoOiAhee1seioiFxuICAgICAgY29uc3QgcGFydGljaXBhbnRTdGF0cyA9IGF3YWl0IHRoaXMuZ2V0UGFydGljaXBhbnRTdGF0cyhldmVudElkLCB7IHN0YXJ0RGF0ZSwgZW5kRGF0ZSB9KTtcbiAgICAgIFxuICAgICAgLy8g55m66KGo57Wx6KiIXG4gICAgICBjb25zdCB0YWxrU3RhdHMgPSBhd2FpdCB0aGlzLmdldFRhbGtTdGF0cyhldmVudElkKTtcbiAgICAgIFxuICAgICAgLy8g5pmC57O75YiX44OH44O844K/77yI44OI44Os44Oz44OJ5YiG5p6Q77yJXG4gICAgICBsZXQgdHJlbmRzID0gbnVsbDtcbiAgICAgIGlmIChpbmNsdWRlVHJlbmRzKSB7XG4gICAgICAgIHRyZW5kcyA9IGF3YWl0IHRoaXMuZ2V0RXZlbnRUcmVuZHMoZXZlbnRJZCwgeyBzdGFydERhdGUsIGVuZERhdGUgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIOips+e0sOODh+ODvOOCv1xuICAgICAgbGV0IGRldGFpbHMgPSBudWxsO1xuICAgICAgaWYgKGluY2x1ZGVEZXRhaWxzKSB7XG4gICAgICAgIGRldGFpbHMgPSBhd2FpdCB0aGlzLmdldEV2ZW50RGV0YWlscyhldmVudElkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXZlbnRJZCxcbiAgICAgICAgZ2VuZXJhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgcGVyaW9kOiB7XG4gICAgICAgICAgc3RhcnREYXRlOiBzdGFydERhdGUgfHwgbnVsbCxcbiAgICAgICAgICBlbmREYXRlOiBlbmREYXRlIHx8IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdGlzdGljczoge1xuICAgICAgICAgIGJhc2ljOiBiYXNpY1N0YXRzLFxuICAgICAgICAgIHBhcnRpY2lwYW50czogcGFydGljaXBhbnRTdGF0cyxcbiAgICAgICAgICB0YWxrczogdGFsa1N0YXRzXG4gICAgICAgIH0sXG4gICAgICAgIHRyZW5kcyxcbiAgICAgICAgZGV0YWlsc1xuICAgICAgfTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBnZXQgZXZlbnQgc3RhdGlzdGljczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBnZW5lcmF0ZSBldmVudCBzdGF0aXN0aWNzJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOWfuuacrOOCpOODmeODs+ODiOe1seioiFxuICAgKi9cbiAgYXN5bmMgZ2V0QmFzaWNFdmVudFN0YXRzKGV2ZW50SWQpIHtcbiAgICBjb25zdCBzdGF0cyA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgU0VMRUNUIFxuICAgICAgICBlLmlkLFxuICAgICAgICBlLnRpdGxlLFxuICAgICAgICBlLmRhdGUsXG4gICAgICAgIGUudmVudWUsXG4gICAgICAgIGUuc3RhdHVzLFxuICAgICAgICBDT1VOVChESVNUSU5DVCBwLmlkKSBhcyB0b3RhbF9wYXJ0aWNpcGFudHMsXG4gICAgICAgIENPVU5UKERJU1RJTkNUIHQuaWQpIGFzIHRvdGFsX3RhbGtzLFxuICAgICAgICBDT1VOVChESVNUSU5DVCBDQVNFIFdIRU4gcC5wYXJ0aWNpcGF0aW9uX3R5cGUgPSAnb25saW5lJyBUSEVOIHAuaWQgRU5EKSBhcyBvbmxpbmVfcGFydGljaXBhbnRzLFxuICAgICAgICBDT1VOVChESVNUSU5DVCBDQVNFIFdIRU4gcC5wYXJ0aWNpcGF0aW9uX3R5cGUgPSAnb2ZmbGluZScgVEhFTiBwLmlkIEVORCkgYXMgb2ZmbGluZV9wYXJ0aWNpcGFudHMsXG4gICAgICAgIENPVU5UKERJU1RJTkNUIENBU0UgV0hFTiB0LnN0YXR1cyA9ICdjb25maXJtZWQnIFRIRU4gdC5pZCBFTkQpIGFzIGNvbmZpcm1lZF90YWxrcyxcbiAgICAgICAgQ09VTlQoRElTVElOQ1QgQ0FTRSBXSEVOIHQuc3RhdHVzID0gJ3BlbmRpbmcnIFRIRU4gdC5pZCBFTkQpIGFzIHBlbmRpbmdfdGFsa3MsXG4gICAgICAgIEFWRyhDQVNFIFdIRU4gdC5kdXJhdGlvbiBJUyBOT1QgTlVMTCBUSEVOIHQuZHVyYXRpb24gRU5EKSBhcyBhdmdfdGFsa19kdXJhdGlvbixcbiAgICAgICAgTUFYKHAuY3JlYXRlZF9hdCkgYXMgbGFzdF9yZWdpc3RyYXRpb24sXG4gICAgICAgIE1JTihwLmNyZWF0ZWRfYXQpIGFzIGZpcnN0X3JlZ2lzdHJhdGlvblxuICAgICAgRlJPTSBldmVudHMgZVxuICAgICAgTEVGVCBKT0lOIHBhcnRpY2lwYW50cyBwIE9OIGUuaWQgPSBwLmV2ZW50X2lkXG4gICAgICBMRUZUIEpPSU4gdGFsa3MgdCBPTiBlLmlkID0gdC5ldmVudF9pZFxuICAgICAgV0hFUkUgZS5pZCA9ID9cbiAgICAgIEdST1VQIEJZIGUuaWRcbiAgICBgLCBbZXZlbnRJZF0pO1xuXG4gICAgaWYgKCFzdGF0cyB8fCBzdGF0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXZlbnQgbm90IGZvdW5kJyk7XG4gICAgfVxuXG4gICAgY29uc3QgZXZlbnQgPSBzdGF0c1swXTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgZXZlbnRJbmZvOiB7XG4gICAgICAgIGlkOiBldmVudC5pZCxcbiAgICAgICAgdGl0bGU6IGV2ZW50LnRpdGxlLFxuICAgICAgICBkYXRlOiBldmVudC5kYXRlLFxuICAgICAgICB2ZW51ZTogZXZlbnQudmVudWUsXG4gICAgICAgIHN0YXR1czogZXZlbnQuc3RhdHVzXG4gICAgICB9LFxuICAgICAgc3VtbWFyeToge1xuICAgICAgICB0b3RhbFBhcnRpY2lwYW50czogZXZlbnQudG90YWxfcGFydGljaXBhbnRzIHx8IDAsXG4gICAgICAgIHRvdGFsVGFsa3M6IGV2ZW50LnRvdGFsX3RhbGtzIHx8IDAsXG4gICAgICAgIG9ubGluZVBhcnRpY2lwYW50czogZXZlbnQub25saW5lX3BhcnRpY2lwYW50cyB8fCAwLFxuICAgICAgICBvZmZsaW5lUGFydGljaXBhbnRzOiBldmVudC5vZmZsaW5lX3BhcnRpY2lwYW50cyB8fCAwLFxuICAgICAgICBjb25maXJtZWRUYWxrczogZXZlbnQuY29uZmlybWVkX3RhbGtzIHx8IDAsXG4gICAgICAgIHBlbmRpbmdUYWxrczogZXZlbnQucGVuZGluZ190YWxrcyB8fCAwLFxuICAgICAgICBhdmVyYWdlVGFsa0R1cmF0aW9uOiBwYXJzZUZsb2F0KGV2ZW50LmF2Z190YWxrX2R1cmF0aW9uKSB8fCAwLFxuICAgICAgICByZWdpc3RyYXRpb25QZXJpb2Q6IHtcbiAgICAgICAgICBmaXJzdDogZXZlbnQuZmlyc3RfcmVnaXN0cmF0aW9uLFxuICAgICAgICAgIGxhc3Q6IGV2ZW50Lmxhc3RfcmVnaXN0cmF0aW9uXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIOWPguWKoOiAhee1seioiFxuICAgKi9cbiAgYXN5bmMgZ2V0UGFydGljaXBhbnRTdGF0cyhldmVudElkLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7IHN0YXJ0RGF0ZSwgZW5kRGF0ZSB9ID0gb3B0aW9ucztcbiAgICBcbiAgICBsZXQgZGF0ZUZpbHRlciA9ICcnO1xuICAgIGxldCBwYXJhbXMgPSBbZXZlbnRJZF07XG4gICAgXG4gICAgaWYgKHN0YXJ0RGF0ZSAmJiBlbmREYXRlKSB7XG4gICAgICBkYXRlRmlsdGVyID0gJ0FORCBwLmNyZWF0ZWRfYXQgQkVUV0VFTiA/IEFORCA/JztcbiAgICAgIHBhcmFtcy5wdXNoKHN0YXJ0RGF0ZSwgZW5kRGF0ZSk7XG4gICAgfVxuXG4gICAgLy8g5Y+C5Yqg6ICF44Gu5Z+65pys5YiG5biDXG4gICAgY29uc3QgcGFydGljaXBhbnREaXN0cmlidXRpb24gPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgIFNFTEVDVCBcbiAgICAgICAgcGFydGljaXBhdGlvbl90eXBlLFxuICAgICAgICBDT1VOVCgqKSBhcyBjb3VudCxcbiAgICAgICAgQ09VTlQoKikgKiAxMDAuMCAvIChTRUxFQ1QgQ09VTlQoKikgRlJPTSBwYXJ0aWNpcGFudHMgV0hFUkUgZXZlbnRfaWQgPSA/KSBhcyBwZXJjZW50YWdlXG4gICAgICBGUk9NIHBhcnRpY2lwYW50cyBwXG4gICAgICBXSEVSRSBldmVudF9pZCA9ID8gJHtkYXRlRmlsdGVyfVxuICAgICAgR1JPVVAgQlkgcGFydGljaXBhdGlvbl90eXBlXG4gICAgYCwgcGFyYW1zKTtcblxuICAgIC8vIOaZgumWk+WIpeeZu+mMsuaVsFxuICAgIGNvbnN0IHJlZ2lzdHJhdGlvblRpbWVsaW5lID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICBTRUxFQ1QgXG4gICAgICAgIERBVEUoY3JlYXRlZF9hdCkgYXMgZGF0ZSxcbiAgICAgICAgQ09VTlQoKikgYXMgcmVnaXN0cmF0aW9ucyxcbiAgICAgICAgcGFydGljaXBhdGlvbl90eXBlXG4gICAgICBGUk9NIHBhcnRpY2lwYW50cyBwXG4gICAgICBXSEVSRSBldmVudF9pZCA9ID8gJHtkYXRlRmlsdGVyfVxuICAgICAgR1JPVVAgQlkgREFURShjcmVhdGVkX2F0KSwgcGFydGljaXBhdGlvbl90eXBlXG4gICAgICBPUkRFUiBCWSBkYXRlXG4gICAgYCwgcGFyYW1zKTtcblxuICAgIC8vIOWcsOWfn+WIpeWIhuW4g++8iG9wdGlvbmFsIGZpZWxk77yJXG4gICAgY29uc3QgZ2VvZ3JhcGhpY0Rpc3RyaWJ1dGlvbiA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgU0VMRUNUIFxuICAgICAgICBDT0FMRVNDRShsb2NhdGlvbiwgJ1Vua25vd24nKSBhcyBsb2NhdGlvbixcbiAgICAgICAgQ09VTlQoKikgYXMgY291bnRcbiAgICAgIEZST00gcGFydGljaXBhbnRzIHBcbiAgICAgIFdIRVJFIGV2ZW50X2lkID0gPyAke2RhdGVGaWx0ZXJ9XG4gICAgICBHUk9VUCBCWSBsb2NhdGlvblxuICAgICAgT1JERVIgQlkgY291bnQgREVTQ1xuICAgIGAsIHBhcmFtcyk7XG5cbiAgICAvLyDlj4LliqDogIXjga7lsZ7mgKfliIbmnpBcbiAgICBjb25zdCBhdHRyaWJ1dGVBbmFseXNpcyA9IGF3YWl0IHRoaXMuZGIucXVlcnkoYFxuICAgICAgU0VMRUNUIFxuICAgICAgICBDT0FMRVNDRShvcmdhbml6YXRpb24sICdJbmRpdmlkdWFsJykgYXMgb3JnYW5pemF0aW9uX3R5cGUsXG4gICAgICAgIENPVU5UKCopIGFzIGNvdW50LFxuICAgICAgICBBVkcoQ0FTRSBXSEVOIGV4cGVyaWVuY2VfbGV2ZWwgSVMgTk9UIE5VTEwgVEhFTiBcbiAgICAgICAgICBDQVNFIGV4cGVyaWVuY2VfbGV2ZWwgXG4gICAgICAgICAgICBXSEVOICdiZWdpbm5lcicgVEhFTiAxIFxuICAgICAgICAgICAgV0hFTiAnaW50ZXJtZWRpYXRlJyBUSEVOIDIgXG4gICAgICAgICAgICBXSEVOICdhZHZhbmNlZCcgVEhFTiAzIFxuICAgICAgICAgICAgRUxTRSAyIFxuICAgICAgICAgIEVORCBcbiAgICAgICAgRU5EKSBhcyBhdmdfZXhwZXJpZW5jZV9sZXZlbFxuICAgICAgRlJPTSBwYXJ0aWNpcGFudHMgcFxuICAgICAgV0hFUkUgZXZlbnRfaWQgPSA/ICR7ZGF0ZUZpbHRlcn1cbiAgICAgIEdST1VQIEJZIG9yZ2FuaXphdGlvbl90eXBlXG4gICAgICBPUkRFUiBCWSBjb3VudCBERVNDXG4gICAgYCwgcGFyYW1zKTtcblxuICAgIHJldHVybiB7XG4gICAgICBkaXN0cmlidXRpb246IHtcbiAgICAgICAgYnlUeXBlOiBwYXJ0aWNpcGFudERpc3RyaWJ1dGlvbi5tYXAocm93ID0+ICh7XG4gICAgICAgICAgdHlwZTogcm93LnBhcnRpY2lwYXRpb25fdHlwZSxcbiAgICAgICAgICBjb3VudDogcm93LmNvdW50LFxuICAgICAgICAgIHBlcmNlbnRhZ2U6IHBhcnNlRmxvYXQocm93LnBlcmNlbnRhZ2UudG9GaXhlZCgyKSlcbiAgICAgICAgfSkpLFxuICAgICAgICBieUxvY2F0aW9uOiBnZW9ncmFwaGljRGlzdHJpYnV0aW9uLm1hcChyb3cgPT4gKHtcbiAgICAgICAgICBsb2NhdGlvbjogcm93LmxvY2F0aW9uLFxuICAgICAgICAgIGNvdW50OiByb3cuY291bnRcbiAgICAgICAgfSkpLFxuICAgICAgICBieU9yZ2FuaXphdGlvbjogYXR0cmlidXRlQW5hbHlzaXMubWFwKHJvdyA9PiAoe1xuICAgICAgICAgIG9yZ2FuaXphdGlvblR5cGU6IHJvdy5vcmdhbml6YXRpb25fdHlwZSxcbiAgICAgICAgICBjb3VudDogcm93LmNvdW50LFxuICAgICAgICAgIGF2ZXJhZ2VFeHBlcmllbmNlTGV2ZWw6IHBhcnNlRmxvYXQocm93LmF2Z19leHBlcmllbmNlX2xldmVsPy50b0ZpeGVkKDIpKSB8fCAwXG4gICAgICAgIH0pKVxuICAgICAgfSxcbiAgICAgIHRpbWVsaW5lOiB0aGlzLnByb2Nlc3NSZWdpc3RyYXRpb25UaW1lbGluZShyZWdpc3RyYXRpb25UaW1lbGluZSksXG4gICAgICBzdW1tYXJ5OiB7XG4gICAgICAgIHRvdGFsUmVnaXN0cmF0aW9uczogcGFydGljaXBhbnREaXN0cmlidXRpb24ucmVkdWNlKChzdW0sIHJvdykgPT4gc3VtICsgcm93LmNvdW50LCAwKSxcbiAgICAgICAgYXZlcmFnZVBlckRheTogdGhpcy5jYWxjdWxhdGVBdmVyYWdlUGVyRGF5KHJlZ2lzdHJhdGlvblRpbWVsaW5lKSxcbiAgICAgICAgcGVha1JlZ2lzdHJhdGlvbkRheTogdGhpcy5maW5kUGVha1JlZ2lzdHJhdGlvbkRheShyZWdpc3RyYXRpb25UaW1lbGluZSlcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIOeZuuihqOe1seioiFxuICAgKi9cbiAgYXN5bmMgZ2V0VGFsa1N0YXRzKGV2ZW50SWQpIHtcbiAgICAvLyDnmbrooajjga7ln7rmnKzntbHoqIhcbiAgICBjb25zdCB0YWxrRGlzdHJpYnV0aW9uID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICBTRUxFQ1QgXG4gICAgICAgIGNhdGVnb3J5LFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIENPVU5UKCopIGFzIGNvdW50LFxuICAgICAgICBBVkcoZHVyYXRpb24pIGFzIGF2Z19kdXJhdGlvbixcbiAgICAgICAgTUlOKGR1cmF0aW9uKSBhcyBtaW5fZHVyYXRpb24sXG4gICAgICAgIE1BWChkdXJhdGlvbikgYXMgbWF4X2R1cmF0aW9uXG4gICAgICBGUk9NIHRhbGtzXG4gICAgICBXSEVSRSBldmVudF9pZCA9ID9cbiAgICAgIEdST1VQIEJZIGNhdGVnb3J5LCBzdGF0dXNcbiAgICAgIE9SREVSIEJZIGNhdGVnb3J5LCBzdGF0dXNcbiAgICBgLCBbZXZlbnRJZF0pO1xuXG4gICAgLy8g55m66KGo6ICF44Gu5bGe5oCnXG4gICAgY29uc3Qgc3BlYWtlckFuYWx5c2lzID0gYXdhaXQgdGhpcy5kYi5xdWVyeShgXG4gICAgICBTRUxFQ1QgXG4gICAgICAgIENPVU5UKERJU1RJTkNUIHNwZWFrZXJfbmFtZSkgYXMgdW5pcXVlX3NwZWFrZXJzLFxuICAgICAgICBDT1VOVCgqKSBhcyB0b3RhbF90YWxrcyxcbiAgICAgICAgQ09VTlQoKikgKiAxLjAgLyBDT1VOVChESVNUSU5DVCBzcGVha2VyX25hbWUpIGFzIHRhbGtzX3Blcl9zcGVha2VyLFxuICAgICAgICBDT1VOVChDQVNFIFdIRU4gZXhwZXJpZW5jZV9sZXZlbCA9ICdmaXJzdF90aW1lJyBUSEVOIDEgRU5EKSBhcyBmaXJzdF90aW1lX3NwZWFrZXJzLFxuICAgICAgICBDT1VOVChDQVNFIFdIRU4gZXhwZXJpZW5jZV9sZXZlbCA9ICdleHBlcmllbmNlZCcgVEhFTiAxIEVORCkgYXMgZXhwZXJpZW5jZWRfc3BlYWtlcnNcbiAgICAgIEZST00gdGFsa3NcbiAgICAgIFdIRVJFIGV2ZW50X2lkID0gP1xuICAgIGAsIFtldmVudElkXSk7XG5cbiAgICAvLyDnlLPovrzjgb/mmYLns7vliJdcbiAgICBjb25zdCBzdWJtaXNzaW9uVGltZWxpbmUgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgIFNFTEVDVCBcbiAgICAgICAgREFURShjcmVhdGVkX2F0KSBhcyBkYXRlLFxuICAgICAgICBDT1VOVCgqKSBhcyBzdWJtaXNzaW9ucyxcbiAgICAgICAgc3RhdHVzXG4gICAgICBGUk9NIHRhbGtzXG4gICAgICBXSEVSRSBldmVudF9pZCA9ID9cbiAgICAgIEdST1VQIEJZIERBVEUoY3JlYXRlZF9hdCksIHN0YXR1c1xuICAgICAgT1JERVIgQlkgZGF0ZVxuICAgIGAsIFtldmVudElkXSk7XG5cbiAgICAvLyDjgqvjg4bjgrTjg6rliKXkurrmsJfluqZcbiAgICBjb25zdCBjYXRlZ29yeVBvcHVsYXJpdHkgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgIFNFTEVDVCBcbiAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgIENPVU5UKCopIGFzIGNvdW50LFxuICAgICAgICBDT1VOVCgqKSAqIDEwMC4wIC8gKFNFTEVDVCBDT1VOVCgqKSBGUk9NIHRhbGtzIFdIRVJFIGV2ZW50X2lkID0gPykgYXMgcGVyY2VudGFnZSxcbiAgICAgICAgQVZHKGR1cmF0aW9uKSBhcyBhdmdfZHVyYXRpb25cbiAgICAgIEZST00gdGFsa3NcbiAgICAgIFdIRVJFIGV2ZW50X2lkID0gP1xuICAgICAgR1JPVVAgQlkgY2F0ZWdvcnlcbiAgICAgIE9SREVSIEJZIGNvdW50IERFU0NcbiAgICBgLCBbZXZlbnRJZCwgZXZlbnRJZF0pO1xuXG4gICAgY29uc3Qgc3BlYWtlclN0YXRzID0gc3BlYWtlckFuYWx5c2lzWzBdO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRpc3RyaWJ1dGlvbjoge1xuICAgICAgICBieUNhdGVnb3J5OiBjYXRlZ29yeVBvcHVsYXJpdHkubWFwKHJvdyA9PiAoe1xuICAgICAgICAgIGNhdGVnb3J5OiByb3cuY2F0ZWdvcnksXG4gICAgICAgICAgY291bnQ6IHJvdy5jb3VudCxcbiAgICAgICAgICBwZXJjZW50YWdlOiBwYXJzZUZsb2F0KHJvdy5wZXJjZW50YWdlLnRvRml4ZWQoMikpLFxuICAgICAgICAgIGF2ZXJhZ2VEdXJhdGlvbjogcGFyc2VGbG9hdChyb3cuYXZnX2R1cmF0aW9uPy50b0ZpeGVkKDEpKSB8fCAwXG4gICAgICAgIH0pKSxcbiAgICAgICAgYnlTdGF0dXM6IHRoaXMuZ3JvdXBCeVN0YXR1cyh0YWxrRGlzdHJpYnV0aW9uKVxuICAgICAgfSxcbiAgICAgIHNwZWFrZXJzOiB7XG4gICAgICAgIHVuaXF1ZVNwZWFrZXJzOiBzcGVha2VyU3RhdHMudW5pcXVlX3NwZWFrZXJzIHx8IDAsXG4gICAgICAgIHRvdGFsVGFsa3M6IHNwZWFrZXJTdGF0cy50b3RhbF90YWxrcyB8fCAwLFxuICAgICAgICB0YWxrc1BlclNwZWFrZXI6IHBhcnNlRmxvYXQoc3BlYWtlclN0YXRzLnRhbGtzX3Blcl9zcGVha2VyPy50b0ZpeGVkKDIpKSB8fCAwLFxuICAgICAgICBmaXJzdFRpbWVTcGVha2Vyczogc3BlYWtlclN0YXRzLmZpcnN0X3RpbWVfc3BlYWtlcnMgfHwgMCxcbiAgICAgICAgZXhwZXJpZW5jZWRTcGVha2Vyczogc3BlYWtlclN0YXRzLmV4cGVyaWVuY2VkX3NwZWFrZXJzIHx8IDBcbiAgICAgIH0sXG4gICAgICB0aW1lbGluZTogdGhpcy5wcm9jZXNzU3VibWlzc2lvblRpbWVsaW5lKHN1Ym1pc3Npb25UaW1lbGluZSksXG4gICAgICBkdXJhdGlvbjoge1xuICAgICAgICBhdmVyYWdlOiB0aGlzLmNhbGN1bGF0ZUF2ZXJhZ2VEdXJhdGlvbih0YWxrRGlzdHJpYnV0aW9uKSxcbiAgICAgICAgZGlzdHJpYnV0aW9uOiB0aGlzLmFuYWx5emVEdXJhdGlvbkRpc3RyaWJ1dGlvbih0YWxrRGlzdHJpYnV0aW9uKVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICog44Kk44OZ44Oz44OI44OI44Os44Oz44OJ5YiG5p6QXG4gICAqL1xuICBhc3luYyBnZXRFdmVudFRyZW5kcyhldmVudElkLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7IHN0YXJ0RGF0ZSwgZW5kRGF0ZSB9ID0gb3B0aW9ucztcbiAgICBcbiAgICAvLyDml6XliKXnmbvpjLLmlbDmjqjnp7tcbiAgICBjb25zdCBkYWlseVJlZ2lzdHJhdGlvbnMgPSBhd2FpdCB0aGlzLmdldERhaWx5UmVnaXN0cmF0aW9ucyhldmVudElkLCB7IHN0YXJ0RGF0ZSwgZW5kRGF0ZSB9KTtcbiAgICBcbiAgICAvLyDml6XliKXnmbrooajnlLPovrzjgb/mjqjnp7tcbiAgICBjb25zdCBkYWlseVN1Ym1pc3Npb25zID0gYXdhaXQgdGhpcy5nZXREYWlseVN1Ym1pc3Npb25zKGV2ZW50SWQsIHsgc3RhcnREYXRlLCBlbmREYXRlIH0pO1xuICAgIFxuICAgIC8vIOWPguWKoOOCv+OCpOODl+OBruaOqOenu1xuICAgIGNvbnN0IHBhcnRpY2lwYXRpb25UeXBlVHJlbmRzID0gYXdhaXQgdGhpcy5nZXRQYXJ0aWNpcGF0aW9uVHlwZVRyZW5kcyhldmVudElkLCB7IHN0YXJ0RGF0ZSwgZW5kRGF0ZSB9KTtcblxuICAgIC8vIOS6iOa4rOODh+ODvOOCv++8iOWbnuW4sOWIhuaekO+8iVxuICAgIGNvbnN0IHByZWRpY3Rpb25zID0gdGhpcy5jYWxjdWxhdGVQcmVkaWN0aW9ucyhkYWlseVJlZ2lzdHJhdGlvbnMsIGRhaWx5U3VibWlzc2lvbnMpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZ2lzdHJhdGlvbnM6IHtcbiAgICAgICAgZGFpbHk6IGRhaWx5UmVnaXN0cmF0aW9ucyxcbiAgICAgICAgY3VtdWxhdGl2ZTogdGhpcy5jYWxjdWxhdGVDdW11bGF0aXZlKGRhaWx5UmVnaXN0cmF0aW9ucyksXG4gICAgICAgIHByZWRpY3Rpb25zOiBwcmVkaWN0aW9ucy5yZWdpc3RyYXRpb25zXG4gICAgICB9LFxuICAgICAgc3VibWlzc2lvbnM6IHtcbiAgICAgICAgZGFpbHk6IGRhaWx5U3VibWlzc2lvbnMsXG4gICAgICAgIGN1bXVsYXRpdmU6IHRoaXMuY2FsY3VsYXRlQ3VtdWxhdGl2ZShkYWlseVN1Ym1pc3Npb25zKSxcbiAgICAgICAgcHJlZGljdGlvbnM6IHByZWRpY3Rpb25zLnN1Ym1pc3Npb25zXG4gICAgICB9LFxuICAgICAgcGFydGljaXBhdGlvblR5cGVzOiBwYXJ0aWNpcGF0aW9uVHlwZVRyZW5kcyxcbiAgICAgIGluc2lnaHRzOiB0aGlzLmdlbmVyYXRlVHJlbmRJbnNpZ2h0cyhkYWlseVJlZ2lzdHJhdGlvbnMsIGRhaWx5U3VibWlzc2lvbnMsIHBhcnRpY2lwYXRpb25UeXBlVHJlbmRzKVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICog44Kk44OZ44Oz44OI6Kmz57Sw44OH44O844K/XG4gICAqL1xuICBhc3luYyBnZXRFdmVudERldGFpbHMoZXZlbnRJZCkge1xuICAgIC8vIOWPguWKoOiAheips+e0sOODquOCueODiFxuICAgIGNvbnN0IHBhcnRpY2lwYW50c0xpc3QgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgIFNFTEVDVCBcbiAgICAgICAgaWQsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICBwYXJ0aWNpcGF0aW9uX3R5cGUsXG4gICAgICAgIG9yZ2FuaXphdGlvbixcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIGV4cGVyaWVuY2VfbGV2ZWwsXG4gICAgICAgIGNyZWF0ZWRfYXRcbiAgICAgIEZST00gcGFydGljaXBhbnRzXG4gICAgICBXSEVSRSBldmVudF9pZCA9ID9cbiAgICAgIE9SREVSIEJZIGNyZWF0ZWRfYXQgREVTQ1xuICAgIGAsIFtldmVudElkXSk7XG5cbiAgICAvLyDnmbrooajoqbPntLDjg6rjgrnjg4hcbiAgICBjb25zdCB0YWxrc0xpc3QgPSBhd2FpdCB0aGlzLmRiLnF1ZXJ5KGBcbiAgICAgIFNFTEVDVCBcbiAgICAgICAgaWQsXG4gICAgICAgIHRpdGxlLFxuICAgICAgICBzcGVha2VyX25hbWUsXG4gICAgICAgIHNwZWFrZXJfZW1haWwsXG4gICAgICAgIGNhdGVnb3J5LFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgZXhwZXJpZW5jZV9sZXZlbCxcbiAgICAgICAgY3JlYXRlZF9hdFxuICAgICAgRlJPTSB0YWxrc1xuICAgICAgV0hFUkUgZXZlbnRfaWQgPSA/XG4gICAgICBPUkRFUiBCWSBjcmVhdGVkX2F0IERFU0NcbiAgICBgLCBbZXZlbnRJZF0pO1xuXG4gICAgLy8g44OV44Kj44O844OJ44OQ44OD44Kv6ZuG6KiIXG4gICAgY29uc3QgZmVlZGJhY2tTdW1tYXJ5ID0gYXdhaXQgdGhpcy5nZXRGZWVkYmFja1N1bW1hcnkoZXZlbnRJZCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcGFydGljaXBhbnRzOiBwYXJ0aWNpcGFudHNMaXN0LFxuICAgICAgdGFsa3M6IHRhbGtzTGlzdCxcbiAgICAgIGZlZWRiYWNrOiBmZWVkYmFja1N1bW1hcnksXG4gICAgICBleHBvcnQ6IHtcbiAgICAgICAgcGFydGljaXBhbnRzQ3N2OiB0aGlzLmdlbmVyYXRlUGFydGljaXBhbnRzQ3N2KHBhcnRpY2lwYW50c0xpc3QpLFxuICAgICAgICB0YWxrc0NzdjogdGhpcy5nZW5lcmF0ZVRhbGtzQ3N2KHRhbGtzTGlzdClcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIOikh+aVsOOCpOODmeODs+ODiOavlOi8g+WIhuaekFxuICAgKi9cbiAgYXN5bmMgY29tcGFyZUV2ZW50cyhldmVudElkcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgY29tcGFyaXNvbnMgPSBbXTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IGV2ZW50SWQgb2YgZXZlbnRJZHMpIHtcbiAgICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgdGhpcy5nZXRFdmVudFN0YXRpc3RpY3MoZXZlbnRJZCwgb3B0aW9ucyk7XG4gICAgICBjb21wYXJpc29ucy5wdXNoKHtcbiAgICAgICAgZXZlbnRJZCxcbiAgICAgICAgdGl0bGU6IHN0YXRzLnN0YXRpc3RpY3MuYmFzaWMuZXZlbnRJbmZvLnRpdGxlLFxuICAgICAgICBkYXRlOiBzdGF0cy5zdGF0aXN0aWNzLmJhc2ljLmV2ZW50SW5mby5kYXRlLFxuICAgICAgICBtZXRyaWNzOiB7XG4gICAgICAgICAgcGFydGljaXBhbnRzOiBzdGF0cy5zdGF0aXN0aWNzLmJhc2ljLnN1bW1hcnkudG90YWxQYXJ0aWNpcGFudHMsXG4gICAgICAgICAgdGFsa3M6IHN0YXRzLnN0YXRpc3RpY3MuYmFzaWMuc3VtbWFyeS50b3RhbFRhbGtzLFxuICAgICAgICAgIG9ubGluZVJhdGlvOiBzdGF0cy5zdGF0aXN0aWNzLnBhcnRpY2lwYW50cy5kaXN0cmlidXRpb24uYnlUeXBlXG4gICAgICAgICAgICAuZmluZCh0ID0+IHQudHlwZSA9PT0gJ29ubGluZScpPy5wZXJjZW50YWdlIHx8IDAsXG4gICAgICAgICAgYXZnVGFsa0R1cmF0aW9uOiBzdGF0cy5zdGF0aXN0aWNzLmJhc2ljLnN1bW1hcnkuYXZlcmFnZVRhbGtEdXJhdGlvblxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyDmr5TovIPliIbmnpBcbiAgICBjb25zdCBhbmFseXNpcyA9IHRoaXMuYW5hbHl6ZUV2ZW50Q29tcGFyaXNvbnMoY29tcGFyaXNvbnMpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGV2ZW50czogY29tcGFyaXNvbnMsXG4gICAgICBhbmFseXNpcyxcbiAgICAgIGluc2lnaHRzOiB0aGlzLmdlbmVyYXRlQ29tcGFyaXNvbkluc2lnaHRzKGNvbXBhcmlzb25zLCBhbmFseXNpcylcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIOODrOODneODvOODiOeUn+aIkFxuICAgKi9cbiAgYXN5bmMgZ2VuZXJhdGVSZXBvcnQoZXZlbnRJZCwgcmVwb3J0VHlwZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgdGhpcy5nZXRFdmVudFN0YXRpc3RpY3MoZXZlbnRJZCwge1xuICAgICAgICBpbmNsdWRlRGV0YWlsczogdHJ1ZSxcbiAgICAgICAgaW5jbHVkZVRyZW5kczogdHJ1ZSxcbiAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgfSk7XG5cbiAgICAgIHN3aXRjaCAocmVwb3J0VHlwZSkge1xuICAgICAgICBjYXNlICdzdW1tYXJ5JzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZVN1bW1hcnlSZXBvcnQoc3RhdHMpO1xuICAgICAgICBjYXNlICdkZXRhaWxlZCc6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVEZXRhaWxlZFJlcG9ydChzdGF0cyk7XG4gICAgICAgIGNhc2UgJ2V4ZWN1dGl2ZSc6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVFeGVjdXRpdmVSZXBvcnQoc3RhdHMpO1xuICAgICAgICBjYXNlICdwYXJ0aWNpcGFudCc6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVQYXJ0aWNpcGFudFJlcG9ydChzdGF0cyk7XG4gICAgICAgIGNhc2UgJ3NwZWFrZXInOlxuICAgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlU3BlYWtlclJlcG9ydChzdGF0cyk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlcG9ydCB0eXBlJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGdlbmVyYXRlIHJlcG9ydDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBnZW5lcmF0ZSByZXBvcnQnKTtcbiAgICB9XG4gIH1cblxuICAvLyDjg5jjg6vjg5Hjg7zjg6Hjgr3jg4Pjg4lcblxuICBwcm9jZXNzUmVnaXN0cmF0aW9uVGltZWxpbmUodGltZWxpbmUpIHtcbiAgICBjb25zdCBwcm9jZXNzZWQgPSB7fTtcbiAgICB0aW1lbGluZS5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICBpZiAoIXByb2Nlc3NlZFtyb3cuZGF0ZV0pIHtcbiAgICAgICAgcHJvY2Vzc2VkW3Jvdy5kYXRlXSA9IHsgZGF0ZTogcm93LmRhdGUsIG9ubGluZTogMCwgb2ZmbGluZTogMCwgdG90YWw6IDAgfTtcbiAgICAgIH1cbiAgICAgIHByb2Nlc3NlZFtyb3cuZGF0ZV1bcm93LnBhcnRpY2lwYXRpb25fdHlwZV0gPSByb3cucmVnaXN0cmF0aW9ucztcbiAgICAgIHByb2Nlc3NlZFtyb3cuZGF0ZV0udG90YWwgKz0gcm93LnJlZ2lzdHJhdGlvbnM7XG4gICAgfSk7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocHJvY2Vzc2VkKTtcbiAgfVxuXG4gIHByb2Nlc3NTdWJtaXNzaW9uVGltZWxpbmUodGltZWxpbmUpIHtcbiAgICBjb25zdCBwcm9jZXNzZWQgPSB7fTtcbiAgICB0aW1lbGluZS5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICBpZiAoIXByb2Nlc3NlZFtyb3cuZGF0ZV0pIHtcbiAgICAgICAgcHJvY2Vzc2VkW3Jvdy5kYXRlXSA9IHsgZGF0ZTogcm93LmRhdGUsIGNvbmZpcm1lZDogMCwgcGVuZGluZzogMCwgdG90YWw6IDAgfTtcbiAgICAgIH1cbiAgICAgIHByb2Nlc3NlZFtyb3cuZGF0ZV1bcm93LnN0YXR1c10gPSByb3cuc3VibWlzc2lvbnM7XG4gICAgICBwcm9jZXNzZWRbcm93LmRhdGVdLnRvdGFsICs9IHJvdy5zdWJtaXNzaW9ucztcbiAgICB9KTtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhwcm9jZXNzZWQpO1xuICB9XG5cbiAgZ3JvdXBCeVN0YXR1cyhkaXN0cmlidXRpb24pIHtcbiAgICBjb25zdCBzdGF0dXNHcm91cHMgPSB7fTtcbiAgICBkaXN0cmlidXRpb24uZm9yRWFjaChyb3cgPT4ge1xuICAgICAgaWYgKCFzdGF0dXNHcm91cHNbcm93LnN0YXR1c10pIHtcbiAgICAgICAgc3RhdHVzR3JvdXBzW3Jvdy5zdGF0dXNdID0gW107XG4gICAgICB9XG4gICAgICBzdGF0dXNHcm91cHNbcm93LnN0YXR1c10ucHVzaCh7XG4gICAgICAgIGNhdGVnb3J5OiByb3cuY2F0ZWdvcnksXG4gICAgICAgIGNvdW50OiByb3cuY291bnQsXG4gICAgICAgIGF2ZXJhZ2VEdXJhdGlvbjogcGFyc2VGbG9hdChyb3cuYXZnX2R1cmF0aW9uPy50b0ZpeGVkKDEpKSB8fCAwXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gc3RhdHVzR3JvdXBzO1xuICB9XG5cbiAgY2FsY3VsYXRlQXZlcmFnZVBlckRheSh0aW1lbGluZSkge1xuICAgIGlmICghdGltZWxpbmUubGVuZ3RoKSByZXR1cm4gMDtcbiAgICBjb25zdCB0b3RhbERheXMgPSBuZXcgU2V0KHRpbWVsaW5lLm1hcChyb3cgPT4gcm93LmRhdGUpKS5zaXplO1xuICAgIGNvbnN0IHRvdGFsUmVnaXN0cmF0aW9ucyA9IHRpbWVsaW5lLnJlZHVjZSgoc3VtLCByb3cpID0+IHN1bSArIHJvdy5yZWdpc3RyYXRpb25zLCAwKTtcbiAgICByZXR1cm4gcGFyc2VGbG9hdCgodG90YWxSZWdpc3RyYXRpb25zIC8gdG90YWxEYXlzKS50b0ZpeGVkKDIpKTtcbiAgfVxuXG4gIGZpbmRQZWFrUmVnaXN0cmF0aW9uRGF5KHRpbWVsaW5lKSB7XG4gICAgaWYgKCF0aW1lbGluZS5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB0aW1lbGluZS5yZWR1Y2UoKHBlYWssIGN1cnJlbnQpID0+IFxuICAgICAgY3VycmVudC5yZWdpc3RyYXRpb25zID4gcGVhay5yZWdpc3RyYXRpb25zID8gY3VycmVudCA6IHBlYWtcbiAgICApO1xuICB9XG5cbiAgY2FsY3VsYXRlQXZlcmFnZUR1cmF0aW9uKGRpc3RyaWJ1dGlvbikge1xuICAgIGxldCB0b3RhbER1cmF0aW9uID0gMDtcbiAgICBsZXQgdG90YWxDb3VudCA9IDA7XG4gICAgXG4gICAgZGlzdHJpYnV0aW9uLmZvckVhY2gocm93ID0+IHtcbiAgICAgIGlmIChyb3cuYXZnX2R1cmF0aW9uKSB7XG4gICAgICAgIHRvdGFsRHVyYXRpb24gKz0gcm93LmF2Z19kdXJhdGlvbiAqIHJvdy5jb3VudDtcbiAgICAgICAgdG90YWxDb3VudCArPSByb3cuY291bnQ7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHRvdGFsQ291bnQgPiAwID8gcGFyc2VGbG9hdCgodG90YWxEdXJhdGlvbiAvIHRvdGFsQ291bnQpLnRvRml4ZWQoMSkpIDogMDtcbiAgfVxuXG4gIGFuYWx5emVEdXJhdGlvbkRpc3RyaWJ1dGlvbihkaXN0cmlidXRpb24pIHtcbiAgICBjb25zdCBkdXJhdGlvbnMgPSB7fTtcbiAgICBkaXN0cmlidXRpb24uZm9yRWFjaChyb3cgPT4ge1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKHJvdy5hdmdfZHVyYXRpb24gLyA1KSAqIDU7IC8vIDXliIbljZjkvY3jgafkuLjjgoHjgotcbiAgICAgIGR1cmF0aW9uc1tgJHtkdXJhdGlvbn1taW5gXSA9IChkdXJhdGlvbnNbYCR7ZHVyYXRpb259bWluYF0gfHwgMCkgKyByb3cuY291bnQ7XG4gICAgfSk7XG4gICAgcmV0dXJuIGR1cmF0aW9ucztcbiAgfVxuXG4gIGNhbGN1bGF0ZUN1bXVsYXRpdmUoZGFpbHlEYXRhKSB7XG4gICAgbGV0IGN1bXVsYXRpdmUgPSAwO1xuICAgIHJldHVybiBkYWlseURhdGEubWFwKGRheSA9PiAoe1xuICAgICAgZGF0ZTogZGF5LmRhdGUsXG4gICAgICB2YWx1ZTogY3VtdWxhdGl2ZSArPSBkYXkudmFsdWUgfHwgZGF5LnJlZ2lzdHJhdGlvbnMgfHwgZGF5LnN1Ym1pc3Npb25zIHx8IDBcbiAgICB9KSk7XG4gIH1cblxuICBjYWxjdWxhdGVQcmVkaWN0aW9ucyhyZWdpc3RyYXRpb25zLCBzdWJtaXNzaW9ucykge1xuICAgIC8vIOewoeaYk+e3muW9ouWbnuW4sOOBq+OCiOOCi+S6iOa4rFxuICAgIHJldHVybiB7XG4gICAgICByZWdpc3RyYXRpb25zOiB0aGlzLmxpbmVhclJlZ3Jlc3Npb24ocmVnaXN0cmF0aW9ucyksXG4gICAgICBzdWJtaXNzaW9uczogdGhpcy5saW5lYXJSZWdyZXNzaW9uKHN1Ym1pc3Npb25zKVxuICAgIH07XG4gIH1cblxuICBsaW5lYXJSZWdyZXNzaW9uKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5sZW5ndGggPCAyKSByZXR1cm4geyBuZXh0V2VlazogMCwgY29uZmlkZW5jZTogMCB9O1xuICAgIFxuICAgIGNvbnN0IG4gPSBkYXRhLmxlbmd0aDtcbiAgICBjb25zdCB4ID0gZGF0YS5tYXAoKF8sIGkpID0+IGkpO1xuICAgIGNvbnN0IHkgPSBkYXRhLm1hcChkID0+IGQudmFsdWUgfHwgZC5yZWdpc3RyYXRpb25zIHx8IGQuc3VibWlzc2lvbnMgfHwgMCk7XG4gICAgXG4gICAgY29uc3Qgc3VtWCA9IHgucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7XG4gICAgY29uc3Qgc3VtWSA9IHkucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7XG4gICAgY29uc3Qgc3VtWFkgPSB4LnJlZHVjZSgoc3VtLCB4aSwgaSkgPT4gc3VtICsgeGkgKiB5W2ldLCAwKTtcbiAgICBjb25zdCBzdW1YWCA9IHgucmVkdWNlKChzdW0sIHhpKSA9PiBzdW0gKyB4aSAqIHhpLCAwKTtcbiAgICBcbiAgICBjb25zdCBzbG9wZSA9IChuICogc3VtWFkgLSBzdW1YICogc3VtWSkgLyAobiAqIHN1bVhYIC0gc3VtWCAqIHN1bVgpO1xuICAgIGNvbnN0IGludGVyY2VwdCA9IChzdW1ZIC0gc2xvcGUgKiBzdW1YKSAvIG47XG4gICAgXG4gICAgY29uc3QgbmV4dFdlZWtQcmVkaWN0aW9uID0gc2xvcGUgKiAobiArIDcpICsgaW50ZXJjZXB0O1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBuZXh0V2VlazogTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChuZXh0V2Vla1ByZWRpY3Rpb24pKSxcbiAgICAgIGNvbmZpZGVuY2U6IHRoaXMuY2FsY3VsYXRlQ29uZmlkZW5jZShkYXRhLCBzbG9wZSwgaW50ZXJjZXB0KVxuICAgIH07XG4gIH1cblxuICBjYWxjdWxhdGVDb25maWRlbmNlKGRhdGEsIHNsb3BlLCBpbnRlcmNlcHQpIHtcbiAgICAvLyBSwrLlgKTjga7oqIjnrpdcbiAgICBjb25zdCB5ID0gZGF0YS5tYXAoZCA9PiBkLnZhbHVlIHx8IGQucmVnaXN0cmF0aW9ucyB8fCBkLnN1Ym1pc3Npb25zIHx8IDApO1xuICAgIGNvbnN0IHlNZWFuID0geS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIHkubGVuZ3RoO1xuICAgIFxuICAgIGxldCBzc1JlcyA9IDA7XG4gICAgbGV0IHNzVG90ID0gMDtcbiAgICBcbiAgICB5LmZvckVhY2goKHlpLCBpKSA9PiB7XG4gICAgICBjb25zdCBwcmVkaWN0ZWQgPSBzbG9wZSAqIGkgKyBpbnRlcmNlcHQ7XG4gICAgICBzc1JlcyArPSBNYXRoLnBvdyh5aSAtIHByZWRpY3RlZCwgMik7XG4gICAgICBzc1RvdCArPSBNYXRoLnBvdyh5aSAtIHlNZWFuLCAyKTtcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCByU3F1YXJlZCA9IDEgLSAoc3NSZXMgLyBzc1RvdCk7XG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHJTcXVhcmVkKSk7XG4gIH1cblxuICBnZW5lcmF0ZVRyZW5kSW5zaWdodHMocmVnaXN0cmF0aW9ucywgc3VibWlzc2lvbnMsIHBhcnRpY2lwYXRpb25UeXBlcykge1xuICAgIGNvbnN0IGluc2lnaHRzID0gW107XG4gICAgXG4gICAgLy8g55m76Yyy44OI44Os44Oz44OJ5YiG5p6QXG4gICAgaWYgKHJlZ2lzdHJhdGlvbnMubGVuZ3RoID4gMSkge1xuICAgICAgY29uc3QgcmVjZW50ID0gcmVnaXN0cmF0aW9ucy5zbGljZSgtNyk7XG4gICAgICBjb25zdCBlYXJsaWVyID0gcmVnaXN0cmF0aW9ucy5zbGljZSgtMTQsIC03KTtcbiAgICAgIGNvbnN0IHJlY2VudEF2ZyA9IHJlY2VudC5yZWR1Y2UoKHN1bSwgZCkgPT4gc3VtICsgZC5yZWdpc3RyYXRpb25zLCAwKSAvIHJlY2VudC5sZW5ndGg7XG4gICAgICBjb25zdCBlYXJsaWVyQXZnID0gZWFybGllci5yZWR1Y2UoKHN1bSwgZCkgPT4gc3VtICsgZC5yZWdpc3RyYXRpb25zLCAwKSAvIGVhcmxpZXIubGVuZ3RoO1xuICAgICAgXG4gICAgICBpZiAocmVjZW50QXZnID4gZWFybGllckF2ZyAqIDEuMikge1xuICAgICAgICBpbnNpZ2h0cy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAncG9zaXRpdmUnLFxuICAgICAgICAgIG1lc3NhZ2U6ICfnmbvpjLLmlbDjgYzlopfliqDlgr7lkJHjgavjgYLjgorjgb7jgZknLFxuICAgICAgICAgIG1ldHJpYzogJ3JlZ2lzdHJhdGlvbnMnLFxuICAgICAgICAgIGNoYW5nZTogKChyZWNlbnRBdmcgLSBlYXJsaWVyQXZnKSAvIGVhcmxpZXJBdmcgKiAxMDApLnRvRml4ZWQoMSlcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHJlY2VudEF2ZyA8IGVhcmxpZXJBdmcgKiAwLjgpIHtcbiAgICAgICAgaW5zaWdodHMucHVzaCh7XG4gICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICAgIG1lc3NhZ2U6ICfnmbvpjLLmlbDjgYzmuJvlsJHlgr7lkJHjgavjgYLjgorjgb7jgZknLFxuICAgICAgICAgIG1ldHJpYzogJ3JlZ2lzdHJhdGlvbnMnLFxuICAgICAgICAgIGNoYW5nZTogKChyZWNlbnRBdmcgLSBlYXJsaWVyQXZnKSAvIGVhcmxpZXJBdmcgKiAxMDApLnRvRml4ZWQoMSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBpbnNpZ2h0cztcbiAgfVxuXG4gIGFuYWx5emVFdmVudENvbXBhcmlzb25zKGNvbXBhcmlzb25zKSB7XG4gICAgY29uc3QgbWV0cmljcyA9IFsncGFydGljaXBhbnRzJywgJ3RhbGtzJywgJ29ubGluZVJhdGlvJywgJ2F2Z1RhbGtEdXJhdGlvbiddO1xuICAgIGNvbnN0IGFuYWx5c2lzID0ge307XG4gICAgXG4gICAgbWV0cmljcy5mb3JFYWNoKG1ldHJpYyA9PiB7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjb21wYXJpc29ucy5tYXAoYyA9PiBjLm1ldHJpY3NbbWV0cmljXSk7XG4gICAgICBhbmFseXNpc1ttZXRyaWNdID0ge1xuICAgICAgICBtaW46IE1hdGgubWluKC4uLnZhbHVlcyksXG4gICAgICAgIG1heDogTWF0aC5tYXgoLi4udmFsdWVzKSxcbiAgICAgICAgYXZlcmFnZTogdmFsdWVzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC8gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgc3RhbmRhcmREZXZpYXRpb246IHRoaXMuY2FsY3VsYXRlU3RhbmRhcmREZXZpYXRpb24odmFsdWVzKVxuICAgICAgfTtcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gYW5hbHlzaXM7XG4gIH1cblxuICBjYWxjdWxhdGVTdGFuZGFyZERldmlhdGlvbih2YWx1ZXMpIHtcbiAgICBjb25zdCBtZWFuID0gdmFsdWVzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC8gdmFsdWVzLmxlbmd0aDtcbiAgICBjb25zdCBzcXVhcmVEaWZmcyA9IHZhbHVlcy5tYXAodmFsdWUgPT4gTWF0aC5wb3codmFsdWUgLSBtZWFuLCAyKSk7XG4gICAgY29uc3QgYXZnU3F1YXJlRGlmZiA9IHNxdWFyZURpZmZzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC8gdmFsdWVzLmxlbmd0aDtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KGF2Z1NxdWFyZURpZmYpO1xuICB9XG5cbiAgZ2VuZXJhdGVDb21wYXJpc29uSW5zaWdodHMoY29tcGFyaXNvbnMsIGFuYWx5c2lzKSB7XG4gICAgY29uc3QgaW5zaWdodHMgPSBbXTtcbiAgICBcbiAgICAvLyDlj4LliqDogIXmlbDjga7liIbmnpBcbiAgICBjb25zdCBwYXJ0aWNpcGFudFZhbHVlcyA9IGNvbXBhcmlzb25zLm1hcChjID0+IGMubWV0cmljcy5wYXJ0aWNpcGFudHMpO1xuICAgIGNvbnN0IG1heFBhcnRpY2lwYW50cyA9IE1hdGgubWF4KC4uLnBhcnRpY2lwYW50VmFsdWVzKTtcbiAgICBjb25zdCBiZXN0RXZlbnQgPSBjb21wYXJpc29ucy5maW5kKGMgPT4gYy5tZXRyaWNzLnBhcnRpY2lwYW50cyA9PT0gbWF4UGFydGljaXBhbnRzKTtcbiAgICBcbiAgICBpbnNpZ2h0cy5wdXNoKHtcbiAgICAgIHR5cGU6ICdoaWdobGlnaHQnLFxuICAgICAgbWVzc2FnZTogYOacgOOCguWPguWKoOiAheOBjOWkmuOBi+OBo+OBn+OBruOBr+OAjCR7YmVzdEV2ZW50LnRpdGxlfeOAjeOBpyR7bWF4UGFydGljaXBhbnRzfeWQjeOBp+OBl+OBn2AsXG4gICAgICBjYXRlZ29yeTogJ3BhcnRpY2lwYXRpb24nXG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIGluc2lnaHRzO1xuICB9XG5cbiAgZ2VuZXJhdGVTdW1tYXJ5UmVwb3J0KHN0YXRzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdzdW1tYXJ5JyxcbiAgICAgIHRpdGxlOiBgJHtzdGF0cy5zdGF0aXN0aWNzLmJhc2ljLmV2ZW50SW5mby50aXRsZX0gLSDjgrXjg57jg6rjg7zjg6zjg53jg7zjg4hgLFxuICAgICAgZ2VuZXJhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGtleU1ldHJpY3M6IHtcbiAgICAgICAgcGFydGljaXBhbnRzOiBzdGF0cy5zdGF0aXN0aWNzLmJhc2ljLnN1bW1hcnkudG90YWxQYXJ0aWNpcGFudHMsXG4gICAgICAgIHRhbGtzOiBzdGF0cy5zdGF0aXN0aWNzLmJhc2ljLnN1bW1hcnkudG90YWxUYWxrcyxcbiAgICAgICAgb25saW5lUmF0aW86IHN0YXRzLnN0YXRpc3RpY3MucGFydGljaXBhbnRzLmRpc3RyaWJ1dGlvbi5ieVR5cGVcbiAgICAgICAgICAuZmluZCh0ID0+IHQudHlwZSA9PT0gJ29ubGluZScpPy5wZXJjZW50YWdlIHx8IDBcbiAgICAgIH0sXG4gICAgICBoaWdobGlnaHRzOiBbXG4gICAgICAgIGDnt4/lj4LliqDogIXmlbA6ICR7c3RhdHMuc3RhdGlzdGljcy5iYXNpYy5zdW1tYXJ5LnRvdGFsUGFydGljaXBhbnRzfeWQjWAsXG4gICAgICAgIGDnt4/nmbrooajmlbA6ICR7c3RhdHMuc3RhdGlzdGljcy5iYXNpYy5zdW1tYXJ5LnRvdGFsVGFsa3N95Lu2YCxcbiAgICAgICAgYOOCquODs+ODqeOCpOODs+WPguWKoOeOhzogJHtzdGF0cy5zdGF0aXN0aWNzLnBhcnRpY2lwYW50cy5kaXN0cmlidXRpb24uYnlUeXBlXG4gICAgICAgICAgLmZpbmQodCA9PiB0LnR5cGUgPT09ICdvbmxpbmUnKT8ucGVyY2VudGFnZSB8fCAwfSVgXG4gICAgICBdXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIGdldERhaWx5UmVnaXN0cmF0aW9ucyhldmVudElkLCBvcHRpb25zKSB7XG4gICAgLy8g5a6f6KOF44Gv57Ch55Wl5YyWXG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgYXN5bmMgZ2V0RGFpbHlTdWJtaXNzaW9ucyhldmVudElkLCBvcHRpb25zKSB7XG4gICAgLy8g5a6f6KOF44Gv57Ch55Wl5YyWXG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgYXN5bmMgZ2V0UGFydGljaXBhdGlvblR5cGVUcmVuZHMoZXZlbnRJZCwgb3B0aW9ucykge1xuICAgIC8vIOWun+ijheOBr+ewoeeVpeWMllxuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGFzeW5jIGdldEZlZWRiYWNrU3VtbWFyeShldmVudElkKSB7XG4gICAgLy8g5a6f6KOF44Gv57Ch55Wl5YyWXG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgZ2VuZXJhdGVQYXJ0aWNpcGFudHNDc3YocGFydGljaXBhbnRzKSB7XG4gICAgLy8gQ1NW55Sf5oiQ44Gu5a6f6KOFXG4gICAgcmV0dXJuICdDU1YgZGF0YSc7XG4gIH1cblxuICBnZW5lcmF0ZVRhbGtzQ3N2KHRhbGtzKSB7XG4gICAgLy8gQ1NW55Sf5oiQ44Gu5a6f6KOFXG4gICAgcmV0dXJuICdDU1YgZGF0YSc7XG4gIH1cblxuICBnZW5lcmF0ZURldGFpbGVkUmVwb3J0KHN0YXRzKSB7XG4gICAgLy8g6Kmz57Sw44Os44Od44O844OI55Sf5oiQXG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgZ2VuZXJhdGVFeGVjdXRpdmVSZXBvcnQoc3RhdHMpIHtcbiAgICAvLyDjgqjjgrDjgrzjgq/jg4bjgqPjg5bjg6zjg53jg7zjg4jnlJ/miJBcbiAgICByZXR1cm4ge307XG4gIH1cblxuICBnZW5lcmF0ZVBhcnRpY2lwYW50UmVwb3J0KHN0YXRzKSB7XG4gICAgLy8g5Y+C5Yqg6ICF44Os44Od44O844OI55Sf5oiQXG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgZ2VuZXJhdGVTcGVha2VyUmVwb3J0KHN0YXRzKSB7XG4gICAgLy8g55m66KGo6ICF44Os44Od44O844OI55Sf5oiQXG4gICAgcmV0dXJuIHt9O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0g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