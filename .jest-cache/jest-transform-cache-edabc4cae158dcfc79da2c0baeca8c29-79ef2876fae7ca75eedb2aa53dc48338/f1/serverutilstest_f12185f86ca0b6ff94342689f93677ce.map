{"version":3,"names":["_globals","require","_fsExtra","_interopRequireDefault","_path","e","__esModule","default","DataManager","constructor","dataDir","loadData","filename","filePath","path","join","fs","pathExists","readJson","saveData","data","ensureDir","dirname","writeJson","spaces","appendData","newData","existingData","updatedData","Array","isArray","deleteData","remove","validateEventData","eventData","requiredFields","missingFields","filter","field","length","Error","eventDate","Date","date","isNaN","getTime","formatApiResponse","message","status","timestamp","toISOString","formatErrorResponse","error","process","env","NODE_ENV","stack","undefined","describe","dataManager","testDataDir","cwd","beforeEach","afterEach","it","testData","name","participants","loadedData","expect","toEqual","toBeNull","writeFile","rejects","toThrow","title","result","toBe","savedData","test","originalData","version","finalData","initialData","id","newItem","toHaveLength","settings","theme","language","validEventData","location","description","not","eventWithoutTitle","eventWithoutDate","eventWithoutLocation","eventWithInvalidDate","eventWithPastDate","incompleteEvent","response","toMatchObject","any","String","created","toBeNaN","now","toBeLessThan","originalEnv","toBeDefined","toContain","toBeUndefined"],"sources":["server-utils.test.js"],"sourcesContent":["/**\n * サーバーユーティリティ関数のユニットテスト\n */\n\nimport { describe, it, expect, jest } from '@jest/globals';\nimport fs from 'fs-extra';\nimport path from 'path';\n\n// テスト対象のユーティリティ関数（実装予定）\nclass DataManager {\n  constructor(dataDir = './server/data') {\n    this.dataDir = dataDir;\n  }\n\n  async loadData(filename) {\n    const filePath = path.join(this.dataDir, filename);\n    if (await fs.pathExists(filePath)) {\n      return await fs.readJson(filePath);\n    }\n    return null;\n  }\n\n  async saveData(filename, data) {\n    const filePath = path.join(this.dataDir, filename);\n    await fs.ensureDir(path.dirname(filePath));\n    await fs.writeJson(filePath, data, { spaces: 2 });\n    return true;\n  }\n\n  async appendData(filename, newData) {\n    const existingData = await this.loadData(filename) || [];\n    const updatedData = Array.isArray(existingData) \n      ? [...existingData, newData]\n      : { ...existingData, ...newData };\n    \n    return await this.saveData(filename, updatedData);\n  }\n\n  async deleteData(filename) {\n    const filePath = path.join(this.dataDir, filename);\n    if (await fs.pathExists(filePath)) {\n      await fs.remove(filePath);\n      return true;\n    }\n    return false;\n  }\n}\n\n// バリデーション関数\nfunction validateEventData(eventData) {\n  const requiredFields = ['title', 'date', 'location'];\n  const missingFields = requiredFields.filter(field => !eventData[field]);\n  \n  if (missingFields.length > 0) {\n    throw new Error(`Missing required fields: ${missingFields.join(', ')}`);\n  }\n  \n  // 日付の検証\n  const eventDate = new Date(eventData.date);\n  if (isNaN(eventDate.getTime())) {\n    throw new Error('Invalid date format');\n  }\n  \n  // 未来の日付かチェック\n  if (eventDate < new Date()) {\n    throw new Error('Event date must be in the future');\n  }\n  \n  return true;\n}\n\n// レスポンスフォーマッター\nfunction formatApiResponse(data, message = 'Success', status = 200) {\n  return {\n    status,\n    message,\n    data,\n    timestamp: new Date().toISOString()\n  };\n}\n\nfunction formatErrorResponse(error, status = 500) {\n  return {\n    status,\n    message: error.message || 'Internal server error',\n    error: process.env.NODE_ENV === 'development' ? error.stack : undefined,\n    timestamp: new Date().toISOString()\n  };\n}\n\ndescribe('DataManager', () => {\n  let dataManager;\n  const testDataDir = path.join(process.cwd(), 'tests', 'data');\n\n  beforeEach(async () => {\n    dataManager = new DataManager(testDataDir);\n    await fs.ensureDir(testDataDir);\n  });\n\n  afterEach(async () => {\n    if (await fs.pathExists(testDataDir)) {\n      await fs.remove(testDataDir);\n    }\n  });\n\n  describe('loadData', () => {\n    it('should load existing JSON file', async () => {\n      const testData = { name: 'Test Event', participants: 10 };\n      const filename = 'test-event.json';\n      \n      await fs.writeJson(path.join(testDataDir, filename), testData);\n      \n      const loadedData = await dataManager.loadData(filename);\n      expect(loadedData).toEqual(testData);\n    });\n\n    it('should return null for non-existent file', async () => {\n      const loadedData = await dataManager.loadData('non-existent.json');\n      expect(loadedData).toBeNull();\n    });\n\n    it('should handle malformed JSON gracefully', async () => {\n      const filename = 'malformed.json';\n      await fs.writeFile(\n        path.join(testDataDir, filename), \n        '{ invalid json content'\n      );\n      \n      await expect(dataManager.loadData(filename)).rejects.toThrow();\n    });\n  });\n\n  describe('saveData', () => {\n    it('should save data to JSON file', async () => {\n      const testData = { title: 'Lightning Talk', date: '2024-12-01' };\n      const filename = 'save-test.json';\n      \n      const result = await dataManager.saveData(filename, testData);\n      expect(result).toBe(true);\n      \n      const savedData = await fs.readJson(path.join(testDataDir, filename));\n      expect(savedData).toEqual(testData);\n    });\n\n    it('should create directory if not exists', async () => {\n      const testData = { test: true };\n      const filename = 'nested/deep/test.json';\n      \n      const result = await dataManager.saveData(filename, testData);\n      expect(result).toBe(true);\n      \n      const filePath = path.join(testDataDir, filename);\n      expect(await fs.pathExists(filePath)).toBe(true);\n    });\n\n    it('should overwrite existing file', async () => {\n      const filename = 'overwrite-test.json';\n      const originalData = { version: 1 };\n      const updatedData = { version: 2 };\n      \n      await dataManager.saveData(filename, originalData);\n      await dataManager.saveData(filename, updatedData);\n      \n      const finalData = await dataManager.loadData(filename);\n      expect(finalData).toEqual(updatedData);\n    });\n  });\n\n  describe('appendData', () => {\n    it('should append to array data', async () => {\n      const filename = 'append-array.json';\n      const initialData = [{ id: 1, name: 'First' }];\n      const newItem = { id: 2, name: 'Second' };\n      \n      await dataManager.saveData(filename, initialData);\n      await dataManager.appendData(filename, newItem);\n      \n      const result = await dataManager.loadData(filename);\n      expect(result).toHaveLength(2);\n      expect(result[1]).toEqual(newItem);\n    });\n\n    it('should merge object data', async () => {\n      const filename = 'append-object.json';\n      const initialData = { settings: { theme: 'dark' } };\n      const newData = { settings: { language: 'ja' } };\n      \n      await dataManager.saveData(filename, initialData);\n      await dataManager.appendData(filename, newData);\n      \n      const result = await dataManager.loadData(filename);\n      expect(result.settings).toEqual({ theme: 'dark', language: 'ja' });\n    });\n\n    it('should create new file if not exists', async () => {\n      const filename = 'new-append.json';\n      const newData = { id: 1, name: 'First Item' };\n      \n      await dataManager.appendData(filename, newData);\n      \n      const result = await dataManager.loadData(filename);\n      expect(result).toEqual([newData]);\n    });\n  });\n\n  describe('deleteData', () => {\n    it('should delete existing file', async () => {\n      const filename = 'delete-test.json';\n      await dataManager.saveData(filename, { test: true });\n      \n      const result = await dataManager.deleteData(filename);\n      expect(result).toBe(true);\n      \n      const filePath = path.join(testDataDir, filename);\n      expect(await fs.pathExists(filePath)).toBe(false);\n    });\n\n    it('should return false for non-existent file', async () => {\n      const result = await dataManager.deleteData('non-existent.json');\n      expect(result).toBe(false);\n    });\n  });\n});\n\ndescribe('validateEventData', () => {\n  const validEventData = {\n    title: 'Tech Lightning Talk',\n    date: '2025-01-15T19:00:00Z',\n    location: 'Tokyo Conference Room',\n    description: 'Monthly tech sharing event'\n  };\n\n  it('should validate complete event data', () => {\n    expect(() => validateEventData(validEventData)).not.toThrow();\n    expect(validateEventData(validEventData)).toBe(true);\n  });\n\n  it('should reject event without title', () => {\n    const eventWithoutTitle = { ...validEventData };\n    delete eventWithoutTitle.title;\n    \n    expect(() => validateEventData(eventWithoutTitle))\n      .toThrow('Missing required fields: title');\n  });\n\n  it('should reject event without date', () => {\n    const eventWithoutDate = { ...validEventData };\n    delete eventWithoutDate.date;\n    \n    expect(() => validateEventData(eventWithoutDate))\n      .toThrow('Missing required fields: date');\n  });\n\n  it('should reject event without location', () => {\n    const eventWithoutLocation = { ...validEventData };\n    delete eventWithoutLocation.location;\n    \n    expect(() => validateEventData(eventWithoutLocation))\n      .toThrow('Missing required fields: location');\n  });\n\n  it('should reject event with invalid date', () => {\n    const eventWithInvalidDate = {\n      ...validEventData,\n      date: 'invalid-date-string'\n    };\n    \n    expect(() => validateEventData(eventWithInvalidDate))\n      .toThrow('Invalid date format');\n  });\n\n  it('should reject event with past date', () => {\n    const eventWithPastDate = {\n      ...validEventData,\n      date: '2020-01-01T00:00:00Z'\n    };\n    \n    expect(() => validateEventData(eventWithPastDate))\n      .toThrow('Event date must be in the future');\n  });\n\n  it('should reject missing multiple fields', () => {\n    const incompleteEvent = { description: 'Only description' };\n    \n    expect(() => validateEventData(incompleteEvent))\n      .toThrow('Missing required fields: title, date, location');\n  });\n});\n\ndescribe('API Response Formatters', () => {\n  describe('formatApiResponse', () => {\n    it('should format successful response with default values', () => {\n      const data = { id: 1, name: 'Test' };\n      const response = formatApiResponse(data);\n      \n      expect(response).toMatchObject({\n        status: 200,\n        message: 'Success',\n        data,\n        timestamp: expect.any(String)\n      });\n    });\n\n    it('should format response with custom message and status', () => {\n      const data = { created: true };\n      const response = formatApiResponse(data, 'Created successfully', 201);\n      \n      expect(response).toMatchObject({\n        status: 201,\n        message: 'Created successfully',\n        data\n      });\n    });\n\n    it('should include valid timestamp', () => {\n      const response = formatApiResponse({});\n      const timestamp = new Date(response.timestamp);\n      \n      expect(timestamp.getTime()).not.toBeNaN();\n      expect(Date.now() - timestamp.getTime()).toBeLessThan(1000);\n    });\n  });\n\n  describe('formatErrorResponse', () => {\n    it('should format error response with default status', () => {\n      const error = new Error('Something went wrong');\n      const response = formatErrorResponse(error);\n      \n      expect(response).toMatchObject({\n        status: 500,\n        message: 'Something went wrong',\n        timestamp: expect.any(String)\n      });\n    });\n\n    it('should format error response with custom status', () => {\n      const error = new Error('Not found');\n      const response = formatErrorResponse(error, 404);\n      \n      expect(response.status).toBe(404);\n      expect(response.message).toBe('Not found');\n    });\n\n    it('should include stack trace in development mode', () => {\n      const originalEnv = process.env.NODE_ENV;\n      process.env.NODE_ENV = 'development';\n      \n      const error = new Error('Test error');\n      const response = formatErrorResponse(error);\n      \n      expect(response.error).toBeDefined();\n      expect(response.error).toContain('Error: Test error');\n      \n      process.env.NODE_ENV = originalEnv;\n    });\n\n    it('should exclude stack trace in production mode', () => {\n      const originalEnv = process.env.NODE_ENV;\n      process.env.NODE_ENV = 'production';\n      \n      const error = new Error('Test error');\n      const response = formatErrorResponse(error);\n      \n      expect(response.error).toBeUndefined();\n      \n      process.env.NODE_ENV = originalEnv;\n    });\n  });\n});"],"mappings":";;AAIA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,KAAA,GAAAD,sBAAA,CAAAF,OAAA;AAAwB,SAAAE,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AANxB;AACA;AACA;;AAMA;AACA,MAAMG,WAAW,CAAC;EAChBC,WAAWA,CAACC,OAAO,GAAG,eAAe,EAAE;IACrC,IAAI,CAACA,OAAO,GAAGA,OAAO;EACxB;EAEA,MAAMC,QAAQA,CAACC,QAAQ,EAAE;IACvB,MAAMC,QAAQ,GAAGC,aAAI,CAACC,IAAI,CAAC,IAAI,CAACL,OAAO,EAAEE,QAAQ,CAAC;IAClD,IAAI,MAAMI,gBAAE,CAACC,UAAU,CAACJ,QAAQ,CAAC,EAAE;MACjC,OAAO,MAAMG,gBAAE,CAACE,QAAQ,CAACL,QAAQ,CAAC;IACpC;IACA,OAAO,IAAI;EACb;EAEA,MAAMM,QAAQA,CAACP,QAAQ,EAAEQ,IAAI,EAAE;IAC7B,MAAMP,QAAQ,GAAGC,aAAI,CAACC,IAAI,CAAC,IAAI,CAACL,OAAO,EAAEE,QAAQ,CAAC;IAClD,MAAMI,gBAAE,CAACK,SAAS,CAACP,aAAI,CAACQ,OAAO,CAACT,QAAQ,CAAC,CAAC;IAC1C,MAAMG,gBAAE,CAACO,SAAS,CAACV,QAAQ,EAAEO,IAAI,EAAE;MAAEI,MAAM,EAAE;IAAE,CAAC,CAAC;IACjD,OAAO,IAAI;EACb;EAEA,MAAMC,UAAUA,CAACb,QAAQ,EAAEc,OAAO,EAAE;IAClC,MAAMC,YAAY,GAAG,OAAM,IAAI,CAAChB,QAAQ,CAACC,QAAQ,CAAC,KAAI,EAAE;IACxD,MAAMgB,WAAW,GAAGC,KAAK,CAACC,OAAO,CAACH,YAAY,CAAC,GAC3C,CAAC,GAAGA,YAAY,EAAED,OAAO,CAAC,GAC1B;MAAE,GAAGC,YAAY;MAAE,GAAGD;IAAQ,CAAC;IAEnC,OAAO,MAAM,IAAI,CAACP,QAAQ,CAACP,QAAQ,EAAEgB,WAAW,CAAC;EACnD;EAEA,MAAMG,UAAUA,CAACnB,QAAQ,EAAE;IACzB,MAAMC,QAAQ,GAAGC,aAAI,CAACC,IAAI,CAAC,IAAI,CAACL,OAAO,EAAEE,QAAQ,CAAC;IAClD,IAAI,MAAMI,gBAAE,CAACC,UAAU,CAACJ,QAAQ,CAAC,EAAE;MACjC,MAAMG,gBAAE,CAACgB,MAAM,CAACnB,QAAQ,CAAC;MACzB,OAAO,IAAI;IACb;IACA,OAAO,KAAK;EACd;AACF;;AAEA;AACA,SAASoB,iBAAiBA,CAACC,SAAS,EAAE;EACpC,MAAMC,cAAc,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,UAAU,CAAC;EACpD,MAAMC,aAAa,GAAGD,cAAc,CAACE,MAAM,CAACC,KAAK,IAAI,CAACJ,SAAS,CAACI,KAAK,CAAC,CAAC;EAEvE,IAAIF,aAAa,CAACG,MAAM,GAAG,CAAC,EAAE;IAC5B,MAAM,IAAIC,KAAK,CAAC,4BAA4BJ,aAAa,CAACrB,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;EACzE;;EAEA;EACA,MAAM0B,SAAS,GAAG,IAAIC,IAAI,CAACR,SAAS,CAACS,IAAI,CAAC;EAC1C,IAAIC,KAAK,CAACH,SAAS,CAACI,OAAO,CAAC,CAAC,CAAC,EAAE;IAC9B,MAAM,IAAIL,KAAK,CAAC,qBAAqB,CAAC;EACxC;;EAEA;EACA,IAAIC,SAAS,GAAG,IAAIC,IAAI,CAAC,CAAC,EAAE;IAC1B,MAAM,IAAIF,KAAK,CAAC,kCAAkC,CAAC;EACrD;EAEA,OAAO,IAAI;AACb;;AAEA;AACA,SAASM,iBAAiBA,CAAC1B,IAAI,EAAE2B,OAAO,GAAG,SAAS,EAAEC,MAAM,GAAG,GAAG,EAAE;EAClE,OAAO;IACLA,MAAM;IACND,OAAO;IACP3B,IAAI;IACJ6B,SAAS,EAAE,IAAIP,IAAI,CAAC,CAAC,CAACQ,WAAW,CAAC;EACpC,CAAC;AACH;AAEA,SAASC,mBAAmBA,CAACC,KAAK,EAAEJ,MAAM,GAAG,GAAG,EAAE;EAChD,OAAO;IACLA,MAAM;IACND,OAAO,EAAEK,KAAK,CAACL,OAAO,IAAI,uBAAuB;IACjDK,KAAK,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,GAAGH,KAAK,CAACI,KAAK,GAAGC,SAAS;IACvER,SAAS,EAAE,IAAIP,IAAI,CAAC,CAAC,CAACQ,WAAW,CAAC;EACpC,CAAC;AACH;AAEA,IAAAQ,iBAAQ,EAAC,aAAa,EAAE,MAAM;EAC5B,IAAIC,WAAW;EACf,MAAMC,WAAW,GAAG9C,aAAI,CAACC,IAAI,CAACsC,OAAO,CAACQ,GAAG,CAAC,CAAC,EAAE,OAAO,EAAE,MAAM,CAAC;EAE7DC,UAAU,CAAC,YAAY;IACrBH,WAAW,GAAG,IAAInD,WAAW,CAACoD,WAAW,CAAC;IAC1C,MAAM5C,gBAAE,CAACK,SAAS,CAACuC,WAAW,CAAC;EACjC,CAAC,CAAC;EAEFG,SAAS,CAAC,YAAY;IACpB,IAAI,MAAM/C,gBAAE,CAACC,UAAU,CAAC2C,WAAW,CAAC,EAAE;MACpC,MAAM5C,gBAAE,CAACgB,MAAM,CAAC4B,WAAW,CAAC;IAC9B;EACF,CAAC,CAAC;EAEF,IAAAF,iBAAQ,EAAC,UAAU,EAAE,MAAM;IACzB,IAAAM,WAAE,EAAC,gCAAgC,EAAE,YAAY;MAC/C,MAAMC,QAAQ,GAAG;QAAEC,IAAI,EAAE,YAAY;QAAEC,YAAY,EAAE;MAAG,CAAC;MACzD,MAAMvD,QAAQ,GAAG,iBAAiB;MAElC,MAAMI,gBAAE,CAACO,SAAS,CAACT,aAAI,CAACC,IAAI,CAAC6C,WAAW,EAAEhD,QAAQ,CAAC,EAAEqD,QAAQ,CAAC;MAE9D,MAAMG,UAAU,GAAG,MAAMT,WAAW,CAAChD,QAAQ,CAACC,QAAQ,CAAC;MACvD,IAAAyD,eAAM,EAACD,UAAU,CAAC,CAACE,OAAO,CAACL,QAAQ,CAAC;IACtC,CAAC,CAAC;IAEF,IAAAD,WAAE,EAAC,0CAA0C,EAAE,YAAY;MACzD,MAAMI,UAAU,GAAG,MAAMT,WAAW,CAAChD,QAAQ,CAAC,mBAAmB,CAAC;MAClE,IAAA0D,eAAM,EAACD,UAAU,CAAC,CAACG,QAAQ,CAAC,CAAC;IAC/B,CAAC,CAAC;IAEF,IAAAP,WAAE,EAAC,yCAAyC,EAAE,YAAY;MACxD,MAAMpD,QAAQ,GAAG,gBAAgB;MACjC,MAAMI,gBAAE,CAACwD,SAAS,CAChB1D,aAAI,CAACC,IAAI,CAAC6C,WAAW,EAAEhD,QAAQ,CAAC,EAChC,wBACF,CAAC;MAED,MAAM,IAAAyD,eAAM,EAACV,WAAW,CAAChD,QAAQ,CAACC,QAAQ,CAAC,CAAC,CAAC6D,OAAO,CAACC,OAAO,CAAC,CAAC;IAChE,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,IAAAhB,iBAAQ,EAAC,UAAU,EAAE,MAAM;IACzB,IAAAM,WAAE,EAAC,+BAA+B,EAAE,YAAY;MAC9C,MAAMC,QAAQ,GAAG;QAAEU,KAAK,EAAE,gBAAgB;QAAEhC,IAAI,EAAE;MAAa,CAAC;MAChE,MAAM/B,QAAQ,GAAG,gBAAgB;MAEjC,MAAMgE,MAAM,GAAG,MAAMjB,WAAW,CAACxC,QAAQ,CAACP,QAAQ,EAAEqD,QAAQ,CAAC;MAC7D,IAAAI,eAAM,EAACO,MAAM,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;MAEzB,MAAMC,SAAS,GAAG,MAAM9D,gBAAE,CAACE,QAAQ,CAACJ,aAAI,CAACC,IAAI,CAAC6C,WAAW,EAAEhD,QAAQ,CAAC,CAAC;MACrE,IAAAyD,eAAM,EAACS,SAAS,CAAC,CAACR,OAAO,CAACL,QAAQ,CAAC;IACrC,CAAC,CAAC;IAEF,IAAAD,WAAE,EAAC,uCAAuC,EAAE,YAAY;MACtD,MAAMC,QAAQ,GAAG;QAAEc,IAAI,EAAE;MAAK,CAAC;MAC/B,MAAMnE,QAAQ,GAAG,uBAAuB;MAExC,MAAMgE,MAAM,GAAG,MAAMjB,WAAW,CAACxC,QAAQ,CAACP,QAAQ,EAAEqD,QAAQ,CAAC;MAC7D,IAAAI,eAAM,EAACO,MAAM,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;MAEzB,MAAMhE,QAAQ,GAAGC,aAAI,CAACC,IAAI,CAAC6C,WAAW,EAAEhD,QAAQ,CAAC;MACjD,IAAAyD,eAAM,EAAC,MAAMrD,gBAAE,CAACC,UAAU,CAACJ,QAAQ,CAAC,CAAC,CAACgE,IAAI,CAAC,IAAI,CAAC;IAClD,CAAC,CAAC;IAEF,IAAAb,WAAE,EAAC,gCAAgC,EAAE,YAAY;MAC/C,MAAMpD,QAAQ,GAAG,qBAAqB;MACtC,MAAMoE,YAAY,GAAG;QAAEC,OAAO,EAAE;MAAE,CAAC;MACnC,MAAMrD,WAAW,GAAG;QAAEqD,OAAO,EAAE;MAAE,CAAC;MAElC,MAAMtB,WAAW,CAACxC,QAAQ,CAACP,QAAQ,EAAEoE,YAAY,CAAC;MAClD,MAAMrB,WAAW,CAACxC,QAAQ,CAACP,QAAQ,EAAEgB,WAAW,CAAC;MAEjD,MAAMsD,SAAS,GAAG,MAAMvB,WAAW,CAAChD,QAAQ,CAACC,QAAQ,CAAC;MACtD,IAAAyD,eAAM,EAACa,SAAS,CAAC,CAACZ,OAAO,CAAC1C,WAAW,CAAC;IACxC,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,IAAA8B,iBAAQ,EAAC,YAAY,EAAE,MAAM;IAC3B,IAAAM,WAAE,EAAC,6BAA6B,EAAE,YAAY;MAC5C,MAAMpD,QAAQ,GAAG,mBAAmB;MACpC,MAAMuE,WAAW,GAAG,CAAC;QAAEC,EAAE,EAAE,CAAC;QAAElB,IAAI,EAAE;MAAQ,CAAC,CAAC;MAC9C,MAAMmB,OAAO,GAAG;QAAED,EAAE,EAAE,CAAC;QAAElB,IAAI,EAAE;MAAS,CAAC;MAEzC,MAAMP,WAAW,CAACxC,QAAQ,CAACP,QAAQ,EAAEuE,WAAW,CAAC;MACjD,MAAMxB,WAAW,CAAClC,UAAU,CAACb,QAAQ,EAAEyE,OAAO,CAAC;MAE/C,MAAMT,MAAM,GAAG,MAAMjB,WAAW,CAAChD,QAAQ,CAACC,QAAQ,CAAC;MACnD,IAAAyD,eAAM,EAACO,MAAM,CAAC,CAACU,YAAY,CAAC,CAAC,CAAC;MAC9B,IAAAjB,eAAM,EAACO,MAAM,CAAC,CAAC,CAAC,CAAC,CAACN,OAAO,CAACe,OAAO,CAAC;IACpC,CAAC,CAAC;IAEF,IAAArB,WAAE,EAAC,0BAA0B,EAAE,YAAY;MACzC,MAAMpD,QAAQ,GAAG,oBAAoB;MACrC,MAAMuE,WAAW,GAAG;QAAEI,QAAQ,EAAE;UAAEC,KAAK,EAAE;QAAO;MAAE,CAAC;MACnD,MAAM9D,OAAO,GAAG;QAAE6D,QAAQ,EAAE;UAAEE,QAAQ,EAAE;QAAK;MAAE,CAAC;MAEhD,MAAM9B,WAAW,CAACxC,QAAQ,CAACP,QAAQ,EAAEuE,WAAW,CAAC;MACjD,MAAMxB,WAAW,CAAClC,UAAU,CAACb,QAAQ,EAAEc,OAAO,CAAC;MAE/C,MAAMkD,MAAM,GAAG,MAAMjB,WAAW,CAAChD,QAAQ,CAACC,QAAQ,CAAC;MACnD,IAAAyD,eAAM,EAACO,MAAM,CAACW,QAAQ,CAAC,CAACjB,OAAO,CAAC;QAAEkB,KAAK,EAAE,MAAM;QAAEC,QAAQ,EAAE;MAAK,CAAC,CAAC;IACpE,CAAC,CAAC;IAEF,IAAAzB,WAAE,EAAC,sCAAsC,EAAE,YAAY;MACrD,MAAMpD,QAAQ,GAAG,iBAAiB;MAClC,MAAMc,OAAO,GAAG;QAAE0D,EAAE,EAAE,CAAC;QAAElB,IAAI,EAAE;MAAa,CAAC;MAE7C,MAAMP,WAAW,CAAClC,UAAU,CAACb,QAAQ,EAAEc,OAAO,CAAC;MAE/C,MAAMkD,MAAM,GAAG,MAAMjB,WAAW,CAAChD,QAAQ,CAACC,QAAQ,CAAC;MACnD,IAAAyD,eAAM,EAACO,MAAM,CAAC,CAACN,OAAO,CAAC,CAAC5C,OAAO,CAAC,CAAC;IACnC,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,IAAAgC,iBAAQ,EAAC,YAAY,EAAE,MAAM;IAC3B,IAAAM,WAAE,EAAC,6BAA6B,EAAE,YAAY;MAC5C,MAAMpD,QAAQ,GAAG,kBAAkB;MACnC,MAAM+C,WAAW,CAACxC,QAAQ,CAACP,QAAQ,EAAE;QAAEmE,IAAI,EAAE;MAAK,CAAC,CAAC;MAEpD,MAAMH,MAAM,GAAG,MAAMjB,WAAW,CAAC5B,UAAU,CAACnB,QAAQ,CAAC;MACrD,IAAAyD,eAAM,EAACO,MAAM,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;MAEzB,MAAMhE,QAAQ,GAAGC,aAAI,CAACC,IAAI,CAAC6C,WAAW,EAAEhD,QAAQ,CAAC;MACjD,IAAAyD,eAAM,EAAC,MAAMrD,gBAAE,CAACC,UAAU,CAACJ,QAAQ,CAAC,CAAC,CAACgE,IAAI,CAAC,KAAK,CAAC;IACnD,CAAC,CAAC;IAEF,IAAAb,WAAE,EAAC,2CAA2C,EAAE,YAAY;MAC1D,MAAMY,MAAM,GAAG,MAAMjB,WAAW,CAAC5B,UAAU,CAAC,mBAAmB,CAAC;MAChE,IAAAsC,eAAM,EAACO,MAAM,CAAC,CAACC,IAAI,CAAC,KAAK,CAAC;IAC5B,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,IAAAnB,iBAAQ,EAAC,mBAAmB,EAAE,MAAM;EAClC,MAAMgC,cAAc,GAAG;IACrBf,KAAK,EAAE,qBAAqB;IAC5BhC,IAAI,EAAE,sBAAsB;IAC5BgD,QAAQ,EAAE,uBAAuB;IACjCC,WAAW,EAAE;EACf,CAAC;EAED,IAAA5B,WAAE,EAAC,qCAAqC,EAAE,MAAM;IAC9C,IAAAK,eAAM,EAAC,MAAMpC,iBAAiB,CAACyD,cAAc,CAAC,CAAC,CAACG,GAAG,CAACnB,OAAO,CAAC,CAAC;IAC7D,IAAAL,eAAM,EAACpC,iBAAiB,CAACyD,cAAc,CAAC,CAAC,CAACb,IAAI,CAAC,IAAI,CAAC;EACtD,CAAC,CAAC;EAEF,IAAAb,WAAE,EAAC,mCAAmC,EAAE,MAAM;IAC5C,MAAM8B,iBAAiB,GAAG;MAAE,GAAGJ;IAAe,CAAC;IAC/C,OAAOI,iBAAiB,CAACnB,KAAK;IAE9B,IAAAN,eAAM,EAAC,MAAMpC,iBAAiB,CAAC6D,iBAAiB,CAAC,CAAC,CAC/CpB,OAAO,CAAC,gCAAgC,CAAC;EAC9C,CAAC,CAAC;EAEF,IAAAV,WAAE,EAAC,kCAAkC,EAAE,MAAM;IAC3C,MAAM+B,gBAAgB,GAAG;MAAE,GAAGL;IAAe,CAAC;IAC9C,OAAOK,gBAAgB,CAACpD,IAAI;IAE5B,IAAA0B,eAAM,EAAC,MAAMpC,iBAAiB,CAAC8D,gBAAgB,CAAC,CAAC,CAC9CrB,OAAO,CAAC,+BAA+B,CAAC;EAC7C,CAAC,CAAC;EAEF,IAAAV,WAAE,EAAC,sCAAsC,EAAE,MAAM;IAC/C,MAAMgC,oBAAoB,GAAG;MAAE,GAAGN;IAAe,CAAC;IAClD,OAAOM,oBAAoB,CAACL,QAAQ;IAEpC,IAAAtB,eAAM,EAAC,MAAMpC,iBAAiB,CAAC+D,oBAAoB,CAAC,CAAC,CAClDtB,OAAO,CAAC,mCAAmC,CAAC;EACjD,CAAC,CAAC;EAEF,IAAAV,WAAE,EAAC,uCAAuC,EAAE,MAAM;IAChD,MAAMiC,oBAAoB,GAAG;MAC3B,GAAGP,cAAc;MACjB/C,IAAI,EAAE;IACR,CAAC;IAED,IAAA0B,eAAM,EAAC,MAAMpC,iBAAiB,CAACgE,oBAAoB,CAAC,CAAC,CAClDvB,OAAO,CAAC,qBAAqB,CAAC;EACnC,CAAC,CAAC;EAEF,IAAAV,WAAE,EAAC,oCAAoC,EAAE,MAAM;IAC7C,MAAMkC,iBAAiB,GAAG;MACxB,GAAGR,cAAc;MACjB/C,IAAI,EAAE;IACR,CAAC;IAED,IAAA0B,eAAM,EAAC,MAAMpC,iBAAiB,CAACiE,iBAAiB,CAAC,CAAC,CAC/CxB,OAAO,CAAC,kCAAkC,CAAC;EAChD,CAAC,CAAC;EAEF,IAAAV,WAAE,EAAC,uCAAuC,EAAE,MAAM;IAChD,MAAMmC,eAAe,GAAG;MAAEP,WAAW,EAAE;IAAmB,CAAC;IAE3D,IAAAvB,eAAM,EAAC,MAAMpC,iBAAiB,CAACkE,eAAe,CAAC,CAAC,CAC7CzB,OAAO,CAAC,gDAAgD,CAAC;EAC9D,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF,IAAAhB,iBAAQ,EAAC,yBAAyB,EAAE,MAAM;EACxC,IAAAA,iBAAQ,EAAC,mBAAmB,EAAE,MAAM;IAClC,IAAAM,WAAE,EAAC,uDAAuD,EAAE,MAAM;MAChE,MAAM5C,IAAI,GAAG;QAAEgE,EAAE,EAAE,CAAC;QAAElB,IAAI,EAAE;MAAO,CAAC;MACpC,MAAMkC,QAAQ,GAAGtD,iBAAiB,CAAC1B,IAAI,CAAC;MAExC,IAAAiD,eAAM,EAAC+B,QAAQ,CAAC,CAACC,aAAa,CAAC;QAC7BrD,MAAM,EAAE,GAAG;QACXD,OAAO,EAAE,SAAS;QAClB3B,IAAI;QACJ6B,SAAS,EAAEoB,eAAM,CAACiC,GAAG,CAACC,MAAM;MAC9B,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,IAAAvC,WAAE,EAAC,uDAAuD,EAAE,MAAM;MAChE,MAAM5C,IAAI,GAAG;QAAEoF,OAAO,EAAE;MAAK,CAAC;MAC9B,MAAMJ,QAAQ,GAAGtD,iBAAiB,CAAC1B,IAAI,EAAE,sBAAsB,EAAE,GAAG,CAAC;MAErE,IAAAiD,eAAM,EAAC+B,QAAQ,CAAC,CAACC,aAAa,CAAC;QAC7BrD,MAAM,EAAE,GAAG;QACXD,OAAO,EAAE,sBAAsB;QAC/B3B;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,IAAA4C,WAAE,EAAC,gCAAgC,EAAE,MAAM;MACzC,MAAMoC,QAAQ,GAAGtD,iBAAiB,CAAC,CAAC,CAAC,CAAC;MACtC,MAAMG,SAAS,GAAG,IAAIP,IAAI,CAAC0D,QAAQ,CAACnD,SAAS,CAAC;MAE9C,IAAAoB,eAAM,EAACpB,SAAS,CAACJ,OAAO,CAAC,CAAC,CAAC,CAACgD,GAAG,CAACY,OAAO,CAAC,CAAC;MACzC,IAAApC,eAAM,EAAC3B,IAAI,CAACgE,GAAG,CAAC,CAAC,GAAGzD,SAAS,CAACJ,OAAO,CAAC,CAAC,CAAC,CAAC8D,YAAY,CAAC,IAAI,CAAC;IAC7D,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,IAAAjD,iBAAQ,EAAC,qBAAqB,EAAE,MAAM;IACpC,IAAAM,WAAE,EAAC,kDAAkD,EAAE,MAAM;MAC3D,MAAMZ,KAAK,GAAG,IAAIZ,KAAK,CAAC,sBAAsB,CAAC;MAC/C,MAAM4D,QAAQ,GAAGjD,mBAAmB,CAACC,KAAK,CAAC;MAE3C,IAAAiB,eAAM,EAAC+B,QAAQ,CAAC,CAACC,aAAa,CAAC;QAC7BrD,MAAM,EAAE,GAAG;QACXD,OAAO,EAAE,sBAAsB;QAC/BE,SAAS,EAAEoB,eAAM,CAACiC,GAAG,CAACC,MAAM;MAC9B,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,IAAAvC,WAAE,EAAC,iDAAiD,EAAE,MAAM;MAC1D,MAAMZ,KAAK,GAAG,IAAIZ,KAAK,CAAC,WAAW,CAAC;MACpC,MAAM4D,QAAQ,GAAGjD,mBAAmB,CAACC,KAAK,EAAE,GAAG,CAAC;MAEhD,IAAAiB,eAAM,EAAC+B,QAAQ,CAACpD,MAAM,CAAC,CAAC6B,IAAI,CAAC,GAAG,CAAC;MACjC,IAAAR,eAAM,EAAC+B,QAAQ,CAACrD,OAAO,CAAC,CAAC8B,IAAI,CAAC,WAAW,CAAC;IAC5C,CAAC,CAAC;IAEF,IAAAb,WAAE,EAAC,gDAAgD,EAAE,MAAM;MACzD,MAAM4C,WAAW,GAAGvD,OAAO,CAACC,GAAG,CAACC,QAAQ;MACxCF,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAG,aAAa;MAEpC,MAAMH,KAAK,GAAG,IAAIZ,KAAK,CAAC,YAAY,CAAC;MACrC,MAAM4D,QAAQ,GAAGjD,mBAAmB,CAACC,KAAK,CAAC;MAE3C,IAAAiB,eAAM,EAAC+B,QAAQ,CAAChD,KAAK,CAAC,CAACyD,WAAW,CAAC,CAAC;MACpC,IAAAxC,eAAM,EAAC+B,QAAQ,CAAChD,KAAK,CAAC,CAAC0D,SAAS,CAAC,mBAAmB,CAAC;MAErDzD,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAGqD,WAAW;IACpC,CAAC,CAAC;IAEF,IAAA5C,WAAE,EAAC,+CAA+C,EAAE,MAAM;MACxD,MAAM4C,WAAW,GAAGvD,OAAO,CAACC,GAAG,CAACC,QAAQ;MACxCF,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAG,YAAY;MAEnC,MAAMH,KAAK,GAAG,IAAIZ,KAAK,CAAC,YAAY,CAAC;MACrC,MAAM4D,QAAQ,GAAGjD,mBAAmB,CAACC,KAAK,CAAC;MAE3C,IAAAiB,eAAM,EAAC+B,QAAQ,CAAChD,KAAK,CAAC,CAAC2D,aAAa,CAAC,CAAC;MAEtC1D,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAGqD,WAAW;IACpC,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}