c6e6d0189322cbfce853f496ffcfd9f3
/**
 * Email Service for Lightning Talk Event Management
 * Handles all email communications
 */

export class EmailService {
  constructor() {
    this.enabled = process.env.EMAIL_ENABLED === 'true';
    this.from = process.env.EMAIL_FROM || 'noreply@lightningtalk.example.com';
    this.templates = this.initializeTemplates();
    if (this.enabled) {
      this.setupEmailProvider();
    }
  }
  setupEmailProvider() {
    // In a real implementation, you would set up nodemailer or another email service
    // For now, we'll simulate email sending
    console.log('📧 Email service initialized (simulation mode)');
  }
  initializeTemplates() {
    return {
      registrationConfirmation: {
        subject: '🎉 ライトニングトーク参加登録完了',
        template: this.getRegistrationConfirmationTemplate()
      },
      speakerConfirmation: {
        subject: '🎤 発表申込み受付完了',
        template: this.getSpeakerConfirmationTemplate()
      },
      eventReminder: {
        subject: '⚡ ライトニングトーク開催間近のお知らせ',
        template: this.getEventReminderTemplate()
      },
      eventCancellation: {
        subject: '⚠️ イベント中止のお知らせ',
        template: this.getEventCancellationTemplate()
      },
      feedbackRequest: {
        subject: '💭 イベントの感想をお聞かせください',
        template: this.getFeedbackRequestTemplate()
      }
    };
  }
  async sendRegistrationConfirmation(participant, event) {
    if (!this.enabled) {
      console.log('📧 [SIMULATED] Registration confirmation email sent to:', participant.email);
      return;
    }
    const template = this.templates.registrationConfirmation;
    const html = template.template.replace('{{participantName}}', participant.name).replace('{{eventTitle}}', event.title).replace('{{eventDate}}', this.formatDate(event.date)).replace('{{eventVenue}}', event.venue.name).replace('{{participationType}}', this.formatParticipationType(participant.participationType)).replace('{{onlineUrl}}', event.venue.onlineUrl || '');
    await this.sendEmail({
      to: participant.email,
      subject: template.subject,
      html
    });
  }
  async sendSpeakerConfirmation(participant, talk, event) {
    if (!this.enabled) {
      console.log('📧 [SIMULATED] Speaker confirmation email sent to:', participant.email);
      return;
    }
    const template = this.templates.speakerConfirmation;
    const html = template.template.replace('{{speakerName}}', participant.name).replace('{{talkTitle}}', talk.title).replace('{{eventTitle}}', event.title).replace('{{eventDate}}', this.formatDate(event.date)).replace('{{talkDuration}}', talk.duration).replace('{{category}}', this.formatCategory(talk.category));
    await this.sendEmail({
      to: participant.email,
      subject: template.subject,
      html
    });
  }
  async sendEventReminder(participant, event, daysUntil) {
    if (!this.enabled) {
      console.log('📧 [SIMULATED] Event reminder email sent to:', participant.email);
      return;
    }
    const template = this.templates.eventReminder;
    const html = template.template.replace('{{participantName}}', participant.name).replace('{{eventTitle}}', event.title).replace('{{eventDate}}', this.formatDate(event.date)).replace('{{daysUntil}}', daysUntil).replace('{{eventVenue}}', event.venue.name).replace('{{onlineUrl}}', event.venue.onlineUrl || '');
    await this.sendEmail({
      to: participant.email,
      subject: template.subject,
      html
    });
  }
  async sendEventCancellation(participant, event, reason = '') {
    if (!this.enabled) {
      console.log('📧 [SIMULATED] Event cancellation email sent to:', participant.email);
      return;
    }
    const template = this.templates.eventCancellation;
    const html = template.template.replace('{{participantName}}', participant.name).replace('{{eventTitle}}', event.title).replace('{{eventDate}}', this.formatDate(event.date)).replace('{{reason}}', reason || '諸事情により');
    await this.sendEmail({
      to: participant.email,
      subject: template.subject,
      html
    });
  }
  async sendFeedbackRequest(participant, event) {
    if (!this.enabled) {
      console.log('📧 [SIMULATED] Feedback request email sent to:', participant.email);
      return;
    }
    const template = this.templates.feedbackRequest;
    const html = template.template.replace('{{participantName}}', participant.name).replace('{{eventTitle}}', event.title).replace('{{feedbackUrl}}', process.env.FEEDBACK_URL || 'https://forms.google.com/feedback');
    await this.sendEmail({
      to: participant.email,
      subject: template.subject,
      html
    });
  }
  async sendEmail({
    to,
    subject,
    html
  }) {
    try {
      // In a real implementation, use nodemailer or email service API
      console.log(`📧 Sending email to: ${to}`);
      console.log(`📧 Subject: ${subject}`);

      // Simulate email sending delay
      await new Promise(resolve => setTimeout(resolve, 100));
      return {
        messageId: `msg-${Date.now()}`
      };
    } catch (error) {
      console.error('Failed to send email:', error);
      throw error;
    }
  }

  // Email templates
  getRegistrationConfirmationTemplate() {
    return `
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>参加登録完了</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; line-height: 1.6; color: #333; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; text-align: center; border-radius: 10px 10px 0 0; }
        .content { background: #f9f9f9; padding: 30px; border-radius: 0 0 10px 10px; }
        .info-box { background: white; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 4px solid #667eea; }
        .footer { text-align: center; color: #666; font-size: 14px; margin-top: 30px; }
        .button { display: inline-block; background: #667eea; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; margin: 10px 0; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>⚡ なんでもライトニングトーク</h1>
            <p>参加登録が完了しました！</p>
        </div>
        <div class="content">
            <p>{{participantName}} さん</p>
            <p>この度は「{{eventTitle}}」にご参加いただき、ありがとうございます！</p>
            
            <div class="info-box">
                <h3>📅 イベント詳細</h3>
                <p><strong>日時:</strong> {{eventDate}}</p>
                <p><strong>会場:</strong> {{eventVenue}}</p>
                <p><strong>参加方法:</strong> {{participationType}}</p>
            </div>
            
            <p>当日は5分間のライトニングトークを通じて、様々な「なんでも」な話をお楽しみください！</p>
            <p>ご質問がございましたら、お気軽にお問い合わせください。</p>
            
            <div class="footer">
                <p>なんでもライトニングトーク運営チーム</p>
            </div>
        </div>
    </div>
</body>
</html>
        `;
  }
  getSpeakerConfirmationTemplate() {
    return `
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>発表申込み完了</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; line-height: 1.6; color: #333; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .header { background: linear-gradient(45deg, #FF6B6B, #FFD93D); color: white; padding: 30px; text-align: center; border-radius: 10px 10px 0 0; }
        .content { background: #f9f9f9; padding: 30px; border-radius: 0 0 10px 10px; }
        .talk-info { background: white; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 4px solid #FF6B6B; }
        .tips { background: #fff3cd; padding: 15px; border-radius: 8px; margin: 20px 0; }
        .footer { text-align: center; color: #666; font-size: 14px; margin-top: 30px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎤 発表申込み完了</h1>
            <p>ライトニングトーク発表者として登録されました！</p>
        </div>
        <div class="content">
            <p>{{speakerName}} さん</p>
            <p>発表申込みありがとうございます！あなたの「なんでも」な話を楽しみにしています。</p>
            
            <div class="talk-info">
                <h3>🗣️ 発表内容</h3>
                <p><strong>タイトル:</strong> {{talkTitle}}</p>
                <p><strong>カテゴリー:</strong> {{category}}</p>
                <p><strong>発表時間:</strong> {{talkDuration}}分</p>
            </div>
            
            <div class="tips">
                <h4>💡 発表のコツ</h4>
                <ul>
                    <li>結論から話すと聞き手にとって分かりやすいです</li>
                    <li>体験談を交えると親しみやすくなります</li>
                    <li>{{talkDuration}}分は意外と短いので、要点を絞りましょう</li>
                    <li>完璧を目指さず、楽しく話してください！</li>
                </ul>
            </div>
            
            <p>当日まで何かご質問がございましたら、お気軽にお問い合わせください。</p>
            
            <div class="footer">
                <p>なんでもライトニングトーク運営チーム</p>
            </div>
        </div>
    </div>
</body>
</html>
        `;
  }
  getEventReminderTemplate() {
    return `
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>イベント開催間近</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; line-height: 1.6; color: #333; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .header { background: linear-gradient(135deg, #87CEEB 0%, #4169E1 100%); color: white; padding: 30px; text-align: center; border-radius: 10px 10px 0 0; }
        .content { background: #f9f9f9; padding: 30px; border-radius: 0 0 10px 10px; }
        .countdown { background: white; padding: 20px; border-radius: 10px; margin: 20px 0; text-align: center; border: 2px solid #4169E1; }
        .footer { text-align: center; color: #666; font-size: 14px; margin-top: 30px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>⚡ もうすぐ開催！</h1>
            <p>ライトニングトークまであと{{daysUntil}}日</p>
        </div>
        <div class="content">
            <p>{{participantName}} さん</p>
            <p>「{{eventTitle}}」の開催が近づいてまいりました！</p>
            
            <div class="countdown">
                <h2>📅 {{eventDate}}</h2>
                <p><strong>会場:</strong> {{eventVenue}}</p>
                <p><strong>オンライン参加:</strong> {{onlineUrl}}</p>
            </div>
            
            <p>当日は様々な「なんでも」な話が聞けることを楽しみにしています。</p>
            <p>準備はいかがですか？当日お会いできることを心よりお待ちしております！</p>
            
            <div class="footer">
                <p>なんでもライトニングトーク運営チーム</p>
            </div>
        </div>
    </div>
</body>
</html>
        `;
  }
  getEventCancellationTemplate() {
    return `
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>イベント中止のお知らせ</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; line-height: 1.6; color: #333; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .header { background: #f44336; color: white; padding: 30px; text-align: center; border-radius: 10px 10px 0 0; }
        .content { background: #f9f9f9; padding: 30px; border-radius: 0 0 10px 10px; }
        .apology { background: #ffebee; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 4px solid #f44336; }
        .footer { text-align: center; color: #666; font-size: 14px; margin-top: 30px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>⚠️ イベント中止のお知らせ</h1>
        </div>
        <div class="content">
            <p>{{participantName}} さん</p>
            
            <div class="apology">
                <p>「{{eventTitle}}」（{{eventDate}}開催予定）につきまして、{{reason}}中止とさせていただくことになりました。</p>
                <p>楽しみにしていただいていた皆様には、心よりお詫び申し上げます。</p>
            </div>
            
            <p>次回イベントの開催が決まりましたら、改めてご案内させていただきます。</p>
            <p>この度は、ご迷惑をおかけして申し訳ございませんでした。</p>
            
            <div class="footer">
                <p>なんでもライトニングトーク運営チーム</p>
            </div>
        </div>
    </div>
</body>
</html>
        `;
  }
  getFeedbackRequestTemplate() {
    return `
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>感想をお聞かせください</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; line-height: 1.6; color: #333; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .header { background: linear-gradient(45deg, #ff9a9e 0%, #fecfef 100%); color: white; padding: 30px; text-align: center; border-radius: 10px 10px 0 0; }
        .content { background: #f9f9f9; padding: 30px; border-radius: 0 0 10px 10px; }
        .feedback-box { background: white; padding: 20px; border-radius: 10px; margin: 20px 0; text-align: center; }
        .button { display: inline-block; background: #ff9a9e; color: white; padding: 15px 30px; text-decoration: none; border-radius: 25px; margin: 10px 0; }
        .footer { text-align: center; color: #666; font-size: 14px; margin-top: 30px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>💭 ご参加ありがとうございました</h1>
            <p>感想をお聞かせください</p>
        </div>
        <div class="content">
            <p>{{participantName}} さん</p>
            <p>「{{eventTitle}}」にご参加いただき、ありがとうございました！</p>
            
            <div class="feedback-box">
                <h3>📝 アンケートにご協力ください</h3>
                <p>今回のイベントはいかがでしたか？<br>
                今後のイベント向上のため、ぜひ感想をお聞かせください。</p>
                <a href="{{feedbackUrl}}" class="button">アンケートに回答する</a>
                <p><small>所要時間: 約3分</small></p>
            </div>
            
            <p>またの機会にお会いできることを楽しみにしています！</p>
            
            <div class="footer">
                <p>なんでもライトニングトーク運営チーム</p>
            </div>
        </div>
    </div>
</body>
</html>
        `;
  }

  // Helper methods
  formatDate(dateString) {
    const date = new Date(dateString);
    return date.toLocaleDateString('ja-JP', {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
      weekday: 'long',
      hour: '2-digit',
      minute: '2-digit'
    });
  }
  formatParticipationType(type) {
    const types = {
      onsite: '現地参加',
      online: 'オンライン参加',
      undecided: '当日決定'
    };
    return types[type] || type;
  }
  formatCategory(category) {
    const categories = {
      tech: '💻 プログラミング・技術',
      hobby: '🎨 趣味・アート・創作',
      learning: '📚 読書・学習体験',
      travel: '🌍 旅行・文化体験',
      food: '🍳 料理・グルメ',
      game: '🎮 ゲーム・エンタメ',
      lifehack: '💡 ライフハック・効率化',
      pet: '🐱 ペット・動物',
      garden: '🌱 ガーデニング・植物',
      money: '📈 投資・副業',
      sports: '🏃‍♂️ スポーツ・健康',
      music: '🎵 音楽・演奏',
      other: '🌟 その他'
    };
    return categories[category] || category;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFbWFpbFNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsImVuYWJsZWQiLCJwcm9jZXNzIiwiZW52IiwiRU1BSUxfRU5BQkxFRCIsImZyb20iLCJFTUFJTF9GUk9NIiwidGVtcGxhdGVzIiwiaW5pdGlhbGl6ZVRlbXBsYXRlcyIsInNldHVwRW1haWxQcm92aWRlciIsImNvbnNvbGUiLCJsb2ciLCJyZWdpc3RyYXRpb25Db25maXJtYXRpb24iLCJzdWJqZWN0IiwidGVtcGxhdGUiLCJnZXRSZWdpc3RyYXRpb25Db25maXJtYXRpb25UZW1wbGF0ZSIsInNwZWFrZXJDb25maXJtYXRpb24iLCJnZXRTcGVha2VyQ29uZmlybWF0aW9uVGVtcGxhdGUiLCJldmVudFJlbWluZGVyIiwiZ2V0RXZlbnRSZW1pbmRlclRlbXBsYXRlIiwiZXZlbnRDYW5jZWxsYXRpb24iLCJnZXRFdmVudENhbmNlbGxhdGlvblRlbXBsYXRlIiwiZmVlZGJhY2tSZXF1ZXN0IiwiZ2V0RmVlZGJhY2tSZXF1ZXN0VGVtcGxhdGUiLCJzZW5kUmVnaXN0cmF0aW9uQ29uZmlybWF0aW9uIiwicGFydGljaXBhbnQiLCJldmVudCIsImVtYWlsIiwiaHRtbCIsInJlcGxhY2UiLCJuYW1lIiwidGl0bGUiLCJmb3JtYXREYXRlIiwiZGF0ZSIsInZlbnVlIiwiZm9ybWF0UGFydGljaXBhdGlvblR5cGUiLCJwYXJ0aWNpcGF0aW9uVHlwZSIsIm9ubGluZVVybCIsInNlbmRFbWFpbCIsInRvIiwic2VuZFNwZWFrZXJDb25maXJtYXRpb24iLCJ0YWxrIiwiZHVyYXRpb24iLCJmb3JtYXRDYXRlZ29yeSIsImNhdGVnb3J5Iiwic2VuZEV2ZW50UmVtaW5kZXIiLCJkYXlzVW50aWwiLCJzZW5kRXZlbnRDYW5jZWxsYXRpb24iLCJyZWFzb24iLCJzZW5kRmVlZGJhY2tSZXF1ZXN0IiwiRkVFREJBQ0tfVVJMIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwibWVzc2FnZUlkIiwiRGF0ZSIsIm5vdyIsImVycm9yIiwiZGF0ZVN0cmluZyIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInllYXIiLCJtb250aCIsImRheSIsIndlZWtkYXkiLCJob3VyIiwibWludXRlIiwidHlwZSIsInR5cGVzIiwib25zaXRlIiwib25saW5lIiwidW5kZWNpZGVkIiwiY2F0ZWdvcmllcyIsInRlY2giLCJob2JieSIsImxlYXJuaW5nIiwidHJhdmVsIiwiZm9vZCIsImdhbWUiLCJsaWZlaGFjayIsInBldCIsImdhcmRlbiIsIm1vbmV5Iiwic3BvcnRzIiwibXVzaWMiLCJvdGhlciJdLCJzb3VyY2VzIjpbImVtYWlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRW1haWwgU2VydmljZSBmb3IgTGlnaHRuaW5nIFRhbGsgRXZlbnQgTWFuYWdlbWVudFxuICogSGFuZGxlcyBhbGwgZW1haWwgY29tbXVuaWNhdGlvbnNcbiAqL1xuXG5leHBvcnQgY2xhc3MgRW1haWxTZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5lbmFibGVkID0gcHJvY2Vzcy5lbnYuRU1BSUxfRU5BQkxFRCA9PT0gJ3RydWUnO1xuICAgICAgICB0aGlzLmZyb20gPSBwcm9jZXNzLmVudi5FTUFJTF9GUk9NIHx8ICdub3JlcGx5QGxpZ2h0bmluZ3RhbGsuZXhhbXBsZS5jb20nO1xuICAgICAgICB0aGlzLnRlbXBsYXRlcyA9IHRoaXMuaW5pdGlhbGl6ZVRlbXBsYXRlcygpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5zZXR1cEVtYWlsUHJvdmlkZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldHVwRW1haWxQcm92aWRlcigpIHtcbiAgICAgICAgLy8gSW4gYSByZWFsIGltcGxlbWVudGF0aW9uLCB5b3Ugd291bGQgc2V0IHVwIG5vZGVtYWlsZXIgb3IgYW5vdGhlciBlbWFpbCBzZXJ2aWNlXG4gICAgICAgIC8vIEZvciBub3csIHdlJ2xsIHNpbXVsYXRlIGVtYWlsIHNlbmRpbmdcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk6cgRW1haWwgc2VydmljZSBpbml0aWFsaXplZCAoc2ltdWxhdGlvbiBtb2RlKScpO1xuICAgIH1cblxuICAgIGluaXRpYWxpemVUZW1wbGF0ZXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWdpc3RyYXRpb25Db25maXJtYXRpb246IHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0OiAn8J+OiSDjg6njgqTjg4jjg4vjg7PjgrDjg4jjg7zjgq/lj4LliqDnmbvpjLLlrozkuoYnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0aGlzLmdldFJlZ2lzdHJhdGlvbkNvbmZpcm1hdGlvblRlbXBsYXRlKClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzcGVha2VyQ29uZmlybWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgc3ViamVjdDogJ/CfjqQg55m66KGo55Sz6L6844G/5Y+X5LuY5a6M5LqGJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy5nZXRTcGVha2VyQ29uZmlybWF0aW9uVGVtcGxhdGUoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV2ZW50UmVtaW5kZXI6IHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0OiAn4pqhIOODqeOCpOODiOODi+ODs+OCsOODiOODvOOCr+mWi+WCrOmWk+i/keOBruOBiuefpeOCieOBmycsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRoaXMuZ2V0RXZlbnRSZW1pbmRlclRlbXBsYXRlKClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBldmVudENhbmNlbGxhdGlvbjoge1xuICAgICAgICAgICAgICAgIHN1YmplY3Q6ICfimqDvuI8g44Kk44OZ44Oz44OI5Lit5q2i44Gu44GK55+l44KJ44GbJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy5nZXRFdmVudENhbmNlbGxhdGlvblRlbXBsYXRlKClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmZWVkYmFja1JlcXVlc3Q6IHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0OiAn8J+SrSDjgqTjg5njg7Pjg4jjga7mhJ/mg7PjgpLjgYrogZ7jgYvjgZvjgY/jgaDjgZXjgYQnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0aGlzLmdldEZlZWRiYWNrUmVxdWVzdFRlbXBsYXRlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhc3luYyBzZW5kUmVnaXN0cmF0aW9uQ29uZmlybWF0aW9uKHBhcnRpY2lwYW50LCBldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6cgW1NJTVVMQVRFRF0gUmVnaXN0cmF0aW9uIGNvbmZpcm1hdGlvbiBlbWFpbCBzZW50IHRvOicsIHBhcnRpY2lwYW50LmVtYWlsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZXMucmVnaXN0cmF0aW9uQ29uZmlybWF0aW9uO1xuICAgICAgICBjb25zdCBodG1sID0gdGVtcGxhdGUudGVtcGxhdGVcbiAgICAgICAgICAgIC5yZXBsYWNlKCd7e3BhcnRpY2lwYW50TmFtZX19JywgcGFydGljaXBhbnQubmFtZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKCd7e2V2ZW50VGl0bGV9fScsIGV2ZW50LnRpdGxlKVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3t7ZXZlbnREYXRlfX0nLCB0aGlzLmZvcm1hdERhdGUoZXZlbnQuZGF0ZSkpXG4gICAgICAgICAgICAucmVwbGFjZSgne3tldmVudFZlbnVlfX0nLCBldmVudC52ZW51ZS5uYW1lKVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3t7cGFydGljaXBhdGlvblR5cGV9fScsIHRoaXMuZm9ybWF0UGFydGljaXBhdGlvblR5cGUocGFydGljaXBhbnQucGFydGljaXBhdGlvblR5cGUpKVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3t7b25saW5lVXJsfX0nLCBldmVudC52ZW51ZS5vbmxpbmVVcmwgfHwgJycpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZEVtYWlsKHtcbiAgICAgICAgICAgIHRvOiBwYXJ0aWNpcGFudC5lbWFpbCxcbiAgICAgICAgICAgIHN1YmplY3Q6IHRlbXBsYXRlLnN1YmplY3QsXG4gICAgICAgICAgICBodG1sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIHNlbmRTcGVha2VyQ29uZmlybWF0aW9uKHBhcnRpY2lwYW50LCB0YWxrLCBldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6cgW1NJTVVMQVRFRF0gU3BlYWtlciBjb25maXJtYXRpb24gZW1haWwgc2VudCB0bzonLCBwYXJ0aWNpcGFudC5lbWFpbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGVzLnNwZWFrZXJDb25maXJtYXRpb247XG4gICAgICAgIGNvbnN0IGh0bWwgPSB0ZW1wbGF0ZS50ZW1wbGF0ZVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3t7c3BlYWtlck5hbWV9fScsIHBhcnRpY2lwYW50Lm5hbWUpXG4gICAgICAgICAgICAucmVwbGFjZSgne3t0YWxrVGl0bGV9fScsIHRhbGsudGl0bGUpXG4gICAgICAgICAgICAucmVwbGFjZSgne3tldmVudFRpdGxlfX0nLCBldmVudC50aXRsZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKCd7e2V2ZW50RGF0ZX19JywgdGhpcy5mb3JtYXREYXRlKGV2ZW50LmRhdGUpKVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3t7dGFsa0R1cmF0aW9ufX0nLCB0YWxrLmR1cmF0aW9uKVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3t7Y2F0ZWdvcnl9fScsIHRoaXMuZm9ybWF0Q2F0ZWdvcnkodGFsay5jYXRlZ29yeSkpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZEVtYWlsKHtcbiAgICAgICAgICAgIHRvOiBwYXJ0aWNpcGFudC5lbWFpbCxcbiAgICAgICAgICAgIHN1YmplY3Q6IHRlbXBsYXRlLnN1YmplY3QsXG4gICAgICAgICAgICBodG1sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIHNlbmRFdmVudFJlbWluZGVyKHBhcnRpY2lwYW50LCBldmVudCwgZGF5c1VudGlsKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TpyBbU0lNVUxBVEVEXSBFdmVudCByZW1pbmRlciBlbWFpbCBzZW50IHRvOicsIHBhcnRpY2lwYW50LmVtYWlsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZXMuZXZlbnRSZW1pbmRlcjtcbiAgICAgICAgY29uc3QgaHRtbCA9IHRlbXBsYXRlLnRlbXBsYXRlXG4gICAgICAgICAgICAucmVwbGFjZSgne3twYXJ0aWNpcGFudE5hbWV9fScsIHBhcnRpY2lwYW50Lm5hbWUpXG4gICAgICAgICAgICAucmVwbGFjZSgne3tldmVudFRpdGxlfX0nLCBldmVudC50aXRsZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKCd7e2V2ZW50RGF0ZX19JywgdGhpcy5mb3JtYXREYXRlKGV2ZW50LmRhdGUpKVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3t7ZGF5c1VudGlsfX0nLCBkYXlzVW50aWwpXG4gICAgICAgICAgICAucmVwbGFjZSgne3tldmVudFZlbnVlfX0nLCBldmVudC52ZW51ZS5uYW1lKVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3t7b25saW5lVXJsfX0nLCBldmVudC52ZW51ZS5vbmxpbmVVcmwgfHwgJycpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZEVtYWlsKHtcbiAgICAgICAgICAgIHRvOiBwYXJ0aWNpcGFudC5lbWFpbCxcbiAgICAgICAgICAgIHN1YmplY3Q6IHRlbXBsYXRlLnN1YmplY3QsXG4gICAgICAgICAgICBodG1sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIHNlbmRFdmVudENhbmNlbGxhdGlvbihwYXJ0aWNpcGFudCwgZXZlbnQsIHJlYXNvbiA9ICcnKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TpyBbU0lNVUxBVEVEXSBFdmVudCBjYW5jZWxsYXRpb24gZW1haWwgc2VudCB0bzonLCBwYXJ0aWNpcGFudC5lbWFpbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGVzLmV2ZW50Q2FuY2VsbGF0aW9uO1xuICAgICAgICBjb25zdCBodG1sID0gdGVtcGxhdGUudGVtcGxhdGVcbiAgICAgICAgICAgIC5yZXBsYWNlKCd7e3BhcnRpY2lwYW50TmFtZX19JywgcGFydGljaXBhbnQubmFtZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKCd7e2V2ZW50VGl0bGV9fScsIGV2ZW50LnRpdGxlKVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3t7ZXZlbnREYXRlfX0nLCB0aGlzLmZvcm1hdERhdGUoZXZlbnQuZGF0ZSkpXG4gICAgICAgICAgICAucmVwbGFjZSgne3tyZWFzb259fScsIHJlYXNvbiB8fCAn6Ku45LqL5oOF44Gr44KI44KKJyk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5zZW5kRW1haWwoe1xuICAgICAgICAgICAgdG86IHBhcnRpY2lwYW50LmVtYWlsLFxuICAgICAgICAgICAgc3ViamVjdDogdGVtcGxhdGUuc3ViamVjdCxcbiAgICAgICAgICAgIGh0bWxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2VuZEZlZWRiYWNrUmVxdWVzdChwYXJ0aWNpcGFudCwgZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OnIFtTSU1VTEFURURdIEZlZWRiYWNrIHJlcXVlc3QgZW1haWwgc2VudCB0bzonLCBwYXJ0aWNpcGFudC5lbWFpbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGVzLmZlZWRiYWNrUmVxdWVzdDtcbiAgICAgICAgY29uc3QgaHRtbCA9IHRlbXBsYXRlLnRlbXBsYXRlXG4gICAgICAgICAgICAucmVwbGFjZSgne3twYXJ0aWNpcGFudE5hbWV9fScsIHBhcnRpY2lwYW50Lm5hbWUpXG4gICAgICAgICAgICAucmVwbGFjZSgne3tldmVudFRpdGxlfX0nLCBldmVudC50aXRsZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKCd7e2ZlZWRiYWNrVXJsfX0nLCBwcm9jZXNzLmVudi5GRUVEQkFDS19VUkwgfHwgJ2h0dHBzOi8vZm9ybXMuZ29vZ2xlLmNvbS9mZWVkYmFjaycpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZEVtYWlsKHtcbiAgICAgICAgICAgIHRvOiBwYXJ0aWNpcGFudC5lbWFpbCxcbiAgICAgICAgICAgIHN1YmplY3Q6IHRlbXBsYXRlLnN1YmplY3QsXG4gICAgICAgICAgICBodG1sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIHNlbmRFbWFpbCh7IHRvLCBzdWJqZWN0LCBodG1sIH0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEluIGEgcmVhbCBpbXBsZW1lbnRhdGlvbiwgdXNlIG5vZGVtYWlsZXIgb3IgZW1haWwgc2VydmljZSBBUElcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OnIFNlbmRpbmcgZW1haWwgdG86ICR7dG99YCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+TpyBTdWJqZWN0OiAke3N1YmplY3R9YCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNpbXVsYXRlIGVtYWlsIHNlbmRpbmcgZGVsYXlcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZUlkOiBgbXNnLSR7RGF0ZS5ub3coKX1gIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2VuZCBlbWFpbDonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVtYWlsIHRlbXBsYXRlc1xuICAgIGdldFJlZ2lzdHJhdGlvbkNvbmZpcm1hdGlvblRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gYFxuPCFET0NUWVBFIGh0bWw+XG48aHRtbD5cbjxoZWFkPlxuICAgIDxtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiPlxuICAgIDx0aXRsZT7lj4LliqDnmbvpjLLlrozkuoY8L3RpdGxlPlxuICAgIDxzdHlsZT5cbiAgICAgICAgYm9keSB7IGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIHNhbnMtc2VyaWY7IGxpbmUtaGVpZ2h0OiAxLjY7IGNvbG9yOiAjMzMzOyB9XG4gICAgICAgIC5jb250YWluZXIgeyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bzsgcGFkZGluZzogMjBweDsgfVxuICAgICAgICAuaGVhZGVyIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAzMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwIDA7IH1cbiAgICAgICAgLmNvbnRlbnQgeyBiYWNrZ3JvdW5kOiAjZjlmOWY5OyBwYWRkaW5nOiAzMHB4OyBib3JkZXItcmFkaXVzOiAwIDAgMTBweCAxMHB4OyB9XG4gICAgICAgIC5pbmZvLWJveCB7IGJhY2tncm91bmQ6IHdoaXRlOyBwYWRkaW5nOiAyMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBtYXJnaW46IDIwcHggMDsgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjNjY3ZWVhOyB9XG4gICAgICAgIC5mb290ZXIgeyB0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiAjNjY2OyBmb250LXNpemU6IDE0cHg7IG1hcmdpbi10b3A6IDMwcHg7IH1cbiAgICAgICAgLmJ1dHRvbiB7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgYmFja2dyb3VuZDogIzY2N2VlYTsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAxMnB4IDI0cHg7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgYm9yZGVyLXJhZGl1czogNXB4OyBtYXJnaW46IDEwcHggMDsgfVxuICAgIDwvc3R5bGU+XG48L2hlYWQ+XG48Ym9keT5cbiAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cbiAgICAgICAgICAgIDxoMT7imqEg44Gq44KT44Gn44KC44Op44Kk44OI44OL44Oz44Kw44OI44O844KvPC9oMT5cbiAgICAgICAgICAgIDxwPuWPguWKoOeZu+mMsuOBjOWujOS6huOBl+OBvuOBl+OBn++8gTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG4gICAgICAgICAgICA8cD57e3BhcnRpY2lwYW50TmFtZX19IOOBleOCkzwvcD5cbiAgICAgICAgICAgIDxwPuOBk+OBruW6puOBr+OAjHt7ZXZlbnRUaXRsZX1944CN44Gr44GU5Y+C5Yqg44GE44Gf44Gg44GN44CB44GC44KK44GM44Go44GG44GU44GW44GE44G+44GZ77yBPC9wPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5mby1ib3hcIj5cbiAgICAgICAgICAgICAgICA8aDM+8J+ThSDjgqTjg5njg7Pjg4joqbPntLA8L2gzPlxuICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+5pel5pmCOjwvc3Ryb25nPiB7e2V2ZW50RGF0ZX19PC9wPlxuICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+5Lya5aC0Ojwvc3Ryb25nPiB7e2V2ZW50VmVudWV9fTwvcD5cbiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPuWPguWKoOaWueazlTo8L3N0cm9uZz4ge3twYXJ0aWNpcGF0aW9uVHlwZX19PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxwPuW9k+aXpeOBrzXliIbplpPjga7jg6njgqTjg4jjg4vjg7PjgrDjg4jjg7zjgq/jgpLpgJrjgZjjgabjgIHmp5jjgIXjgarjgIzjgarjgpPjgafjgoLjgI3jgaroqbHjgpLjgYrmpb3jgZfjgb/jgY/jgaDjgZXjgYTvvIE8L3A+XG4gICAgICAgICAgICA8cD7jgZTos6rllY/jgYzjgZTjgZbjgYTjgb7jgZfjgZ/jgonjgIHjgYrmsJfou73jgavjgYrllY/jgYTlkIjjgo/jgZvjgY/jgaDjgZXjgYTjgII8L3A+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb290ZXJcIj5cbiAgICAgICAgICAgICAgICA8cD7jgarjgpPjgafjgoLjg6njgqTjg4jjg4vjg7PjgrDjg4jjg7zjgq/pgYvllrbjg4Hjg7zjg6A8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG48L2JvZHk+XG48L2h0bWw+XG4gICAgICAgIGA7XG4gICAgfVxuXG4gICAgZ2V0U3BlYWtlckNvbmZpcm1hdGlvblRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gYFxuPCFET0NUWVBFIGh0bWw+XG48aHRtbD5cbjxoZWFkPlxuICAgIDxtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiPlxuICAgIDx0aXRsZT7nmbrooajnlLPovrzjgb/lrozkuoY8L3RpdGxlPlxuICAgIDxzdHlsZT5cbiAgICAgICAgYm9keSB7IGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIHNhbnMtc2VyaWY7IGxpbmUtaGVpZ2h0OiAxLjY7IGNvbG9yOiAjMzMzOyB9XG4gICAgICAgIC5jb250YWluZXIgeyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bzsgcGFkZGluZzogMjBweDsgfVxuICAgICAgICAuaGVhZGVyIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjRkY2QjZCLCAjRkZEOTNEKTsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAzMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwIDA7IH1cbiAgICAgICAgLmNvbnRlbnQgeyBiYWNrZ3JvdW5kOiAjZjlmOWY5OyBwYWRkaW5nOiAzMHB4OyBib3JkZXItcmFkaXVzOiAwIDAgMTBweCAxMHB4OyB9XG4gICAgICAgIC50YWxrLWluZm8geyBiYWNrZ3JvdW5kOiB3aGl0ZTsgcGFkZGluZzogMjBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgbWFyZ2luOiAyMHB4IDA7IGJvcmRlci1sZWZ0OiA0cHggc29saWQgI0ZGNkI2QjsgfVxuICAgICAgICAudGlwcyB7IGJhY2tncm91bmQ6ICNmZmYzY2Q7IHBhZGRpbmc6IDE1cHg7IGJvcmRlci1yYWRpdXM6IDhweDsgbWFyZ2luOiAyMHB4IDA7IH1cbiAgICAgICAgLmZvb3RlciB7IHRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6ICM2NjY7IGZvbnQtc2l6ZTogMTRweDsgbWFyZ2luLXRvcDogMzBweDsgfVxuICAgIDwvc3R5bGU+XG48L2hlYWQ+XG48Ym9keT5cbiAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cbiAgICAgICAgICAgIDxoMT7wn46kIOeZuuihqOeUs+i+vOOBv+WujOS6hjwvaDE+XG4gICAgICAgICAgICA8cD7jg6njgqTjg4jjg4vjg7PjgrDjg4jjg7zjgq/nmbrooajogIXjgajjgZfjgabnmbvpjLLjgZXjgozjgb7jgZfjgZ/vvIE8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuICAgICAgICAgICAgPHA+e3tzcGVha2VyTmFtZX19IOOBleOCkzwvcD5cbiAgICAgICAgICAgIDxwPueZuuihqOeUs+i+vOOBv+OBguOCiuOBjOOBqOOBhuOBlOOBluOBhOOBvuOBme+8geOBguOBquOBn+OBruOAjOOBquOCk+OBp+OCguOAjeOBquipseOCkualveOBl+OBv+OBq+OBl+OBpuOBhOOBvuOBmeOAgjwvcD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhbGstaW5mb1wiPlxuICAgICAgICAgICAgICAgIDxoMz7wn5ej77iPIOeZuuihqOWGheWuuTwvaDM+XG4gICAgICAgICAgICAgICAgPHA+PHN0cm9uZz7jgr/jgqTjg4jjg6s6PC9zdHJvbmc+IHt7dGFsa1RpdGxlfX08L3A+XG4gICAgICAgICAgICAgICAgPHA+PHN0cm9uZz7jgqvjg4bjgrTjg6rjg7w6PC9zdHJvbmc+IHt7Y2F0ZWdvcnl9fTwvcD5cbiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPueZuuihqOaZgumWkzo8L3N0cm9uZz4ge3t0YWxrRHVyYXRpb259feWIhjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGlwc1wiPlxuICAgICAgICAgICAgICAgIDxoND7wn5KhIOeZuuihqOOBruOCs+ODhDwvaDQ+XG4gICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICA8bGk+57WQ6KuW44GL44KJ6Kmx44GZ44Go6IGe44GN5omL44Gr44Go44Gj44Gm5YiG44GL44KK44KE44GZ44GE44Gn44GZPC9saT5cbiAgICAgICAgICAgICAgICAgICAgPGxpPuS9k+mok+irh+OCkuS6pOOBiOOCi+OBqOimquOBl+OBv+OChOOBmeOBj+OBquOCiuOBvuOBmTwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDxsaT57e3RhbGtEdXJhdGlvbn195YiG44Gv5oSP5aSW44Go55+t44GE44Gu44Gn44CB6KaB54K544KS57We44KK44G+44GX44KH44GGPC9saT5cbiAgICAgICAgICAgICAgICAgICAgPGxpPuWujOeSp+OCkuebruaMh+OBleOBmuOAgealveOBl+OBj+ipseOBl+OBpuOBj+OBoOOBleOBhO+8gTwvbGk+XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8cD7lvZPml6Xjgb7jgafkvZXjgYvjgZTos6rllY/jgYzjgZTjgZbjgYTjgb7jgZfjgZ/jgonjgIHjgYrmsJfou73jgavjgYrllY/jgYTlkIjjgo/jgZvjgY/jgaDjgZXjgYTjgII8L3A+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb290ZXJcIj5cbiAgICAgICAgICAgICAgICA8cD7jgarjgpPjgafjgoLjg6njgqTjg4jjg4vjg7PjgrDjg4jjg7zjgq/pgYvllrbjg4Hjg7zjg6A8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG48L2JvZHk+XG48L2h0bWw+XG4gICAgICAgIGA7XG4gICAgfVxuXG4gICAgZ2V0RXZlbnRSZW1pbmRlclRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gYFxuPCFET0NUWVBFIGh0bWw+XG48aHRtbD5cbjxoZWFkPlxuICAgIDxtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiPlxuICAgIDx0aXRsZT7jgqTjg5njg7Pjg4jplovlgqzplpPov5E8L3RpdGxlPlxuICAgIDxzdHlsZT5cbiAgICAgICAgYm9keSB7IGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIHNhbnMtc2VyaWY7IGxpbmUtaGVpZ2h0OiAxLjY7IGNvbG9yOiAjMzMzOyB9XG4gICAgICAgIC5jb250YWluZXIgeyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bzsgcGFkZGluZzogMjBweDsgfVxuICAgICAgICAuaGVhZGVyIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzg3Q0VFQiAwJSwgIzQxNjlFMSAxMDAlKTsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAzMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwIDA7IH1cbiAgICAgICAgLmNvbnRlbnQgeyBiYWNrZ3JvdW5kOiAjZjlmOWY5OyBwYWRkaW5nOiAzMHB4OyBib3JkZXItcmFkaXVzOiAwIDAgMTBweCAxMHB4OyB9XG4gICAgICAgIC5jb3VudGRvd24geyBiYWNrZ3JvdW5kOiB3aGl0ZTsgcGFkZGluZzogMjBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgbWFyZ2luOiAyMHB4IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgYm9yZGVyOiAycHggc29saWQgIzQxNjlFMTsgfVxuICAgICAgICAuZm9vdGVyIHsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxNHB4OyBtYXJnaW4tdG9wOiAzMHB4OyB9XG4gICAgPC9zdHlsZT5cbjwvaGVhZD5cbjxib2R5PlxuICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgICAgPGgxPuKaoSDjgoLjgYbjgZnjgZDplovlgqzvvIE8L2gxPlxuICAgICAgICAgICAgPHA+44Op44Kk44OI44OL44Oz44Kw44OI44O844Kv44G+44Gn44GC44Goe3tkYXlzVW50aWx9feaXpTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG4gICAgICAgICAgICA8cD57e3BhcnRpY2lwYW50TmFtZX19IOOBleOCkzwvcD5cbiAgICAgICAgICAgIDxwPuOAjHt7ZXZlbnRUaXRsZX1944CN44Gu6ZaL5YKs44GM6L+R44Gl44GE44Gm44G+44GE44KK44G+44GX44Gf77yBPC9wPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY291bnRkb3duXCI+XG4gICAgICAgICAgICAgICAgPGgyPvCfk4Uge3tldmVudERhdGV9fTwvaDI+XG4gICAgICAgICAgICAgICAgPHA+PHN0cm9uZz7kvJrloLQ6PC9zdHJvbmc+IHt7ZXZlbnRWZW51ZX19PC9wPlxuICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+44Kq44Oz44Op44Kk44Oz5Y+C5YqgOjwvc3Ryb25nPiB7e29ubGluZVVybH19PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxwPuW9k+aXpeOBr+anmOOAheOBquOAjOOBquOCk+OBp+OCguOAjeOBquipseOBjOiBnuOBkeOCi+OBk+OBqOOCkualveOBl+OBv+OBq+OBl+OBpuOBhOOBvuOBmeOAgjwvcD5cbiAgICAgICAgICAgIDxwPua6luWCmeOBr+OBhOOBi+OBjOOBp+OBmeOBi++8n+W9k+aXpeOBiuS8muOBhOOBp+OBjeOCi+OBk+OBqOOCkuW/g+OCiOOCiuOBiuW+heOBoeOBl+OBpuOBiuOCiuOBvuOBme+8gTwvcD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvb3RlclwiPlxuICAgICAgICAgICAgICAgIDxwPuOBquOCk+OBp+OCguODqeOCpOODiOODi+ODs+OCsOODiOODvOOCr+mBi+WWtuODgeODvOODoDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvYm9keT5cbjwvaHRtbD5cbiAgICAgICAgYDtcbiAgICB9XG5cbiAgICBnZXRFdmVudENhbmNlbGxhdGlvblRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gYFxuPCFET0NUWVBFIGh0bWw+XG48aHRtbD5cbjxoZWFkPlxuICAgIDxtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiPlxuICAgIDx0aXRsZT7jgqTjg5njg7Pjg4jkuK3mraLjga7jgYrnn6XjgonjgZs8L3RpdGxlPlxuICAgIDxzdHlsZT5cbiAgICAgICAgYm9keSB7IGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIHNhbnMtc2VyaWY7IGxpbmUtaGVpZ2h0OiAxLjY7IGNvbG9yOiAjMzMzOyB9XG4gICAgICAgIC5jb250YWluZXIgeyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bzsgcGFkZGluZzogMjBweDsgfVxuICAgICAgICAuaGVhZGVyIHsgYmFja2dyb3VuZDogI2Y0NDMzNjsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAzMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwIDA7IH1cbiAgICAgICAgLmNvbnRlbnQgeyBiYWNrZ3JvdW5kOiAjZjlmOWY5OyBwYWRkaW5nOiAzMHB4OyBib3JkZXItcmFkaXVzOiAwIDAgMTBweCAxMHB4OyB9XG4gICAgICAgIC5hcG9sb2d5IHsgYmFja2dyb3VuZDogI2ZmZWJlZTsgcGFkZGluZzogMjBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgbWFyZ2luOiAyMHB4IDA7IGJvcmRlci1sZWZ0OiA0cHggc29saWQgI2Y0NDMzNjsgfVxuICAgICAgICAuZm9vdGVyIHsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxNHB4OyBtYXJnaW4tdG9wOiAzMHB4OyB9XG4gICAgPC9zdHlsZT5cbjwvaGVhZD5cbjxib2R5PlxuICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgICAgPGgxPuKaoO+4jyDjgqTjg5njg7Pjg4jkuK3mraLjga7jgYrnn6XjgonjgZs8L2gxPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxwPnt7cGFydGljaXBhbnROYW1lfX0g44GV44KTPC9wPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYXBvbG9neVwiPlxuICAgICAgICAgICAgICAgIDxwPuOAjHt7ZXZlbnRUaXRsZX1944CN77yIe3tldmVudERhdGV9femWi+WCrOS6iOWumu+8ieOBq+OBpOOBjeOBvuOBl+OBpuOAgXt7cmVhc29ufX3kuK3mraLjgajjgZXjgZvjgabjgYTjgZ/jgaDjgY/jgZPjgajjgavjgarjgorjgb7jgZfjgZ/jgII8L3A+XG4gICAgICAgICAgICAgICAgPHA+5qW944GX44G/44Gr44GX44Gm44GE44Gf44Gg44GE44Gm44GE44Gf55qG5qeY44Gr44Gv44CB5b+D44KI44KK44GK6Kmr44Gz55Sz44GX5LiK44GS44G+44GZ44CCPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxwPuasoeWbnuOCpOODmeODs+ODiOOBrumWi+WCrOOBjOaxuuOBvuOCiuOBvuOBl+OBn+OCieOAgeaUueOCgeOBpuOBlOahiOWGheOBleOBm+OBpuOBhOOBn+OBoOOBjeOBvuOBmeOAgjwvcD5cbiAgICAgICAgICAgIDxwPuOBk+OBruW6puOBr+OAgeOBlOi/t+aDkeOCkuOBiuOBi+OBkeOBl+OBpueUs+OBl+ios+OBlOOBluOBhOOBvuOBm+OCk+OBp+OBl+OBn+OAgjwvcD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvb3RlclwiPlxuICAgICAgICAgICAgICAgIDxwPuOBquOCk+OBp+OCguODqeOCpOODiOODi+ODs+OCsOODiOODvOOCr+mBi+WWtuODgeODvOODoDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvYm9keT5cbjwvaHRtbD5cbiAgICAgICAgYDtcbiAgICB9XG5cbiAgICBnZXRGZWVkYmFja1JlcXVlc3RUZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIGBcbjwhRE9DVFlQRSBodG1sPlxuPGh0bWw+XG48aGVhZD5cbiAgICA8bWV0YSBjaGFyc2V0PVwiVVRGLThcIj5cbiAgICA8dGl0bGU+5oSf5oOz44KS44GK6IGe44GL44Gb44GP44Gg44GV44GEPC90aXRsZT5cbiAgICA8c3R5bGU+XG4gICAgICAgIGJvZHkgeyBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBzYW5zLXNlcmlmOyBsaW5lLWhlaWdodDogMS42OyBjb2xvcjogIzMzMzsgfVxuICAgICAgICAuY29udGFpbmVyIHsgbWF4LXdpZHRoOiA2MDBweDsgbWFyZ2luOiAwIGF1dG87IHBhZGRpbmc6IDIwcHg7IH1cbiAgICAgICAgLmhlYWRlciB7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgI2ZmOWE5ZSAwJSwgI2ZlY2ZlZiAxMDAlKTsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAzMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwIDA7IH1cbiAgICAgICAgLmNvbnRlbnQgeyBiYWNrZ3JvdW5kOiAjZjlmOWY5OyBwYWRkaW5nOiAzMHB4OyBib3JkZXItcmFkaXVzOiAwIDAgMTBweCAxMHB4OyB9XG4gICAgICAgIC5mZWVkYmFjay1ib3ggeyBiYWNrZ3JvdW5kOiB3aGl0ZTsgcGFkZGluZzogMjBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgbWFyZ2luOiAyMHB4IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgfVxuICAgICAgICAuYnV0dG9uIHsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBiYWNrZ3JvdW5kOiAjZmY5YTllOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDE1cHggMzBweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBib3JkZXItcmFkaXVzOiAyNXB4OyBtYXJnaW46IDEwcHggMDsgfVxuICAgICAgICAuZm9vdGVyIHsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxNHB4OyBtYXJnaW4tdG9wOiAzMHB4OyB9XG4gICAgPC9zdHlsZT5cbjwvaGVhZD5cbjxib2R5PlxuICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgICAgPGgxPvCfkq0g44GU5Y+C5Yqg44GC44KK44GM44Go44GG44GU44GW44GE44G+44GX44GfPC9oMT5cbiAgICAgICAgICAgIDxwPuaEn+aDs+OCkuOBiuiBnuOBi+OBm+OBj+OBoOOBleOBhDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG4gICAgICAgICAgICA8cD57e3BhcnRpY2lwYW50TmFtZX19IOOBleOCkzwvcD5cbiAgICAgICAgICAgIDxwPuOAjHt7ZXZlbnRUaXRsZX1944CN44Gr44GU5Y+C5Yqg44GE44Gf44Gg44GN44CB44GC44KK44GM44Go44GG44GU44GW44GE44G+44GX44Gf77yBPC9wPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmVlZGJhY2stYm94XCI+XG4gICAgICAgICAgICAgICAgPGgzPvCfk50g44Ki44Oz44Kx44O844OI44Gr44GU5Y2U5Yqb44GP44Gg44GV44GEPC9oMz5cbiAgICAgICAgICAgICAgICA8cD7ku4rlm57jga7jgqTjg5njg7Pjg4jjga/jgYTjgYvjgYzjgafjgZfjgZ/jgYvvvJ88YnI+XG4gICAgICAgICAgICAgICAg5LuK5b6M44Gu44Kk44OZ44Oz44OI5ZCR5LiK44Gu44Gf44KB44CB44Gc44Gy5oSf5oOz44KS44GK6IGe44GL44Gb44GP44Gg44GV44GE44CCPC9wPlxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJ7e2ZlZWRiYWNrVXJsfX1cIiBjbGFzcz1cImJ1dHRvblwiPuOCouODs+OCseODvOODiOOBq+WbnuetlOOBmeOCizwvYT5cbiAgICAgICAgICAgICAgICA8cD48c21hbGw+5omA6KaB5pmC6ZaTOiDntIQz5YiGPC9zbWFsbD48L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPHA+44G+44Gf44Gu5qmf5Lya44Gr44GK5Lya44GE44Gn44GN44KL44GT44Go44KS5qW944GX44G/44Gr44GX44Gm44GE44G+44GZ77yBPC9wPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgPHA+44Gq44KT44Gn44KC44Op44Kk44OI44OL44Oz44Kw44OI44O844Kv6YGL5Za244OB44O844OgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC9ib2R5PlxuPC9odG1sPlxuICAgICAgICBgO1xuICAgIH1cblxuICAgIC8vIEhlbHBlciBtZXRob2RzXG4gICAgZm9ybWF0RGF0ZShkYXRlU3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTtcbiAgICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdqYS1KUCcsIHtcbiAgICAgICAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgIG1vbnRoOiAnbG9uZycsXG4gICAgICAgICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgICAgICAgIHdlZWtkYXk6ICdsb25nJyxcbiAgICAgICAgICAgIGhvdXI6ICcyLWRpZ2l0JyxcbiAgICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZvcm1hdFBhcnRpY2lwYXRpb25UeXBlKHR5cGUpIHtcbiAgICAgICAgY29uc3QgdHlwZXMgPSB7XG4gICAgICAgICAgICBvbnNpdGU6ICfnj77lnLDlj4LliqAnLFxuICAgICAgICAgICAgb25saW5lOiAn44Kq44Oz44Op44Kk44Oz5Y+C5YqgJyxcbiAgICAgICAgICAgIHVuZGVjaWRlZDogJ+W9k+aXpeaxuuWumidcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHR5cGVzW3R5cGVdIHx8IHR5cGU7XG4gICAgfVxuXG4gICAgZm9ybWF0Q2F0ZWdvcnkoY2F0ZWdvcnkpIHtcbiAgICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IHtcbiAgICAgICAgICAgIHRlY2g6ICfwn5K7IOODl+ODreOCsOODqeODn+ODs+OCsOODu+aKgOihkycsXG4gICAgICAgICAgICBob2JieTogJ/Cfjqgg6Laj5ZGz44O744Ki44O844OI44O75Ym15L2cJyxcbiAgICAgICAgICAgIGxlYXJuaW5nOiAn8J+TmiDoqq3mm7jjg7vlrabnv5LkvZPpqJMnLFxuICAgICAgICAgICAgdHJhdmVsOiAn8J+MjSDml4XooYzjg7vmlofljJbkvZPpqJMnLFxuICAgICAgICAgICAgZm9vZDogJ/CfjbMg5paZ55CG44O744Kw44Or44OhJyxcbiAgICAgICAgICAgIGdhbWU6ICfwn46uIOOCsuODvOODoOODu+OCqOODs+OCv+ODoScsXG4gICAgICAgICAgICBsaWZlaGFjazogJ/CfkqEg44Op44Kk44OV44OP44OD44Kv44O75Yq5546H5YyWJyxcbiAgICAgICAgICAgIHBldDogJ/CfkLEg44Oa44OD44OI44O75YuV54mpJyxcbiAgICAgICAgICAgIGdhcmRlbjogJ/CfjLEg44Ks44O844OH44OL44Oz44Kw44O75qSN54mpJyxcbiAgICAgICAgICAgIG1vbmV5OiAn8J+TiCDmipXos4fjg7vlia/mpa0nLFxuICAgICAgICAgICAgc3BvcnRzOiAn8J+Pg+KAjeKZgu+4jyDjgrnjg53jg7zjg4Tjg7vlgaXlurcnLFxuICAgICAgICAgICAgbXVzaWM6ICfwn461IOmfs+alveODu+a8lOWljycsXG4gICAgICAgICAgICBvdGhlcjogJ/CfjJ8g44Gd44Gu5LuWJ1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY2F0ZWdvcmllc1tjYXRlZ29yeV0gfHwgY2F0ZWdvcnk7XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTyxNQUFNQSxZQUFZLENBQUM7RUFDdEJDLFdBQVdBLENBQUEsRUFBRztJQUNWLElBQUksQ0FBQ0MsT0FBTyxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsYUFBYSxLQUFLLE1BQU07SUFDbkQsSUFBSSxDQUFDQyxJQUFJLEdBQUdILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRyxVQUFVLElBQUksbUNBQW1DO0lBQ3pFLElBQUksQ0FBQ0MsU0FBUyxHQUFHLElBQUksQ0FBQ0MsbUJBQW1CLENBQUMsQ0FBQztJQUUzQyxJQUFJLElBQUksQ0FBQ1AsT0FBTyxFQUFFO01BQ2QsSUFBSSxDQUFDUSxrQkFBa0IsQ0FBQyxDQUFDO0lBQzdCO0VBQ0o7RUFFQUEsa0JBQWtCQSxDQUFBLEVBQUc7SUFDakI7SUFDQTtJQUNBQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxnREFBZ0QsQ0FBQztFQUNqRTtFQUVBSCxtQkFBbUJBLENBQUEsRUFBRztJQUNsQixPQUFPO01BQ0hJLHdCQUF3QixFQUFFO1FBQ3RCQyxPQUFPLEVBQUUsb0JBQW9CO1FBQzdCQyxRQUFRLEVBQUUsSUFBSSxDQUFDQyxtQ0FBbUMsQ0FBQztNQUN2RCxDQUFDO01BQ0RDLG1CQUFtQixFQUFFO1FBQ2pCSCxPQUFPLEVBQUUsY0FBYztRQUN2QkMsUUFBUSxFQUFFLElBQUksQ0FBQ0csOEJBQThCLENBQUM7TUFDbEQsQ0FBQztNQUNEQyxhQUFhLEVBQUU7UUFDWEwsT0FBTyxFQUFFLHNCQUFzQjtRQUMvQkMsUUFBUSxFQUFFLElBQUksQ0FBQ0ssd0JBQXdCLENBQUM7TUFDNUMsQ0FBQztNQUNEQyxpQkFBaUIsRUFBRTtRQUNmUCxPQUFPLEVBQUUsZ0JBQWdCO1FBQ3pCQyxRQUFRLEVBQUUsSUFBSSxDQUFDTyw0QkFBNEIsQ0FBQztNQUNoRCxDQUFDO01BQ0RDLGVBQWUsRUFBRTtRQUNiVCxPQUFPLEVBQUUscUJBQXFCO1FBQzlCQyxRQUFRLEVBQUUsSUFBSSxDQUFDUywwQkFBMEIsQ0FBQztNQUM5QztJQUNKLENBQUM7RUFDTDtFQUVBLE1BQU1DLDRCQUE0QkEsQ0FBQ0MsV0FBVyxFQUFFQyxLQUFLLEVBQUU7SUFDbkQsSUFBSSxDQUFDLElBQUksQ0FBQ3pCLE9BQU8sRUFBRTtNQUNmUyxPQUFPLENBQUNDLEdBQUcsQ0FBQyx5REFBeUQsRUFBRWMsV0FBVyxDQUFDRSxLQUFLLENBQUM7TUFDekY7SUFDSjtJQUVBLE1BQU1iLFFBQVEsR0FBRyxJQUFJLENBQUNQLFNBQVMsQ0FBQ0ssd0JBQXdCO0lBQ3hELE1BQU1nQixJQUFJLEdBQUdkLFFBQVEsQ0FBQ0EsUUFBUSxDQUN6QmUsT0FBTyxDQUFDLHFCQUFxQixFQUFFSixXQUFXLENBQUNLLElBQUksQ0FBQyxDQUNoREQsT0FBTyxDQUFDLGdCQUFnQixFQUFFSCxLQUFLLENBQUNLLEtBQUssQ0FBQyxDQUN0Q0YsT0FBTyxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUNHLFVBQVUsQ0FBQ04sS0FBSyxDQUFDTyxJQUFJLENBQUMsQ0FBQyxDQUNyREosT0FBTyxDQUFDLGdCQUFnQixFQUFFSCxLQUFLLENBQUNRLEtBQUssQ0FBQ0osSUFBSSxDQUFDLENBQzNDRCxPQUFPLENBQUMsdUJBQXVCLEVBQUUsSUFBSSxDQUFDTSx1QkFBdUIsQ0FBQ1YsV0FBVyxDQUFDVyxpQkFBaUIsQ0FBQyxDQUFDLENBQzdGUCxPQUFPLENBQUMsZUFBZSxFQUFFSCxLQUFLLENBQUNRLEtBQUssQ0FBQ0csU0FBUyxJQUFJLEVBQUUsQ0FBQztJQUUxRCxNQUFNLElBQUksQ0FBQ0MsU0FBUyxDQUFDO01BQ2pCQyxFQUFFLEVBQUVkLFdBQVcsQ0FBQ0UsS0FBSztNQUNyQmQsT0FBTyxFQUFFQyxRQUFRLENBQUNELE9BQU87TUFDekJlO0lBQ0osQ0FBQyxDQUFDO0VBQ047RUFFQSxNQUFNWSx1QkFBdUJBLENBQUNmLFdBQVcsRUFBRWdCLElBQUksRUFBRWYsS0FBSyxFQUFFO0lBQ3BELElBQUksQ0FBQyxJQUFJLENBQUN6QixPQUFPLEVBQUU7TUFDZlMsT0FBTyxDQUFDQyxHQUFHLENBQUMsb0RBQW9ELEVBQUVjLFdBQVcsQ0FBQ0UsS0FBSyxDQUFDO01BQ3BGO0lBQ0o7SUFFQSxNQUFNYixRQUFRLEdBQUcsSUFBSSxDQUFDUCxTQUFTLENBQUNTLG1CQUFtQjtJQUNuRCxNQUFNWSxJQUFJLEdBQUdkLFFBQVEsQ0FBQ0EsUUFBUSxDQUN6QmUsT0FBTyxDQUFDLGlCQUFpQixFQUFFSixXQUFXLENBQUNLLElBQUksQ0FBQyxDQUM1Q0QsT0FBTyxDQUFDLGVBQWUsRUFBRVksSUFBSSxDQUFDVixLQUFLLENBQUMsQ0FDcENGLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRUgsS0FBSyxDQUFDSyxLQUFLLENBQUMsQ0FDdENGLE9BQU8sQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDRyxVQUFVLENBQUNOLEtBQUssQ0FBQ08sSUFBSSxDQUFDLENBQUMsQ0FDckRKLE9BQU8sQ0FBQyxrQkFBa0IsRUFBRVksSUFBSSxDQUFDQyxRQUFRLENBQUMsQ0FDMUNiLE9BQU8sQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDYyxjQUFjLENBQUNGLElBQUksQ0FBQ0csUUFBUSxDQUFDLENBQUM7SUFFaEUsTUFBTSxJQUFJLENBQUNOLFNBQVMsQ0FBQztNQUNqQkMsRUFBRSxFQUFFZCxXQUFXLENBQUNFLEtBQUs7TUFDckJkLE9BQU8sRUFBRUMsUUFBUSxDQUFDRCxPQUFPO01BQ3pCZTtJQUNKLENBQUMsQ0FBQztFQUNOO0VBRUEsTUFBTWlCLGlCQUFpQkEsQ0FBQ3BCLFdBQVcsRUFBRUMsS0FBSyxFQUFFb0IsU0FBUyxFQUFFO0lBQ25ELElBQUksQ0FBQyxJQUFJLENBQUM3QyxPQUFPLEVBQUU7TUFDZlMsT0FBTyxDQUFDQyxHQUFHLENBQUMsOENBQThDLEVBQUVjLFdBQVcsQ0FBQ0UsS0FBSyxDQUFDO01BQzlFO0lBQ0o7SUFFQSxNQUFNYixRQUFRLEdBQUcsSUFBSSxDQUFDUCxTQUFTLENBQUNXLGFBQWE7SUFDN0MsTUFBTVUsSUFBSSxHQUFHZCxRQUFRLENBQUNBLFFBQVEsQ0FDekJlLE9BQU8sQ0FBQyxxQkFBcUIsRUFBRUosV0FBVyxDQUFDSyxJQUFJLENBQUMsQ0FDaERELE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRUgsS0FBSyxDQUFDSyxLQUFLLENBQUMsQ0FDdENGLE9BQU8sQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDRyxVQUFVLENBQUNOLEtBQUssQ0FBQ08sSUFBSSxDQUFDLENBQUMsQ0FDckRKLE9BQU8sQ0FBQyxlQUFlLEVBQUVpQixTQUFTLENBQUMsQ0FDbkNqQixPQUFPLENBQUMsZ0JBQWdCLEVBQUVILEtBQUssQ0FBQ1EsS0FBSyxDQUFDSixJQUFJLENBQUMsQ0FDM0NELE9BQU8sQ0FBQyxlQUFlLEVBQUVILEtBQUssQ0FBQ1EsS0FBSyxDQUFDRyxTQUFTLElBQUksRUFBRSxDQUFDO0lBRTFELE1BQU0sSUFBSSxDQUFDQyxTQUFTLENBQUM7TUFDakJDLEVBQUUsRUFBRWQsV0FBVyxDQUFDRSxLQUFLO01BQ3JCZCxPQUFPLEVBQUVDLFFBQVEsQ0FBQ0QsT0FBTztNQUN6QmU7SUFDSixDQUFDLENBQUM7RUFDTjtFQUVBLE1BQU1tQixxQkFBcUJBLENBQUN0QixXQUFXLEVBQUVDLEtBQUssRUFBRXNCLE1BQU0sR0FBRyxFQUFFLEVBQUU7SUFDekQsSUFBSSxDQUFDLElBQUksQ0FBQy9DLE9BQU8sRUFBRTtNQUNmUyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxrREFBa0QsRUFBRWMsV0FBVyxDQUFDRSxLQUFLLENBQUM7TUFDbEY7SUFDSjtJQUVBLE1BQU1iLFFBQVEsR0FBRyxJQUFJLENBQUNQLFNBQVMsQ0FBQ2EsaUJBQWlCO0lBQ2pELE1BQU1RLElBQUksR0FBR2QsUUFBUSxDQUFDQSxRQUFRLENBQ3pCZSxPQUFPLENBQUMscUJBQXFCLEVBQUVKLFdBQVcsQ0FBQ0ssSUFBSSxDQUFDLENBQ2hERCxPQUFPLENBQUMsZ0JBQWdCLEVBQUVILEtBQUssQ0FBQ0ssS0FBSyxDQUFDLENBQ3RDRixPQUFPLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQ0csVUFBVSxDQUFDTixLQUFLLENBQUNPLElBQUksQ0FBQyxDQUFDLENBQ3JESixPQUFPLENBQUMsWUFBWSxFQUFFbUIsTUFBTSxJQUFJLFFBQVEsQ0FBQztJQUU5QyxNQUFNLElBQUksQ0FBQ1YsU0FBUyxDQUFDO01BQ2pCQyxFQUFFLEVBQUVkLFdBQVcsQ0FBQ0UsS0FBSztNQUNyQmQsT0FBTyxFQUFFQyxRQUFRLENBQUNELE9BQU87TUFDekJlO0lBQ0osQ0FBQyxDQUFDO0VBQ047RUFFQSxNQUFNcUIsbUJBQW1CQSxDQUFDeEIsV0FBVyxFQUFFQyxLQUFLLEVBQUU7SUFDMUMsSUFBSSxDQUFDLElBQUksQ0FBQ3pCLE9BQU8sRUFBRTtNQUNmUyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxnREFBZ0QsRUFBRWMsV0FBVyxDQUFDRSxLQUFLLENBQUM7TUFDaEY7SUFDSjtJQUVBLE1BQU1iLFFBQVEsR0FBRyxJQUFJLENBQUNQLFNBQVMsQ0FBQ2UsZUFBZTtJQUMvQyxNQUFNTSxJQUFJLEdBQUdkLFFBQVEsQ0FBQ0EsUUFBUSxDQUN6QmUsT0FBTyxDQUFDLHFCQUFxQixFQUFFSixXQUFXLENBQUNLLElBQUksQ0FBQyxDQUNoREQsT0FBTyxDQUFDLGdCQUFnQixFQUFFSCxLQUFLLENBQUNLLEtBQUssQ0FBQyxDQUN0Q0YsT0FBTyxDQUFDLGlCQUFpQixFQUFFM0IsT0FBTyxDQUFDQyxHQUFHLENBQUMrQyxZQUFZLElBQUksbUNBQW1DLENBQUM7SUFFaEcsTUFBTSxJQUFJLENBQUNaLFNBQVMsQ0FBQztNQUNqQkMsRUFBRSxFQUFFZCxXQUFXLENBQUNFLEtBQUs7TUFDckJkLE9BQU8sRUFBRUMsUUFBUSxDQUFDRCxPQUFPO01BQ3pCZTtJQUNKLENBQUMsQ0FBQztFQUNOO0VBRUEsTUFBTVUsU0FBU0EsQ0FBQztJQUFFQyxFQUFFO0lBQUUxQixPQUFPO0lBQUVlO0VBQUssQ0FBQyxFQUFFO0lBQ25DLElBQUk7TUFDQTtNQUNBbEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsd0JBQXdCNEIsRUFBRSxFQUFFLENBQUM7TUFDekM3QixPQUFPLENBQUNDLEdBQUcsQ0FBQyxlQUFlRSxPQUFPLEVBQUUsQ0FBQzs7TUFFckM7TUFDQSxNQUFNLElBQUlzQyxPQUFPLENBQUNDLE9BQU8sSUFBSUMsVUFBVSxDQUFDRCxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUM7TUFFdEQsT0FBTztRQUFFRSxTQUFTLEVBQUUsT0FBT0MsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQztNQUFHLENBQUM7SUFDN0MsQ0FBQyxDQUFDLE9BQU9DLEtBQUssRUFBRTtNQUNaL0MsT0FBTyxDQUFDK0MsS0FBSyxDQUFDLHVCQUF1QixFQUFFQSxLQUFLLENBQUM7TUFDN0MsTUFBTUEsS0FBSztJQUNmO0VBQ0o7O0VBRUE7RUFDQTFDLG1DQUFtQ0EsQ0FBQSxFQUFHO0lBQ2xDLE9BQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0VBQ0w7RUFFQUUsOEJBQThCQSxDQUFBLEVBQUc7SUFDN0IsT0FBTztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7RUFDTDtFQUVBRSx3QkFBd0JBLENBQUEsRUFBRztJQUN2QixPQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0VBQ0w7RUFFQUUsNEJBQTRCQSxDQUFBLEVBQUc7SUFDM0IsT0FBTztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztFQUNMO0VBRUFFLDBCQUEwQkEsQ0FBQSxFQUFHO0lBQ3pCLE9BQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0VBQ0w7O0VBRUE7RUFDQVMsVUFBVUEsQ0FBQzBCLFVBQVUsRUFBRTtJQUNuQixNQUFNekIsSUFBSSxHQUFHLElBQUlzQixJQUFJLENBQUNHLFVBQVUsQ0FBQztJQUNqQyxPQUFPekIsSUFBSSxDQUFDMEIsa0JBQWtCLENBQUMsT0FBTyxFQUFFO01BQ3BDQyxJQUFJLEVBQUUsU0FBUztNQUNmQyxLQUFLLEVBQUUsTUFBTTtNQUNiQyxHQUFHLEVBQUUsU0FBUztNQUNkQyxPQUFPLEVBQUUsTUFBTTtNQUNmQyxJQUFJLEVBQUUsU0FBUztNQUNmQyxNQUFNLEVBQUU7SUFDWixDQUFDLENBQUM7RUFDTjtFQUVBOUIsdUJBQXVCQSxDQUFDK0IsSUFBSSxFQUFFO0lBQzFCLE1BQU1DLEtBQUssR0FBRztNQUNWQyxNQUFNLEVBQUUsTUFBTTtNQUNkQyxNQUFNLEVBQUUsU0FBUztNQUNqQkMsU0FBUyxFQUFFO0lBQ2YsQ0FBQztJQUNELE9BQU9ILEtBQUssQ0FBQ0QsSUFBSSxDQUFDLElBQUlBLElBQUk7RUFDOUI7RUFFQXZCLGNBQWNBLENBQUNDLFFBQVEsRUFBRTtJQUNyQixNQUFNMkIsVUFBVSxHQUFHO01BQ2ZDLElBQUksRUFBRSxlQUFlO01BQ3JCQyxLQUFLLEVBQUUsY0FBYztNQUNyQkMsUUFBUSxFQUFFLFlBQVk7TUFDdEJDLE1BQU0sRUFBRSxZQUFZO01BQ3BCQyxJQUFJLEVBQUUsV0FBVztNQUNqQkMsSUFBSSxFQUFFLGFBQWE7TUFDbkJDLFFBQVEsRUFBRSxlQUFlO01BQ3pCQyxHQUFHLEVBQUUsV0FBVztNQUNoQkMsTUFBTSxFQUFFLGNBQWM7TUFDdEJDLEtBQUssRUFBRSxVQUFVO01BQ2pCQyxNQUFNLEVBQUUsZUFBZTtNQUN2QkMsS0FBSyxFQUFFLFVBQVU7TUFDakJDLEtBQUssRUFBRTtJQUNYLENBQUM7SUFDRCxPQUFPYixVQUFVLENBQUMzQixRQUFRLENBQUMsSUFBSUEsUUFBUTtFQUMzQztBQUNKIiwiaWdub3JlTGlzdCI6W119