9aedc765f62fb4c0d8838cb4a0071049
/* istanbul ignore next */
function cov_13yba17xv8() {
  var path = "/home/ec2-user/workspace/lightningtalk-circle/server/middleware/cors-config.js";
  var hash = "ed0528a7cc81472da4c97983a2e15993b5667ff0";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/ec2-user/workspace/lightningtalk-circle/server/middleware/cors-config.js",
    statementMap: {
      "0": {
        start: {
          line: 9,
          column: 27
        },
        end: {
          line: 65,
          column: 1
        }
      },
      "1": {
        start: {
          line: 70,
          column: 36
        },
        end: {
          line: 95,
          column: 1
        }
      },
      "2": {
        start: {
          line: 71,
          column: 19
        },
        end: {
          line: 71,
          column: 84
        }
      },
      "3": {
        start: {
          line: 73,
          column: 4
        },
        end: {
          line: 94,
          column: 7
        }
      },
      "4": {
        start: {
          line: 77,
          column: 12
        },
        end: {
          line: 79,
          column: 13
        }
      },
      "5": {
        start: {
          line: 78,
          column: 16
        },
        end: {
          line: 78,
          column: 44
        }
      },
      "6": {
        start: {
          line: 82,
          column: 12
        },
        end: {
          line: 92,
          column: 13
        }
      },
      "7": {
        start: {
          line: 83,
          column: 16
        },
        end: {
          line: 83,
          column: 37
        }
      },
      "8": {
        start: {
          line: 85,
          column: 16
        },
        end: {
          line: 89,
          column: 19
        }
      },
      "9": {
        start: {
          line: 91,
          column: 16
        },
        end: {
          line: 91,
          column: 66
        }
      },
      "10": {
        start: {
          line: 100,
          column: 33
        },
        end: {
          line: 116,
          column: 1
        }
      },
      "11": {
        start: {
          line: 101,
          column: 24
        },
        end: {
          line: 101,
          column: 61
        }
      },
      "12": {
        start: {
          line: 102,
          column: 27
        },
        end: {
          line: 102,
          column: 60
        }
      },
      "13": {
        start: {
          line: 105,
          column: 4
        },
        end: {
          line: 115,
          column: 7
        }
      },
      "14": {
        start: {
          line: 106,
          column: 8
        },
        end: {
          line: 113,
          column: 9
        }
      },
      "15": {
        start: {
          line: 107,
          column: 12
        },
        end: {
          line: 112,
          column: 15
        }
      },
      "16": {
        start: {
          line: 114,
          column: 8
        },
        end: {
          line: 114,
          column: 15
        }
      },
      "17": {
        start: {
          line: 121,
          column: 31
        },
        end: {
          line: 135,
          column: 1
        }
      },
      "18": {
        start: {
          line: 122,
          column: 4
        },
        end: {
          line: 133,
          column: 5
        }
      },
      "19": {
        start: {
          line: 123,
          column: 28
        },
        end: {
          line: 123,
          column: 65
        }
      },
      "20": {
        start: {
          line: 124,
          column: 23
        },
        end: {
          line: 124,
          column: 54
        }
      },
      "21": {
        start: {
          line: 126,
          column: 8
        },
        end: {
          line: 126,
          column: 69
        }
      },
      "22": {
        start: {
          line: 127,
          column: 8
        },
        end: {
          line: 127,
          column: 78
        }
      },
      "23": {
        start: {
          line: 128,
          column: 8
        },
        end: {
          line: 128,
          column: 85
        }
      },
      "24": {
        start: {
          line: 129,
          column: 8
        },
        end: {
          line: 129,
          column: 63
        }
      },
      "25": {
        start: {
          line: 130,
          column: 8
        },
        end: {
          line: 130,
          column: 71
        }
      },
      "26": {
        start: {
          line: 132,
          column: 8
        },
        end: {
          line: 132,
          column: 35
        }
      },
      "27": {
        start: {
          line: 134,
          column: 4
        },
        end: {
          line: 134,
          column: 11
        }
      },
      "28": {
        start: {
          line: 140,
          column: 39
        },
        end: {
          line: 154,
          column: 2
        }
      },
      "29": {
        start: {
          line: 159,
          column: 35
        },
        end: {
          line: 185,
          column: 2
        }
      },
      "30": {
        start: {
          line: 161,
          column: 29
        },
        end: {
          line: 164,
          column: 9
        }
      },
      "31": {
        start: {
          line: 166,
          column: 8
        },
        end: {
          line: 168,
          column: 9
        }
      },
      "32": {
        start: {
          line: 167,
          column: 12
        },
        end: {
          line: 167,
          column: 80
        }
      },
      "33": {
        start: {
          line: 170,
          column: 8
        },
        end: {
          line: 175,
          column: 9
        }
      },
      "34": {
        start: {
          line: 171,
          column: 12
        },
        end: {
          line: 171,
          column: 33
        }
      },
      "35": {
        start: {
          line: 173,
          column: 12
        },
        end: {
          line: 173,
          column: 77
        }
      },
      "36": {
        start: {
          line: 174,
          column: 12
        },
        end: {
          line: 174,
          column: 55
        }
      },
      "37": {
        start: {
          line: 190,
          column: 35
        },
        end: {
          line: 202,
          column: 1
        }
      },
      "38": {
        start: {
          line: 192,
          column: 4
        },
        end: {
          line: 192,
          column: 23
        }
      },
      "39": {
        start: {
          line: 195,
          column: 4
        },
        end: {
          line: 199,
          column: 5
        }
      },
      "40": {
        start: {
          line: 196,
          column: 8
        },
        end: {
          line: 196,
          column: 56
        }
      },
      "41": {
        start: {
          line: 197,
          column: 8
        },
        end: {
          line: 197,
          column: 52
        }
      },
      "42": {
        start: {
          line: 198,
          column: 8
        },
        end: {
          line: 198,
          column: 56
        }
      },
      "43": {
        start: {
          line: 201,
          column: 4
        },
        end: {
          line: 201,
          column: 11
        }
      },
      "44": {
        start: {
          line: 207,
          column: 32
        },
        end: {
          line: 225,
          column: 1
        }
      },
      "45": {
        start: {
          line: 208,
          column: 4
        },
        end: {
          line: 223,
          column: 5
        }
      },
      "46": {
        start: {
          line: 209,
          column: 8
        },
        end: {
          line: 215,
          column: 11
        }
      },
      "47": {
        start: {
          line: 217,
          column: 8
        },
        end: {
          line: 222,
          column: 11
        }
      },
      "48": {
        start: {
          line: 224,
          column: 4
        },
        end: {
          line: 224,
          column: 14
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 70,
            column: 36
          },
          end: {
            line: 70,
            column: 37
          }
        },
        loc: {
          start: {
            line: 70,
            column: 93
          },
          end: {
            line: 95,
            column: 1
          }
        },
        line: 70
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 75,
            column: 16
          },
          end: {
            line: 75,
            column: 17
          }
        },
        loc: {
          start: {
            line: 75,
            column: 38
          },
          end: {
            line: 93,
            column: 9
          }
        },
        line: 75
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 100,
            column: 33
          },
          end: {
            line: 100,
            column: 34
          }
        },
        loc: {
          start: {
            line: 100,
            column: 53
          },
          end: {
            line: 116,
            column: 1
          }
        },
        line: 100
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 105,
            column: 29
          },
          end: {
            line: 105,
            column: 30
          }
        },
        loc: {
          start: {
            line: 105,
            column: 38
          },
          end: {
            line: 115,
            column: 5
          }
        },
        line: 105
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 121,
            column: 31
          },
          end: {
            line: 121,
            column: 32
          }
        },
        loc: {
          start: {
            line: 121,
            column: 51
          },
          end: {
            line: 135,
            column: 1
          }
        },
        line: 121
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 160,
            column: 12
          },
          end: {
            line: 160,
            column: 13
          }
        },
        loc: {
          start: {
            line: 160,
            column: 34
          },
          end: {
            line: 176,
            column: 5
          }
        },
        line: 160
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 190,
            column: 35
          },
          end: {
            line: 190,
            column: 36
          }
        },
        loc: {
          start: {
            line: 190,
            column: 55
          },
          end: {
            line: 202,
            column: 1
          }
        },
        line: 190
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 207,
            column: 32
          },
          end: {
            line: 207,
            column: 33
          }
        },
        loc: {
          start: {
            line: 207,
            column: 57
          },
          end: {
            line: 225,
            column: 1
          }
        },
        line: 207
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 70,
            column: 37
          },
          end: {
            line: 70,
            column: 88
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 70,
            column: 51
          },
          end: {
            line: 70,
            column: 88
          }
        }],
        line: 70
      },
      "1": {
        loc: {
          start: {
            line: 70,
            column: 51
          },
          end: {
            line: 70,
            column: 88
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 70,
            column: 51
          },
          end: {
            line: 70,
            column: 71
          }
        }, {
          start: {
            line: 70,
            column: 75
          },
          end: {
            line: 70,
            column: 88
          }
        }],
        line: 70
      },
      "2": {
        loc: {
          start: {
            line: 71,
            column: 19
          },
          end: {
            line: 71,
            column: 84
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 71,
            column: 19
          },
          end: {
            line: 71,
            column: 50
          }
        }, {
          start: {
            line: 71,
            column: 54
          },
          end: {
            line: 71,
            column: 84
          }
        }],
        line: 71
      },
      "3": {
        loc: {
          start: {
            line: 77,
            column: 12
          },
          end: {
            line: 79,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 77,
            column: 12
          },
          end: {
            line: 79,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 77
      },
      "4": {
        loc: {
          start: {
            line: 77,
            column: 16
          },
          end: {
            line: 77,
            column: 56
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 77,
            column: 16
          },
          end: {
            line: 77,
            column: 23
          }
        }, {
          start: {
            line: 77,
            column: 27
          },
          end: {
            line: 77,
            column: 56
          }
        }],
        line: 77
      },
      "5": {
        loc: {
          start: {
            line: 82,
            column: 12
          },
          end: {
            line: 92,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 82,
            column: 12
          },
          end: {
            line: 92,
            column: 13
          }
        }, {
          start: {
            line: 84,
            column: 19
          },
          end: {
            line: 92,
            column: 13
          }
        }],
        line: 82
      },
      "6": {
        loc: {
          start: {
            line: 101,
            column: 24
          },
          end: {
            line: 101,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 101,
            column: 24
          },
          end: {
            line: 101,
            column: 44
          }
        }, {
          start: {
            line: 101,
            column: 48
          },
          end: {
            line: 101,
            column: 61
          }
        }],
        line: 101
      },
      "7": {
        loc: {
          start: {
            line: 106,
            column: 8
          },
          end: {
            line: 113,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 106,
            column: 8
          },
          end: {
            line: 113,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 106
      },
      "8": {
        loc: {
          start: {
            line: 122,
            column: 4
          },
          end: {
            line: 133,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 122,
            column: 4
          },
          end: {
            line: 133,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 122
      },
      "9": {
        loc: {
          start: {
            line: 123,
            column: 28
          },
          end: {
            line: 123,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 123,
            column: 28
          },
          end: {
            line: 123,
            column: 48
          }
        }, {
          start: {
            line: 123,
            column: 52
          },
          end: {
            line: 123,
            column: 65
          }
        }],
        line: 123
      },
      "10": {
        loc: {
          start: {
            line: 166,
            column: 8
          },
          end: {
            line: 168,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 166,
            column: 8
          },
          end: {
            line: 168,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 166
      },
      "11": {
        loc: {
          start: {
            line: 170,
            column: 8
          },
          end: {
            line: 175,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 170,
            column: 8
          },
          end: {
            line: 175,
            column: 9
          }
        }, {
          start: {
            line: 172,
            column: 15
          },
          end: {
            line: 175,
            column: 9
          }
        }],
        line: 170
      },
      "12": {
        loc: {
          start: {
            line: 170,
            column: 12
          },
          end: {
            line: 170,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 170,
            column: 12
          },
          end: {
            line: 170,
            column: 19
          }
        }, {
          start: {
            line: 170,
            column: 23
          },
          end: {
            line: 170,
            column: 52
          }
        }],
        line: 170
      },
      "13": {
        loc: {
          start: {
            line: 195,
            column: 4
          },
          end: {
            line: 199,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 195,
            column: 4
          },
          end: {
            line: 199,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 195
      },
      "14": {
        loc: {
          start: {
            line: 208,
            column: 4
          },
          end: {
            line: 223,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 208,
            column: 4
          },
          end: {
            line: 223,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 208
      },
      "15": {
        loc: {
          start: {
            line: 208,
            column: 8
          },
          end: {
            line: 208,
            column: 51
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 208,
            column: 8
          },
          end: {
            line: 208,
            column: 19
          }
        }, {
          start: {
            line: 208,
            column: 23
          },
          end: {
            line: 208,
            column: 51
          }
        }],
        line: 208
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0
    },
    b: {
      "0": [0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "ed0528a7cc81472da4c97983a2e15993b5667ff0"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_13yba17xv8 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_13yba17xv8();
/**
 * Enhanced CORS Configuration for Lightning Talk Circle
 * Environment-specific security policies
 */

import cors from 'cors';

// Environment-specific CORS configuration
const corsConfigurations =
/* istanbul ignore next */
(cov_13yba17xv8().s[0]++, {
  development: {
    origin: ['http://localhost:3000', 'http://127.0.0.1:3000', 'http://localhost:8080', 'http://127.0.0.1:8080'],
    credentials: true,
    methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],
    allowedHeaders: ['Content-Type', 'Authorization', 'X-API-Key', 'X-Requested-With', 'Accept'],
    maxAge: 86400 // 24 hours
  },
  staging: {
    origin: ['https://staging.xn--6wym69a.com', 'https://staging-api.xn--6wym69a.com'],
    credentials: true,
    methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],
    allowedHeaders: ['Content-Type', 'Authorization', 'X-API-Key', 'X-Requested-With', 'Accept'],
    maxAge: 3600 // 1 hour
  },
  production: {
    origin: ['https://xn--6wym69a.com', 'https://www.xn--6wym69a.com', 'https://発表.com', 'https://www.発表.com'],
    credentials: true,
    methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],
    allowedHeaders: ['Content-Type', 'Authorization', 'X-API-Key', 'X-Requested-With', 'Accept'],
    maxAge: 3600,
    // 1 hour
    optionsSuccessStatus: 200
  }
});

/**
 * Create CORS middleware based on environment
 */
/* istanbul ignore next */
cov_13yba17xv8().s[1]++;
export const createCorsMiddleware = (environment =
/* istanbul ignore next */
(cov_13yba17xv8().b[0][0]++,
/* istanbul ignore next */
(cov_13yba17xv8().b[1][0]++, process.env.NODE_ENV) ||
/* istanbul ignore next */
(cov_13yba17xv8().b[1][1]++, 'development'))) => {
  /* istanbul ignore next */
  cov_13yba17xv8().f[0]++;
  const config =
  /* istanbul ignore next */
  (cov_13yba17xv8().s[2]++,
  /* istanbul ignore next */
  (cov_13yba17xv8().b[2][0]++, corsConfigurations[environment]) ||
  /* istanbul ignore next */
  (cov_13yba17xv8().b[2][1]++, corsConfigurations.development));
  /* istanbul ignore next */
  cov_13yba17xv8().s[3]++;
  return cors({
    ...config,
    origin: (origin, callback) => {
      /* istanbul ignore next */
      cov_13yba17xv8().f[1]++;
      cov_13yba17xv8().s[4]++;
      // Allow requests with no origin (like mobile apps or curl requests) in development
      if (
      /* istanbul ignore next */
      (cov_13yba17xv8().b[4][0]++, !origin) &&
      /* istanbul ignore next */
      (cov_13yba17xv8().b[4][1]++, environment === 'development')) {
        /* istanbul ignore next */
        cov_13yba17xv8().b[3][0]++;
        cov_13yba17xv8().s[5]++;
        return callback(null, true);
      } else
      /* istanbul ignore next */
      {
        cov_13yba17xv8().b[3][1]++;
      }

      // Check if origin is in allowed list
      cov_13yba17xv8().s[6]++;
      if (config.origin.includes(origin)) {
        /* istanbul ignore next */
        cov_13yba17xv8().b[5][0]++;
        cov_13yba17xv8().s[7]++;
        callback(null, true);
      } else {
        /* istanbul ignore next */
        cov_13yba17xv8().b[5][1]++;
        cov_13yba17xv8().s[8]++;
        console.warn('CORS: Blocked request from origin:', origin, {
          environment,
          allowedOrigins: config.origin,
          timestamp: new Date().toISOString()
        });
        /* istanbul ignore next */
        cov_13yba17xv8().s[9]++;
        callback(new Error('Not allowed by CORS policy'));
      }
    }
  });
};

/**
 * Dynamic CORS configuration for API endpoints
 */
/* istanbul ignore next */
cov_13yba17xv8().s[10]++;
export const apiCorsMiddleware = (req, res, next) => {
  /* istanbul ignore next */
  cov_13yba17xv8().f[2]++;
  const environment =
  /* istanbul ignore next */
  (cov_13yba17xv8().s[11]++,
  /* istanbul ignore next */
  (cov_13yba17xv8().b[6][0]++, process.env.NODE_ENV) ||
  /* istanbul ignore next */
  (cov_13yba17xv8().b[6][1]++, 'development'));
  const corsMiddleware =
  /* istanbul ignore next */
  (cov_13yba17xv8().s[12]++, createCorsMiddleware(environment));

  // Apply CORS
  /* istanbul ignore next */
  cov_13yba17xv8().s[13]++;
  corsMiddleware(req, res, err => {
    /* istanbul ignore next */
    cov_13yba17xv8().f[3]++;
    cov_13yba17xv8().s[14]++;
    if (err) {
      /* istanbul ignore next */
      cov_13yba17xv8().b[7][0]++;
      cov_13yba17xv8().s[15]++;
      return res.status(403).json({
        success: false,
        message: 'CORS policy violation',
        origin: req.get('Origin'),
        timestamp: new Date().toISOString()
      });
    } else
    /* istanbul ignore next */
    {
      cov_13yba17xv8().b[7][1]++;
    }
    cov_13yba17xv8().s[16]++;
    next();
  });
};

/**
 * Preflight handling for complex requests
 */
/* istanbul ignore next */
cov_13yba17xv8().s[17]++;
export const handlePreflight = (req, res, next) => {
  /* istanbul ignore next */
  cov_13yba17xv8().f[4]++;
  cov_13yba17xv8().s[18]++;
  if (req.method === 'OPTIONS') {
    /* istanbul ignore next */
    cov_13yba17xv8().b[8][0]++;
    const environment =
    /* istanbul ignore next */
    (cov_13yba17xv8().s[19]++,
    /* istanbul ignore next */
    (cov_13yba17xv8().b[9][0]++, process.env.NODE_ENV) ||
    /* istanbul ignore next */
    (cov_13yba17xv8().b[9][1]++, 'development'));
    const config =
    /* istanbul ignore next */
    (cov_13yba17xv8().s[20]++, corsConfigurations[environment]);
    /* istanbul ignore next */
    cov_13yba17xv8().s[21]++;
    res.header('Access-Control-Allow-Origin', req.get('Origin'));
    /* istanbul ignore next */
    cov_13yba17xv8().s[22]++;
    res.header('Access-Control-Allow-Methods', config.methods.join(', '));
    /* istanbul ignore next */
    cov_13yba17xv8().s[23]++;
    res.header('Access-Control-Allow-Headers', config.allowedHeaders.join(', '));
    /* istanbul ignore next */
    cov_13yba17xv8().s[24]++;
    res.header('Access-Control-Allow-Credentials', 'true');
    /* istanbul ignore next */
    cov_13yba17xv8().s[25]++;
    res.header('Access-Control-Max-Age', config.maxAge.toString());
    /* istanbul ignore next */
    cov_13yba17xv8().s[26]++;
    return res.sendStatus(200);
  } else
  /* istanbul ignore next */
  {
    cov_13yba17xv8().b[8][1]++;
  }
  cov_13yba17xv8().s[27]++;
  next();
};

/**
 * WordPress-specific CORS configuration
 */
export const wordpressCorsMiddleware =
/* istanbul ignore next */
(cov_13yba17xv8().s[28]++, cors({
  origin: ['https://xn--6wym69a.com', 'https://www.xn--6wym69a.com', /^https:\/\/.*\.xn--6wym69a\.com$/],
  credentials: true,
  methods: ['GET', 'POST', 'PUT', 'DELETE'],
  allowedHeaders: ['Content-Type', 'Authorization', 'X-WP-Nonce', 'X-Requested-With']
}));

/**
 * Admin panel CORS configuration (stricter)
 */
export const adminCorsMiddleware =
/* istanbul ignore next */
(cov_13yba17xv8().s[29]++, cors({
  origin: (origin, callback) => {
    /* istanbul ignore next */
    cov_13yba17xv8().f[5]++;
    const adminOrigins =
    /* istanbul ignore next */
    (cov_13yba17xv8().s[30]++, ['https://admin.xn--6wym69a.com', 'https://dashboard.xn--6wym69a.com']);
    /* istanbul ignore next */
    cov_13yba17xv8().s[31]++;
    if (process.env.NODE_ENV === 'development') {
      /* istanbul ignore next */
      cov_13yba17xv8().b[10][0]++;
      cov_13yba17xv8().s[32]++;
      adminOrigins.push('http://localhost:3000', 'http://localhost:8080');
    } else
    /* istanbul ignore next */
    {
      cov_13yba17xv8().b[10][1]++;
    }
    cov_13yba17xv8().s[33]++;
    if (
    /* istanbul ignore next */
    (cov_13yba17xv8().b[12][0]++, !origin) ||
    /* istanbul ignore next */
    (cov_13yba17xv8().b[12][1]++, adminOrigins.includes(origin))) {
      /* istanbul ignore next */
      cov_13yba17xv8().b[11][0]++;
      cov_13yba17xv8().s[34]++;
      callback(null, true);
    } else {
      /* istanbul ignore next */
      cov_13yba17xv8().b[11][1]++;
      cov_13yba17xv8().s[35]++;
      console.warn('Admin CORS: Blocked request from origin:', origin);
      /* istanbul ignore next */
      cov_13yba17xv8().s[36]++;
      callback(new Error('Admin access denied'));
    }
  },
  credentials: true,
  methods: ['GET', 'POST', 'PUT', 'DELETE'],
  allowedHeaders: ['Content-Type', 'Authorization', 'X-API-Key', 'X-Admin-Token']
}));

/**
 * Security headers for CORS responses
 */
/* istanbul ignore next */
cov_13yba17xv8().s[37]++;
export const corsSecurityHeaders = (req, res, next) => {
  /* istanbul ignore next */
  cov_13yba17xv8().f[6]++;
  cov_13yba17xv8().s[38]++;
  // Vary header for caching
  res.vary('Origin');

  // Additional security headers
  /* istanbul ignore next */
  cov_13yba17xv8().s[39]++;
  if (req.get('Origin')) {
    /* istanbul ignore next */
    cov_13yba17xv8().b[13][0]++;
    cov_13yba17xv8().s[40]++;
    res.header('X-Content-Type-Options', 'nosniff');
    /* istanbul ignore next */
    cov_13yba17xv8().s[41]++;
    res.header('X-Frame-Options', 'SAMEORIGIN');
    /* istanbul ignore next */
    cov_13yba17xv8().s[42]++;
    res.header('X-XSS-Protection', '1; mode=block');
  } else
  /* istanbul ignore next */
  {
    cov_13yba17xv8().b[13][1]++;
  }
  cov_13yba17xv8().s[43]++;
  next();
};

/**
 * CORS error handler
 */
/* istanbul ignore next */
cov_13yba17xv8().s[44]++;
export const corsErrorHandler = (err, req, res, next) => {
  /* istanbul ignore next */
  cov_13yba17xv8().f[7]++;
  cov_13yba17xv8().s[45]++;
  if (
  /* istanbul ignore next */
  (cov_13yba17xv8().b[15][0]++, err.message) &&
  /* istanbul ignore next */
  (cov_13yba17xv8().b[15][1]++, err.message.includes('CORS'))) {
    /* istanbul ignore next */
    cov_13yba17xv8().b[14][0]++;
    cov_13yba17xv8().s[46]++;
    console.error('CORS Error:', {
      origin: req.get('Origin'),
      method: req.method,
      url: req.originalUrl,
      userAgent: req.get('User-Agent'),
      timestamp: new Date().toISOString()
    });
    /* istanbul ignore next */
    cov_13yba17xv8().s[47]++;
    return res.status(403).json({
      success: false,
      message: 'Cross-origin request blocked',
      code: 'CORS_ERROR',
      timestamp: new Date().toISOString()
    });
  } else
  /* istanbul ignore next */
  {
    cov_13yba17xv8().b[14][1]++;
  }
  cov_13yba17xv8().s[48]++;
  next(err);
};
export default {
  createCorsMiddleware,
  apiCorsMiddleware,
  handlePreflight,
  wordpressCorsMiddleware,
  adminCorsMiddleware,
  corsSecurityHeaders,
  corsErrorHandler
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTN5YmExN3h2OCIsImFjdHVhbENvdmVyYWdlIiwiY29ycyIsImNvcnNDb25maWd1cmF0aW9ucyIsInMiLCJkZXZlbG9wbWVudCIsIm9yaWdpbiIsImNyZWRlbnRpYWxzIiwibWV0aG9kcyIsImFsbG93ZWRIZWFkZXJzIiwibWF4QWdlIiwic3RhZ2luZyIsInByb2R1Y3Rpb24iLCJvcHRpb25zU3VjY2Vzc1N0YXR1cyIsImNyZWF0ZUNvcnNNaWRkbGV3YXJlIiwiZW52aXJvbm1lbnQiLCJiIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiZiIsImNvbmZpZyIsImNhbGxiYWNrIiwiaW5jbHVkZXMiLCJjb25zb2xlIiwid2FybiIsImFsbG93ZWRPcmlnaW5zIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiRXJyb3IiLCJhcGlDb3JzTWlkZGxld2FyZSIsInJlcSIsInJlcyIsIm5leHQiLCJjb3JzTWlkZGxld2FyZSIsImVyciIsInN0YXR1cyIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsImdldCIsImhhbmRsZVByZWZsaWdodCIsIm1ldGhvZCIsImhlYWRlciIsImpvaW4iLCJ0b1N0cmluZyIsInNlbmRTdGF0dXMiLCJ3b3JkcHJlc3NDb3JzTWlkZGxld2FyZSIsImFkbWluQ29yc01pZGRsZXdhcmUiLCJhZG1pbk9yaWdpbnMiLCJwdXNoIiwiY29yc1NlY3VyaXR5SGVhZGVycyIsInZhcnkiLCJjb3JzRXJyb3JIYW5kbGVyIiwiZXJyb3IiLCJ1cmwiLCJvcmlnaW5hbFVybCIsInVzZXJBZ2VudCIsImNvZGUiXSwic291cmNlcyI6WyJjb3JzLWNvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEVuaGFuY2VkIENPUlMgQ29uZmlndXJhdGlvbiBmb3IgTGlnaHRuaW5nIFRhbGsgQ2lyY2xlXG4gKiBFbnZpcm9ubWVudC1zcGVjaWZpYyBzZWN1cml0eSBwb2xpY2llc1xuICovXG5cbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuXG4vLyBFbnZpcm9ubWVudC1zcGVjaWZpYyBDT1JTIGNvbmZpZ3VyYXRpb25cbmNvbnN0IGNvcnNDb25maWd1cmF0aW9ucyA9IHtcbiAgICBkZXZlbG9wbWVudDoge1xuICAgICAgICBvcmlnaW46IFtcbiAgICAgICAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDAnLFxuICAgICAgICAgICAgJ2h0dHA6Ly8xMjcuMC4wLjE6MzAwMCcsXG4gICAgICAgICAgICAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJyxcbiAgICAgICAgICAgICdodHRwOi8vMTI3LjAuMC4xOjgwODAnXG4gICAgICAgIF0sXG4gICAgICAgIGNyZWRlbnRpYWxzOiB0cnVlLFxuICAgICAgICBtZXRob2RzOiBbJ0dFVCcsICdQT1NUJywgJ1BVVCcsICdERUxFVEUnLCAnT1BUSU9OUyddLFxuICAgICAgICBhbGxvd2VkSGVhZGVyczogW1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZScsXG4gICAgICAgICAgICAnQXV0aG9yaXphdGlvbicsXG4gICAgICAgICAgICAnWC1BUEktS2V5JyxcbiAgICAgICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJyxcbiAgICAgICAgICAgICdBY2NlcHQnXG4gICAgICAgIF0sXG4gICAgICAgIG1heEFnZTogODY0MDAgLy8gMjQgaG91cnNcbiAgICB9LFxuXG4gICAgc3RhZ2luZzoge1xuICAgICAgICBvcmlnaW46IFtcbiAgICAgICAgICAgICdodHRwczovL3N0YWdpbmcueG4tLTZ3eW02OWEuY29tJyxcbiAgICAgICAgICAgICdodHRwczovL3N0YWdpbmctYXBpLnhuLS02d3ltNjlhLmNvbSdcbiAgICAgICAgXSxcbiAgICAgICAgY3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgIG1ldGhvZHM6IFsnR0VUJywgJ1BPU1QnLCAnUFVUJywgJ0RFTEVURScsICdPUFRJT05TJ10sXG4gICAgICAgIGFsbG93ZWRIZWFkZXJzOiBbXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJyxcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJyxcbiAgICAgICAgICAgICdYLUFQSS1LZXknLFxuICAgICAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnLFxuICAgICAgICAgICAgJ0FjY2VwdCdcbiAgICAgICAgXSxcbiAgICAgICAgbWF4QWdlOiAzNjAwIC8vIDEgaG91clxuICAgIH0sXG5cbiAgICBwcm9kdWN0aW9uOiB7XG4gICAgICAgIG9yaWdpbjogW1xuICAgICAgICAgICAgJ2h0dHBzOi8veG4tLTZ3eW02OWEuY29tJyxcbiAgICAgICAgICAgICdodHRwczovL3d3dy54bi0tNnd5bTY5YS5jb20nLFxuICAgICAgICAgICAgJ2h0dHBzOi8v55m66KGoLmNvbScsXG4gICAgICAgICAgICAnaHR0cHM6Ly93d3cu55m66KGoLmNvbSdcbiAgICAgICAgXSxcbiAgICAgICAgY3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgIG1ldGhvZHM6IFsnR0VUJywgJ1BPU1QnLCAnUFVUJywgJ0RFTEVURScsICdPUFRJT05TJ10sXG4gICAgICAgIGFsbG93ZWRIZWFkZXJzOiBbXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJyxcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJyxcbiAgICAgICAgICAgICdYLUFQSS1LZXknLFxuICAgICAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnLFxuICAgICAgICAgICAgJ0FjY2VwdCdcbiAgICAgICAgXSxcbiAgICAgICAgbWF4QWdlOiAzNjAwLCAvLyAxIGhvdXJcbiAgICAgICAgb3B0aW9uc1N1Y2Nlc3NTdGF0dXM6IDIwMFxuICAgIH1cbn07XG5cbi8qKlxuICogQ3JlYXRlIENPUlMgbWlkZGxld2FyZSBiYXNlZCBvbiBlbnZpcm9ubWVudFxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlQ29yc01pZGRsZXdhcmUgPSAoZW52aXJvbm1lbnQgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnKSA9PiB7XG4gICAgY29uc3QgY29uZmlnID0gY29yc0NvbmZpZ3VyYXRpb25zW2Vudmlyb25tZW50XSB8fCBjb3JzQ29uZmlndXJhdGlvbnMuZGV2ZWxvcG1lbnQ7XG4gICAgXG4gICAgcmV0dXJuIGNvcnMoe1xuICAgICAgICAuLi5jb25maWcsXG4gICAgICAgIG9yaWdpbjogKG9yaWdpbiwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgIC8vIEFsbG93IHJlcXVlc3RzIHdpdGggbm8gb3JpZ2luIChsaWtlIG1vYmlsZSBhcHBzIG9yIGN1cmwgcmVxdWVzdHMpIGluIGRldmVsb3BtZW50XG4gICAgICAgICAgICBpZiAoIW9yaWdpbiAmJiBlbnZpcm9ubWVudCA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgb3JpZ2luIGlzIGluIGFsbG93ZWQgbGlzdFxuICAgICAgICAgICAgaWYgKGNvbmZpZy5vcmlnaW4uaW5jbHVkZXMob3JpZ2luKSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NPUlM6IEJsb2NrZWQgcmVxdWVzdCBmcm9tIG9yaWdpbjonLCBvcmlnaW4sIHtcbiAgICAgICAgICAgICAgICAgICAgZW52aXJvbm1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGFsbG93ZWRPcmlnaW5zOiBjb25maWcub3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignTm90IGFsbG93ZWQgYnkgQ09SUyBwb2xpY3knKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbi8qKlxuICogRHluYW1pYyBDT1JTIGNvbmZpZ3VyYXRpb24gZm9yIEFQSSBlbmRwb2ludHNcbiAqL1xuZXhwb3J0IGNvbnN0IGFwaUNvcnNNaWRkbGV3YXJlID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3QgZW52aXJvbm1lbnQgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnO1xuICAgIGNvbnN0IGNvcnNNaWRkbGV3YXJlID0gY3JlYXRlQ29yc01pZGRsZXdhcmUoZW52aXJvbm1lbnQpO1xuICAgIFxuICAgIC8vIEFwcGx5IENPUlNcbiAgICBjb3JzTWlkZGxld2FyZShyZXEsIHJlcywgKGVycikgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdDT1JTIHBvbGljeSB2aW9sYXRpb24nLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogcmVxLmdldCgnT3JpZ2luJyksXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIG5leHQoKTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogUHJlZmxpZ2h0IGhhbmRsaW5nIGZvciBjb21wbGV4IHJlcXVlc3RzXG4gKi9cbmV4cG9ydCBjb25zdCBoYW5kbGVQcmVmbGlnaHQgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ09QVElPTlMnKSB7XG4gICAgICAgIGNvbnN0IGVudmlyb25tZW50ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHwgJ2RldmVsb3BtZW50JztcbiAgICAgICAgY29uc3QgY29uZmlnID0gY29yc0NvbmZpZ3VyYXRpb25zW2Vudmlyb25tZW50XTtcbiAgICAgICAgXG4gICAgICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsIHJlcS5nZXQoJ09yaWdpbicpKTtcbiAgICAgICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsIGNvbmZpZy5tZXRob2RzLmpvaW4oJywgJykpO1xuICAgICAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgY29uZmlnLmFsbG93ZWRIZWFkZXJzLmpvaW4oJywgJykpO1xuICAgICAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscycsICd0cnVlJyk7XG4gICAgICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLU1heC1BZ2UnLCBjb25maWcubWF4QWdlLnRvU3RyaW5nKCkpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDIwMCk7XG4gICAgfVxuICAgIG5leHQoKTtcbn07XG5cbi8qKlxuICogV29yZFByZXNzLXNwZWNpZmljIENPUlMgY29uZmlndXJhdGlvblxuICovXG5leHBvcnQgY29uc3Qgd29yZHByZXNzQ29yc01pZGRsZXdhcmUgPSBjb3JzKHtcbiAgICBvcmlnaW46IFtcbiAgICAgICAgJ2h0dHBzOi8veG4tLTZ3eW02OWEuY29tJyxcbiAgICAgICAgJ2h0dHBzOi8vd3d3LnhuLS02d3ltNjlhLmNvbScsXG4gICAgICAgIC9eaHR0cHM6XFwvXFwvLipcXC54bi0tNnd5bTY5YVxcLmNvbSQvXG4gICAgXSxcbiAgICBjcmVkZW50aWFsczogdHJ1ZSxcbiAgICBtZXRob2RzOiBbJ0dFVCcsICdQT1NUJywgJ1BVVCcsICdERUxFVEUnXSxcbiAgICBhbGxvd2VkSGVhZGVyczogW1xuICAgICAgICAnQ29udGVudC1UeXBlJyxcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nLFxuICAgICAgICAnWC1XUC1Ob25jZScsXG4gICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJ1xuICAgIF1cbn0pO1xuXG4vKipcbiAqIEFkbWluIHBhbmVsIENPUlMgY29uZmlndXJhdGlvbiAoc3RyaWN0ZXIpXG4gKi9cbmV4cG9ydCBjb25zdCBhZG1pbkNvcnNNaWRkbGV3YXJlID0gY29ycyh7XG4gICAgb3JpZ2luOiAob3JpZ2luLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICBjb25zdCBhZG1pbk9yaWdpbnMgPSBbXG4gICAgICAgICAgICAnaHR0cHM6Ly9hZG1pbi54bi0tNnd5bTY5YS5jb20nLFxuICAgICAgICAgICAgJ2h0dHBzOi8vZGFzaGJvYXJkLnhuLS02d3ltNjlhLmNvbSdcbiAgICAgICAgXTtcbiAgICAgICAgXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgICAgYWRtaW5PcmlnaW5zLnB1c2goJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsICdodHRwOi8vbG9jYWxob3N0OjgwODAnKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKCFvcmlnaW4gfHwgYWRtaW5PcmlnaW5zLmluY2x1ZGVzKG9yaWdpbikpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdBZG1pbiBDT1JTOiBCbG9ja2VkIHJlcXVlc3QgZnJvbSBvcmlnaW46Jywgb3JpZ2luKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignQWRtaW4gYWNjZXNzIGRlbmllZCcpKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgY3JlZGVudGlhbHM6IHRydWUsXG4gICAgbWV0aG9kczogWydHRVQnLCAnUE9TVCcsICdQVVQnLCAnREVMRVRFJ10sXG4gICAgYWxsb3dlZEhlYWRlcnM6IFtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZScsXG4gICAgICAgICdBdXRob3JpemF0aW9uJyxcbiAgICAgICAgJ1gtQVBJLUtleScsXG4gICAgICAgICdYLUFkbWluLVRva2VuJ1xuICAgIF1cbn0pO1xuXG4vKipcbiAqIFNlY3VyaXR5IGhlYWRlcnMgZm9yIENPUlMgcmVzcG9uc2VzXG4gKi9cbmV4cG9ydCBjb25zdCBjb3JzU2VjdXJpdHlIZWFkZXJzID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgLy8gVmFyeSBoZWFkZXIgZm9yIGNhY2hpbmdcbiAgICByZXMudmFyeSgnT3JpZ2luJyk7XG4gICAgXG4gICAgLy8gQWRkaXRpb25hbCBzZWN1cml0eSBoZWFkZXJzXG4gICAgaWYgKHJlcS5nZXQoJ09yaWdpbicpKSB7XG4gICAgICAgIHJlcy5oZWFkZXIoJ1gtQ29udGVudC1UeXBlLU9wdGlvbnMnLCAnbm9zbmlmZicpO1xuICAgICAgICByZXMuaGVhZGVyKCdYLUZyYW1lLU9wdGlvbnMnLCAnU0FNRU9SSUdJTicpO1xuICAgICAgICByZXMuaGVhZGVyKCdYLVhTUy1Qcm90ZWN0aW9uJywgJzE7IG1vZGU9YmxvY2snKTtcbiAgICB9XG4gICAgXG4gICAgbmV4dCgpO1xufTtcblxuLyoqXG4gKiBDT1JTIGVycm9yIGhhbmRsZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGNvcnNFcnJvckhhbmRsZXIgPSAoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGlmIChlcnIubWVzc2FnZSAmJiBlcnIubWVzc2FnZS5pbmNsdWRlcygnQ09SUycpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NPUlMgRXJyb3I6Jywge1xuICAgICAgICAgICAgb3JpZ2luOiByZXEuZ2V0KCdPcmlnaW4nKSxcbiAgICAgICAgICAgIG1ldGhvZDogcmVxLm1ldGhvZCxcbiAgICAgICAgICAgIHVybDogcmVxLm9yaWdpbmFsVXJsLFxuICAgICAgICAgICAgdXNlckFnZW50OiByZXEuZ2V0KCdVc2VyLUFnZW50JyksXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdDcm9zcy1vcmlnaW4gcmVxdWVzdCBibG9ja2VkJyxcbiAgICAgICAgICAgIGNvZGU6ICdDT1JTX0VSUk9SJyxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuZXh0KGVycik7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgY3JlYXRlQ29yc01pZGRsZXdhcmUsXG4gICAgYXBpQ29yc01pZGRsZXdhcmUsXG4gICAgaGFuZGxlUHJlZmxpZ2h0LFxuICAgIHdvcmRwcmVzc0NvcnNNaWRkbGV3YXJlLFxuICAgIGFkbWluQ29yc01pZGRsZXdhcmUsXG4gICAgY29yc1NlY3VyaXR5SGVhZGVycyxcbiAgICBjb3JzRXJyb3JIYW5kbGVyXG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWVZO0lBQUFBLGNBQUEsWUFBQUEsQ0FBQTtNQUFBLE9BQUFDLGNBQUE7SUFBQTtFQUFBO0VBQUEsT0FBQUEsY0FBQTtBQUFB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