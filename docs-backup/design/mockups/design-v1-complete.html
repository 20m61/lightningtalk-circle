<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>なんでもライトニングトーク ⚡</title>
    <style>
        /* ===== ベーススタイル ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-gradient: linear-gradient(45deg, #ff6b6b, #ffd93d);
            --accent-color: #ffd700;
            --text-primary: #333;
            --text-secondary: #666;
            --bg-light: #f8f9fa;
            --white: #ffffff;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            --border-radius: 15px;
            --transition: all 0.3s ease;
        }

        body {
            font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-light);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* ===== ヘッダー ===== */
        header {
            background: var(--white);
            box-shadow: var(--shadow);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            transition: var(--transition);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-primary);
            font-weight: 500;
            transition: var(--transition);
        }

        .nav-links a:hover {
            color: #ff6b6b;
        }

        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
        }

        .mobile-menu-toggle span {
            width: 25px;
            height: 3px;
            background: var(--text-primary);
            margin: 3px 0;
            transition: var(--transition);
        }

        /* ===== メインコンテンツ ===== */
        main {
            margin-top: 80px;
        }

        /* ===== ヒーローセクション ===== */
        .hero {
            background: var(--primary-gradient);
            color: var(--white);
            padding: 4rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .floating-elements {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
        }

        .floating-sun, .floating-cat, .floating-flower {
            position: absolute;
            font-size: 2rem;
            animation: float 6s ease-in-out infinite;
        }

        .floating-sun {
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }

        .floating-cat {
            top: 20%;
            right: 15%;
            animation-delay: 2s;
        }

        .floating-flower {
            bottom: 20%;
            left: 20%;
            animation-delay: 4s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-20px) rotate(5deg); }
            66% { transform: translateY(10px) rotate(-3deg); }
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            opacity: 0.95;
        }

        /* ===== ボタンスタイル ===== */
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: var(--white);
            color: #ff6b6b;
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-size: 1rem;
            box-shadow: var(--shadow);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.15);
        }

        .btn.survey-btn {
            background: var(--primary-gradient);
            color: var(--white);
            margin: 0.5rem;
        }

        /* ===== セクション共通 ===== */
        section {
            padding: 4rem 0;
        }

        .section-title {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 3rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* ===== イベント情報セクション ===== */
        .event-info {
            background: var(--white);
        }

        .event-card {
            background: var(--white);
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
            border: 3px solid transparent;
            background-clip: padding-box;
            position: relative;
        }

        .event-card::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: var(--primary-gradient);
            border-radius: var(--border-radius);
            z-index: -1;
        }

        .date-highlight {
            background: var(--primary-gradient);
            color: var(--white);
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 1.5rem;
        }

        .venue-status, .emergency-contact, .online-info {
            background: var(--bg-light);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
        }

        .emergency-contact {
            background: #ffe6e6;
            border: 2px solid #ff9999;
        }

        .phone-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: #e74c3c;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .map-link {
            color: #3498db;
            text-decoration: none;
            font-weight: bold;
        }

        .action-buttons {
            text-align: center;
            margin-top: 2rem;
        }

        .survey-section {
            margin-top: 2rem;
            padding: 1.5rem;
            background: var(--bg-light);
            border-radius: 10px;
        }

        .survey-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .count {
            background: rgba(255, 255, 255, 0.3);
            padding: 0.2rem 0.5rem;
            border-radius: 15px;
            font-weight: bold;
        }

        /* ===== ライトニングトーク説明セクション ===== */
        .about-lt {
            background: var(--bg-light);
        }

        .intro-card {
            background: var(--white);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
        }

        .timeline {
            position: relative;
            margin: 2rem 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: var(--primary-gradient);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 2rem;
            padding-left: 4rem;
        }

        .timeline-dot {
            position: absolute;
            left: 8px;
            top: 0.5rem;
            width: 25px;
            height: 25px;
            background: var(--primary-gradient);
            border-radius: 50%;
            border: 3px solid var(--white);
        }

        .timeline-content {
            background: var(--white);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }

        .benefit-item {
            background: var(--white);
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .benefit-item:hover {
            transform: translateY(-5px);
        }

        /* ===== 参加方法セクション ===== */
        .participation {
            background: var(--white);
        }

        .participation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .participation-card {
            background: var(--bg-light);
            padding: 2rem;
            border-radius: var(--border-radius);
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 3px solid transparent;
        }

        .participation-card:hover {
            transform: translateY(-5px);
            border-color: #ff6b6b;
        }

        .card-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .card-note {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin: 1rem 0;
        }

        .topics-showcase {
            background: var(--bg-light);
            padding: 2rem;
            border-radius: var(--border-radius);
            margin-top: 2rem;
        }

        .topics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .topic-item {
            background: var(--white);
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .topic-item:hover {
            border-color: #ff6b6b;
            transform: scale(1.05);
        }

        .topic-item.active {
            background: var(--primary-gradient);
            color: var(--white);
        }

        /* ===== チャットウィジェット ===== */
        .chat-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .chat-toggle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary-gradient);
            color: var(--white);
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
        }

        .chat-toggle:hover {
            transform: scale(1.1);
        }

        .chat-notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #e74c3c;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-container {
            position: absolute;
            bottom: 70px;
            right: 0;
            width: 350px;
            height: 400px;
            background: var(--white);
            border-radius: 15px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            background: var(--primary-gradient);
            color: var(--white);
            padding: 1rem;
            border-radius: 15px 15px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-close {
            background: none;
            border: none;
            color: var(--white);
            font-size: 1.5rem;
            cursor: pointer;
        }

        .chat-messages {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
        }

        .chat-welcome {
            background: var(--bg-light);
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            color: var(--text-secondary);
        }

        .chat-input-container {
            padding: 1rem;
            border-top: 1px solid #eee;
            display: flex;
            gap: 0.5rem;
        }

        .chat-input {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
        }

        .chat-send {
            padding: 0.5rem 1rem;
            background: var(--primary-gradient);
            color: var(--white);
            border: none;
            border-radius: 20px;
            cursor: pointer;
        }

        /* ===== フッター ===== */
        footer {
            background: var(--text-primary);
            color: var(--white);
            padding: 3rem 0 2rem;
            text-align: center;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 1rem 0;
        }

        .footer-links a {
            color: var(--white);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: var(--accent-color);
        }

        .copyright {
            opacity: 0.7;
            font-size: 0.9rem;
        }

        /* ===== モーダル ===== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--white);
            padding: 2rem;
            border-radius: var(--border-radius);
            max-width: 500px;
            width: 90%;
            max-height: 80%;
            overflow-y: auto;
            position: relative;
        }

        .close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 2rem;
            cursor: pointer;
            color: var(--text-secondary);
        }

        /* ===== フォーム ===== */
        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        /* ===== アニメーション ===== */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.6s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ===== レスポンシブデザイン ===== */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .mobile-menu-toggle {
                display: flex;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1.1rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .participation-grid {
                grid-template-columns: 1fr;
            }

            .topics-grid {
                grid-template-columns: 1fr;
            }

            .timeline::before {
                left: 15px;
            }

            .timeline-item {
                padding-left: 3rem;
            }

            .chat-container {
                width: 90vw;
                right: 5vw;
            }

            .footer-links {
                flex-direction: column;
                gap: 1rem;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }

            .hero {
                padding: 2rem 0;
            }

            .event-card,
            .intro-card {
                padding: 1.5rem;
            }

            .chat-container {
                height: 300px;
            }
        }

        /* ===== パフォーマンス最適化 ===== */
        .fade-in:not(.visible) {
            transform: translateY(30px);
            opacity: 0;
        }

        .fade-in.visible {
            transform: translateY(0);
            opacity: 1;
            transition: all 0.6s ease;
        }
    </style>
</head>
<body>
    <header>
        <nav class="container">
            <div class="logo">⚡ なんでもLT</div>
            <ul class="nav-links">
                <li><a href="#event">イベント情報</a></li>
                <li><a href="#about">ライトニングトークとは</a></li>
                <li><a href="#join">参加方法</a></li>
                <li><a href="#contact">お問い合わせ</a></li>
            </ul>
            <div class="mobile-menu-toggle" onclick="toggleMobileMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <main>
        <section class="hero">
            <div class="container">
                <div class="floating-elements">
                    <div class="floating-sun">☀️</div>
                    <div class="floating-cat character">😸</div>
                    <div class="floating-flower">🌸</div>
                </div>
                <h1>なんでもライトニングトーク ⚡</h1>
                <p>5分間で世界を変える！あなたの「なんでも」を聞かせて！</p>
                <a href="#event" class="btn">第1回イベント詳細を見る 🚀</a>
            </div>
        </section>

        <section id="event" class="event-info">
            <div class="container">
                <h2 class="section-title">
                    🎉 第1回 なんでもライトニングトーク 🎉
                </h2>
                
                <div class="event-card fade-in">
                    <div class="date-highlight">
                        📅 2025年6月25日（水） 19:00〜
                    </div>
                    <h3>開催情報</h3>
                    
                    <div class="venue-status">
                        <h4>📍 会場について</h4>
                        <p><strong>新宿某所</strong>（6月20日に詳細確定予定）</p>
                        <p><a href="https://maps.app.goo.gl/51TFv825jmuBsjbq5?g_st=ic" target="_blank" class="map-link">🗺️ 地図を見る</a></p>
                        <p>当日参加・飛び入り発表も大歓迎です！🎤</p>
                    </div>
                    
                    <div class="emergency-contact">
                        <h4>📞 緊急連絡先</h4>
                        <a href="tel:080-4540-7479" class="phone-link">
                            <span class="phone-icon">☎️</span>
                            080-4540-7479
                        </a>
                    </div>

                    <div class="online-info">
                        <h4>💻 オンライン参加も可能！</h4>
                        <p><strong>時間:</strong> 18:30〜22:00 (JST)</p>
                        <p><strong>Google Meet:</strong> <a href="https://meet.google.com/ycp-sdec-xsr" target="_blank">参加リンク</a></p>
                    </div>

                    <div class="action-buttons">
                        <button class="btn" onclick="openRegistrationModal()">
                            📝 当日参加申込み
                        </button>
                        <div class="survey-section">
                            <h4>💭 当日参加アンケート</h4>
                            <div class="survey-buttons">
                                <button id="onlineBtn" class="btn survey-btn" onclick="incrementSurvey('online')">
                                    💻 オンライン参加 <span id="onlineCount" class="count">0</span>
                                </button>
                                <button id="offlineBtn" class="btn survey-btn" onclick="incrementSurvey('offline')">
                                    🏢 現地参加 <span id="offlineCount" class="count">0</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="about" class="about-lt">
            <div class="container">
                <h2 class="section-title">⚡ ライトニングトークって何？</h2>
                
                <div class="intro-card fade-in">
                    <h3>🎯 ライトニングトークとは</h3>
                    <p>
                        <strong>5分間</strong>という短い時間で行うプレゼンテーション！<br>
                        テーマは自由、形式も自由、<strong>「なんでも」</strong>OKです！<br>
                        技術、趣味、日常の発見、面白い話題... 何でも大歓迎！🌟
                    </p>
                </div>

                <h3>📚 ライトニングトークの歴史</h3>
                
                <div class="timeline">
                    <div class="timeline-item fade-in">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <h4>🏁 1997年</h4>
                            <p>Perl Conference でライトニングトークが誕生！技術者コミュニティから生まれた文化です。</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item fade-in">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <h4>🌍 2000年代</h4>
                            <p>世界中の技術カンファレンスに広がり、5分間で効果的に情報を伝える手法として確立。</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item fade-in">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <h4>🇯🇵 2000年代後半</h4>
                            <p>日本の技術コミュニティにも導入され、多くの勉強会やカンファレンスで定番に。</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item fade-in">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <h4>🚀 現在</h4>
                            <p>技術分野を超えて様々な領域に拡大。短時間で的確に伝える技術として注目！</p>
                        </div>
                    </div>
                </div>

                <div class="benefits-grid fade-in">
                    <h4 style="grid-column: 1 / -1; text-align: center; margin-bottom: 1rem;">💡 ライトニングトークの魅力</h4>
                    <div class="benefit-item">⏰ <strong>短時間集中</strong><br>5分だから緊張しすぎない！</div>
                    <div class="benefit-item">🎤 <strong>気軽な発表</strong><br>完璧でなくても大丈夫！</div>
                    <div class="benefit-item">🌟 <strong>多様性</strong><br>様々な話題が聞ける！</div>
                    <div class="benefit-item">🤝 <strong>交流促進</strong><br>新しい出会いとつながり！</div>
                </div>
            </div>
        </section>

        <section id="join" class="participation">
            <div class="container">
                <h2 class="section-title">🚀 参加方法</h2>

                <div class="participation-grid">
                    <div class="participation-card fade-in">
                        <div class="card-icon">👥</div>
                        <h3>聴講参加</h3>
                        <p>
                            様々な発表を聞いて楽しもう！<br>
                            新しい発見や学びがいっぱい！
                        </p>
                        <p class="card-note">現地参加・オンライン参加どちらでもOK</p>
                        <button class="btn" onclick="openRegistrationModal('listener')">参加登録</button>
                    </div>

                    <div class="participation-card fade-in">
                        <div class="card-icon">🎤</div>
                        <h3>事前発表申込み</h3>
                        <p>
                            5分間のライトニングトークで<br>
                            あなたの「なんでも」を発表！
                        </p>
                        <p class="card-note">技術・趣味・日常・なんでもOK！</p>
                        <button class="btn" onclick="openRegistrationModal('speaker')">発表申込み</button>
                    </div>

                    <div class="participation-card fade-in">
                        <div class="card-icon">⚡</div>
                        <h3>当日飛び入り発表</h3>
                        <p>
                            思い立ったらその場で発表！<br>
                            スポンテイニアスな発表も大歓迎！
                        </p>
                        <p class="card-note">準備不要！思いついたことを5分で！</p>
                        <button class="btn" onclick="showWalkinInfo()">詳細を見る</button>
                    </div>
                </div>

                <div class="topics-showcase fade-in">
                    <h3>📋 発表テーマ例</h3>
                    <div class="topics-grid">
                        <div class="topic-item" onclick="highlightTopic(this)" data-category="tech">💻 プログラミング・技術</div>
                        <div class="topic-item" onclick="highlightTopic(this)" data-category="hobby">🎨 趣味・アート・創作</div>
                        <div class="topic-item" onclick="highlightTopic(this)" data-category="learning">📚 読書・学習体験</div>
                        <div class="topic-item" onclick="highlightTopic(this)" data-category="travel">🌍 旅行・文化体験</div>
                        <div class="topic-item" onclick="highlightTopic(this)" data-category="food">🍳 料理・グルメ</div>
                        <div class="topic-item" onclick="highlightTopic(this)" data-category="game">🎮 ゲーム・エンタメ</div>
                        <div class="topic-item" onclick="highlightTopic(this)" data-category="lifehack">💡 ライフハック・効率化</div>
                        <div class="topic-item" onclick="highlightTopic(this)" data-category="pet">🐱 ペット・動物</div>
                        <div class="topic-item" onclick="highlightTopic(this)" data-category="garden">🌱 ガーデニング・植物</div>
                        <div class="topic-item" onclick="highlightTopic(this)" data-category="money">📈 投資・副業</div>
                        <div class="topic-item" onclick="highlightTopic(this)" data-category="sports">🏃‍♂️ スポーツ・健康</div>
                        <div class="topic-item" onclick="highlightTopic(this)" data-category="music">🎵 音楽・演奏</div>
                    </div>
                    <p style="text-align: center; margin-top: 1rem; color: var(--text-secondary);">
                        ...などなど、本当になんでもOK！あなたの「これ話したい！」を聞かせてください 🌟
                    </p>
                </div>
            </div>
        </section>
    </main>

    <footer id="contact">
        <div class="container">
            <h3>✨ なんでもライトニングトーク</h3>
            <p>5分間で世界が広がる。あなたの参加をお待ちしています！</p>
            <div class="footer-links">
                <a href="#privacy">プライバシーポリシー</a>
                <a href="#terms">利用規約</a>
                <a href="#contact">お問い合わせ</a>
            </div>
            <p class="copyright">
                © 2025 なんでもライトニングトーク. All rights reserved.
            </p>
        </div>
    </footer>

    <!-- チャットウィジェット -->
    <div class="chat-widget">
        <button class="chat-toggle" onclick="toggleChat()">
            💬 <span class="chat-notification-badge" style="display: none;">●</span>
        </button>
        <div class="chat-container" style="display: none;">
            <div class="chat-header">
                <h4>💬 イベントチャット</h4>
                <button class="chat-close" onclick="toggleChat()">&times;</button>
            </div>
            <div class="chat-messages">
                <div class="chat-welcome">
                    ようこそ！質問や感想をお気軽にどうぞ 🌟
                </div>
            </div>
            <div class="chat-input-container">
                <input type="text" class="chat-input" placeholder="メッセージを入力..." maxlength="200" onkeypress="handleChatEnter(event)">
                <button class="chat-send" onclick="sendChatMessage()">送信</button>
            </div>
        </div>
    </div>

    <!-- 登録モーダル -->
    <div id="registrationModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeRegistrationModal()">&times;</span>
            <div id="modalBody">
                <!-- モーダルコンテンツは JavaScript で動的に生成 -->
            </div>
        </div>
    </div>

    <script>
        // ===== グローバル変数 =====
        let surveyCounters = {
            online: parseInt(localStorage.getItem('onlineCount') || '0'),
            offline: parseInt(localStorage.getItem('offlineCount') || '0')
        };

        let chatMessages = JSON.parse(localStorage.getItem('chatMessages') || '[]');
        let participants = JSON.parse(localStorage.getItem('participants') || '[]');

        // ===== 初期化 =====
        document.addEventListener('DOMContentLoaded', function() {
            updateSurveyCounters();
            setupScrollAnimations();
            setupSmoothScroll();
            loadChatMessages();
        });

        // ===== スクロールアニメーション =====
        function setupScrollAnimations() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.fade-in').forEach(el => {
                observer.observe(el);
            });
        }

        // ===== スムーススクロール =====
        function setupSmoothScroll() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        }

        // ===== モバイルメニュー =====
        function toggleMobileMenu() {
            const navLinks = document.querySelector('.nav-links');
            navLinks.style.display = navLinks.style.display === 'flex' ? 'none' : 'flex';
        }

        // ===== アンケート機能 =====
        function incrementSurvey(type) {
            surveyCounters[type]++;
            localStorage.setItem(type + 'Count', surveyCounters[type]);
            updateSurveyCounters();
            
            // フィードバック表示
            showNotification(`${type === 'online' ? 'オンライン' : '現地'}参加にカウントしました！`);
        }

        function updateSurveyCounters() {
            document.getElementById('onlineCount').textContent = surveyCounters.online;
            document.getElementById('offlineCount').textContent = surveyCounters.offline;
        }

        // ===== 通知表示 =====
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: var(--primary-gradient);
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 10px;
                box-shadow: var(--shadow);
                z-index: 3000;
                animation: slideInRight 0.3s ease;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // ===== 登録モーダル =====
        function openRegistrationModal(type = 'general') {
            const modal = document.getElementById('registrationModal');
            const modalBody = document.getElementById('modalBody');
            
            modalBody.innerHTML = getRegistrationForm(type);
            modal.classList.add('active');
        }

        function closeRegistrationModal() {
            document.getElementById('registrationModal').classList.remove('active');
        }

        function getRegistrationForm(type) {
            const titles = {
                general: '📝 当日参加申込み',
                listener: '👥 聴講参加登録',
                speaker: '🎤 発表申込み'
            };

            let form = `
                <h2>${titles[type]}</h2>
                <form onsubmit="handleRegistration(event, '${type}')">
                    <div class="form-group">
                        <label for="name">お名前 *</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">メールアドレス *</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="participationType">参加方法 *</label>
                        <select id="participationType" name="participationType" required>
                            <option value="">選択してください</option>
                            <option value="online">オンライン参加</option>
                            <option value="offline">現地参加</option>
                        </select>
                    </div>
            `;

            if (type === 'speaker') {
                form += `
                    <div class="form-group">
                        <label for="talkTitle">発表タイトル *</label>
                        <input type="text" id="talkTitle" name="talkTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="talkDescription">発表内容（簡単な説明）</label>
                        <textarea id="talkDescription" name="talkDescription" placeholder="発表内容を簡単に説明してください"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="category">カテゴリー</label>
                        <select id="category" name="category">
                            <option value="">選択してください</option>
                            <option value="tech">プログラミング・技術</option>
                            <option value="hobby">趣味・アート・創作</option>
                            <option value="learning">読書・学習体験</option>
                            <option value="travel">旅行・文化体験</option>
                            <option value="food">料理・グルメ</option>
                            <option value="game">ゲーム・エンタメ</option>
                            <option value="lifehack">ライフハック・効率化</option>
                            <option value="pet">ペット・動物</option>
                            <option value="garden">ガーデニング・植物</option>
                            <option value="money">投資・副業</option>
                            <option value="sports">スポーツ・健康</option>
                            <option value="music">音楽・演奏</option>
                            <option value="other">その他</option>
                        </select>
                    </div>
                `;
            }

            form += `
                    <div class="form-group">
                        <label for="message">メッセージ（任意）</label>
                        <textarea id="message" name="message" placeholder="ご質問やご要望があればお聞かせください"></textarea>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" name="newsletter"> 
                            今後のイベント情報を受け取る
                        </label>
                    </div>
                    <button type="submit" class="btn" style="width: 100%; margin-top: 1rem;">
                        ${type === 'speaker' ? '発表申込み' : '参加登録'}
                    </button>
                </form>
            `;

            return form;
        }

        function handleRegistration(event, type) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const data = Object.fromEntries(formData.entries());
            data.type = type;
            data.timestamp = new Date().toISOString();

            // ローカルストレージに保存
            participants.push(data);
            localStorage.setItem('participants', JSON.stringify(participants));

            showNotification('登録が完了しました！ありがとうございます。');
            closeRegistrationModal();
        }

        // ===== トピックハイライト =====
        function highlightTopic(element) {
            document.querySelectorAll('.topic-item').forEach(item => {
                item.classList.remove('active');
            });
            element.classList.add('active');
            
            const category = element.dataset.category;
            showNotification(`${element.textContent} カテゴリーを選択しました！`);
        }

        // ===== 飛び入り発表情報 =====
        function showWalkinInfo() {
            const modal = document.getElementById('registrationModal');
            const modalBody = document.getElementById('modalBody');
            
            modalBody.innerHTML = `
                <h2>⚡ 当日飛び入り発表について</h2>
                <div style="text-align: left;">
                    <h3>🎤 飛び入り発表とは？</h3>
                    <p>事前申込みなしで、当日その場で発表できるシステムです！</p>
                    
                    <h3>📋 参加方法</h3>
                    <ul>
                        <li>イベント当日、現地またはオンラインで参加</li>
                        <li>発表希望者は開始前に運営スタッフに声をかける</li>
                        <li>発表順序は当日抽選で決定</li>
                    </ul>
                    
                    <h3>⏰ 発表時間</h3>
                    <ul>
                        <li>1人5分間（準備込み）</li>
                        <li>質疑応答は基本的になし</li>
                        <li>資料は任意（なくてもOK）</li>
                    </ul>
                    
                    <h3>💡 発表のコツ</h3>
                    <ul>
                        <li>完璧である必要はありません</li>
                        <li>あなたの体験や発見を聞かせてください</li>
                        <li>楽しむことが一番重要！</li>
                    </ul>
                    
                    <p style="text-align: center; margin-top: 2rem;">
                        <strong>思いついたら即参加！それがライトニングトークの醍醐味です⚡</strong>
                    </p>
                </div>
                <button onclick="closeRegistrationModal()" class="btn" style="width: 100%; margin-top: 1rem;">
                    了解しました
                </button>
            `;
            
            modal.classList.add('active');
        }

        // ===== チャット機能 =====
        function toggleChat() {
            const container = document.querySelector('.chat-container');
            const isVisible = container.style.display !== 'none';
            container.style.display = isVisible ? 'none' : 'block';
            
            if (!isVisible) {
                document.querySelector('.chat-notification-badge').style.display = 'none';
            }
        }

        function sendChatMessage() {
            const input = document.querySelector('.chat-input');
            const message = input.value.trim();
            
            if (message) {
                addChatMessage('あなた', message);
                input.value = '';
                
                // 簡単な自動返信
                setTimeout(() => {
                    const responses = [
                        'ありがとうございます！🌟',
                        'いいですね！💫',
                        'そのテーマ面白そうです！⚡',
                        'ぜひ発表お待ちしています！🎤'
                    ];
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                    addChatMessage('運営', randomResponse);
                }, 1000);
            }
        }

        function handleChatEnter(event) {
            if (event.key === 'Enter') {
                sendChatMessage();
            }
        }

        function addChatMessage(sender, message) {
            const messagesContainer = document.querySelector('.chat-messages');
            const messageElement = document.createElement('div');
            messageElement.style.cssText = `
                margin: 0.5rem 0;
                padding: 0.5rem;
                border-radius: 10px;
                ${sender === 'あなた' ? 
                    'background: var(--primary-gradient); color: white; margin-left: 2rem; text-align: right;' : 
                    'background: var(--bg-light); margin-right: 2rem;'
                }
            `;
            messageElement.innerHTML = `<strong>${sender}:</strong> ${message}`;
            
            messagesContainer.appendChild(messageElement);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            // ローカルストレージに保存
            chatMessages.push({ sender, message, timestamp: new Date().toISOString() });
            localStorage.setItem('chatMessages', JSON.stringify(chatMessages));
        }

        function loadChatMessages() {
            const messagesContainer = document.querySelector('.chat-messages');
            chatMessages.forEach(msg => {
                if (msg.sender !== 'システム') {
                    const messageElement = document.createElement('div');
                    messageElement.style.cssText = `
                        margin: 0.5rem 0;
                        padding: 0.5rem;
                        border-radius: 10px;
                        ${msg.sender === 'あなた' ? 
                            'background: var(--primary-gradient); color: white; margin-left: 2rem; text-align: right;' : 
                            'background: var(--bg-light); margin-right: 2rem;'
                        }
                    `;
                    messageElement.innerHTML = `<strong>${msg.sender}:</strong> ${msg.message}`;
                    messagesContainer.appendChild(messageElement);
                }
            });
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // ===== ヘッダースクロール効果 =====
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (window.scrollY > 100) {
                header.style.background = 'rgba(255, 255, 255, 0.95)';
                header.style.backdropFilter = 'blur(10px)';
            } else {
                header.style.background = 'var(--white)';
                header.style.backdropFilter = 'none';
            }
        });

        // ===== CSS アニメーション追加 =====
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOutRight {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>